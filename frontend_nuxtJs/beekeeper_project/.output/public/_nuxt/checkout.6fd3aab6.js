import{k as A,l as L,a as Z,o as v,b as k,f as i,z as g,A as J,r as K,B as q,C as S,v as D,e as x,p as T,q as B,t as z,F as X,m as Q,c as O,x as I,E as ee,j as te,s as H,G as ie}from"./entry.1ad51745.js";import{B as se,P as oe}from"./BasketInfo.a8e9daeb.js";import{c as U,r as W,u as re}from"./index.a3c00bc5.js";import{O as ne}from"./OrderProductList.e1d610f6.js";async function F(n){try{var d=await A({url:`${L}api/v0.1/user/number`,method:"get",headers:{},withCredentials:!0,data:n});return d}catch(p){return p.response}}function ae(n){var d={label:"iWidjet",params:{}};typeof n>"u"&&(n={});for(var p in d)typeof n[p]>"u"&&(n[p]=d[p]);var o=n.label,f=n.params;this.options={get:function(e){return u.get(e)},set:function(e,t){u.set(e,t)}},this.binders={add:function(e,t){w.addBind(e,t)},trigger:function(e,t){w.trigger(e,t)}},this.states={check:function(e){m.check(e)}},this.service={cloneObj:function(e){return r.cloneObj(e)},concatObj:function(e,t){return r.concatObj(e,t)},isEmpty:function(e){return r.isEmpty(e)},inArray:function(e,t){return r.inArray(e,t)},loadTag:function(e,t,a){r.loadTag(e,t,a)}},this.logger={warn:function(e){return h.warn(e)},error:function(e){return h.error(e)},log:function(e){return h.log(e)}};var h={warn:function(e){this.check("warn")&&console.warn(o+": ",e)},error:function(e){this.check("error")&&console.error(o+": ",e)},log:function(e){if(this.check("log"))if(typeof e=="object"){console.log(o+": ");for(var t in e)console.log(t,e[t])}else console.log(o+": ",e)},check:function(e){var t=!1;switch(e){case"warn":t=u.check(!0,"showWarns");break;case"error":t=u.check(!0,"showErrors");break;case"log":t=u.check(!0,"showLogs");break}return t&&u.check(!1,"hideMessages")}},r={cloneObj:function(e){var t=!1;if(typeof e!="object")return t;if(arguments.length===1){t={};for(var a in e)t[a]=e[a]}else{t=[];for(var a in e)t.push(e[a])}return t},concatObj:function(e,t){if(typeof e=="object"&&typeof t=="object")for(var a in t)e[a]=t[a];return e},isEmpty:function(e){var t=!0;if(typeof e=="object")for(var a in e){t=!1;break}else t=e;return t},inArray:function(e,t){return t.filter(function(a){return a==e}).length},loadTag:function(e,t,a){var l=!1;typeof t>"u"||t==="script"?(l=document.createElement("script"),l.src=e,l.type="text/javascript",l.language="javascript"):(l=document.createElement("link"),l.href=e,l.rel="stylesheet",l.type="text/css");var _=document.getElementsByTagName("head")[0];_.appendChild(l),typeof a<"u"&&(l.onload=a,l.onreadystatechange=function(){(this.readyState==="complete"||this.readyState==="loaded")&&l.onload()})}},u={self:this,options:{showWarns:{value:!0,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},showErrors:{value:!0,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},showLogs:{value:!0,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},hideMessages:{value:!1,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},mode:{value:"all",check:function(e){return typeof e=="string"},setting:"start",hint:"Value must be string (pvz / postamat)"}},check:function(e,t,a){var l=this.get(t);return l===null?null:typeof a>"u"?e===l:e==l},get:function(e){return typeof this.options[e]<"u"?this.options[e].value:(h.warn('Undefined option "'+e+'"'),null)},set:function(e,t){if(typeof this.options[t]>"u")h.warn("Undefined option to set : "+t);else if(typeof this.options[t].check!="function"||this.options[t].check.call(this.self,e))this.options[t].value=e;else{var a=typeof this.options[t].hint<"u"&&this.options[t].hint?": "+this.options[t].hint:!1;h.warn("Incorrect setting value ("+e+") for option "+t+a)}},iniSetter:function(e,t){for(var a in u.options)u.options[a].setting===t&&typeof e[a]<"u"&&u.set(e[a],a)}},w={events:{onStart:[]},trigger:function(e,t){if(typeof this.events[e]>"u")h.error("Unknown event "+e);else if(this.events[e].length>0)for(var a in this.events[e])this.events[e][a](t)},iniSetter:function(e){for(var t in this.events)if(this.events.hasOwnProperty(t)&&typeof e[t]<"u")if(typeof e[t]=="object")for(var a in e[t])this.addBind(e[t][a],t);else this.addBind(e[t],t)},addBind:function(e,t){typeof e=="function"?this.events[t].push(e):h.warn('The callback "'+e+'" for '+t+" is not a function")}},m={self:this,states:{start:{_start:!1}},check:function(e){var t=!1;for(var a in this.states){for(var l in this.states[a])l===e&&(this.states[a][l]=!0,t=a);if(t)break}if(t){var _=!0;for(var y in this.states[t])if(!this.states[t][y]){_=!1;break}_&&typeof j[t]<"u"&&(u.iniSetter(f,t),j[t].call(this.self,f))}else e==="started"?h.error("No callbacks for starting"):h.error("Unknown state of loading: "+e)}},j={start:function(e){w.iniSetter(e),w.trigger("onStart"),m.check("started")}},s={options:"object",states:"object",loaders:"funciton",stages:"object",events:"string"};for(var p in s)if(typeof n[p]<"u"){for(var c in n[p])if({}.hasOwnProperty.call(n[p],c))if(typeof n[p][c]!==s[p])h.error("Illegal "+p+' "'+c+'": '+n[p][c]);else switch(p){case"options":u.options[c]=r.cloneObj(n.options[c]);break;case"states":m.states[c]=r.cloneObj(n.states[c]);break;case"loaders":j[c]=n.loaders[c];break;case"events":w.events[n.events[c]]=[];break;case"stages":typeof n.stages[c].states!="object"||typeof n.stages[c].function!="function"?h.error('Illegal stage "'+c+'": '+n[p][c]):(m.states[c]=r.cloneObj(n.stages[c].states),j[c]=n.stages[c].function);break}}m.check("_start")}function ce(n){if(!n.path){var d="https://widget.cdek.ru/widget/widjet.js";d=d.substring(0,d.indexOf("widjet.js"))+"scripts/",n.path=d}n.servicepath||(n.servicepath=n.path+"service.php"),n.templatepath||(n.templatepath=n.path+"template.php"),n.currency||(n.currency="RUB");var p={onJSPCSSLoad:function(){o.states.check("JSPCSS")},onStylesLoad:function(){o.states.check("JSPCSS"),o.states.check("styles")},onIPJQLoad:function(){o.states.check("jquery")},onJSPJSLoad:function(){o.states.check("JSPJS")},onPVZLoad:function(){o.states.check("PVZ")},onDataLoad:function(){o.states.check("data")},onLANGLoad:function(){o.states.check("lang")},onYmapsLoad:function(){o.states.check("ymaps")},onYmapsReady:function(){o.states.check("mapsReady")},onYmapsInited:function(){o.states.check("mapsInited")},onCityFrom:function(){o.states.check("cityFrom")}},o=new ae({label:"ISDEKWidjet",options:{path:{value:n.path,check:function(e){return typeof e=="string"},setting:"start",hint:"Value must be string (url)"},servicepath:{value:n.servicepath,check:function(e){return typeof e=="string"},setting:"start",hint:"Value must be string (url)"},templatepath:{value:n.templatepath,check:function(e){return typeof e=="string"},setting:"start",hint:"Value must be string (url)"},country:{value:"all",check:function(e){return typeof e=="string"},setting:"start",hint:"Value must be string (countryname)"},lang:{value:"rus",check:function(e){return typeof e=="string"},setting:"start",hint:"Value must be string (laguage name)"},link:{value:n.link,check:function(e){return e===!1?!0:ipjq("#"+e).length>0},setting:"afterJquery",hint:"No element whit this id to put the widjet"},defaultCity:{value:n.defaultCity,check:function(e){return this.city.check(e)!==!1},setting:"dataLoaded",hint:"Default City wasn't founded"},choose:{value:!0,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},hidedress:{value:!1,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},hidecash:{value:!1,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},hidedelt:{value:!1,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},popup:{value:!1,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},region:{value:!1,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},detailAddress:{value:!1,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},apikey:{value:"f4e034c2-8c37-4168-8b97-99b6b3b268d7",check:function(e){return typeof e=="string"},setting:"start",hint:"Value must be string (apikey)"},goods:{value:!1,check:function(e){if(typeof e!="object"||typeof e.width<"u")return!1;for(var t in e)if(typeof e[t].length>"u"||!e[t].length||typeof e[t].width>"u"||!e[t].width||typeof e[t].height>"u"||!e[t].height||typeof e[t].weight>"u"||!e[t].weight)return!1;return!0},setting:"start",hint:"Value must be an array of objects of type {length:(float),width:(float),height(float),weight(float)}"},cityFrom:{value:n.cityFrom,check:function(e){return this.city.check(e)!==!1},setting:"dataLoaded",hint:"City From wasn't founded"},currency:{value:n.currency,check:function(e){return["RUB","KZT","USD","EUR","GBP","CNY","BYN","UAH","KGS","AMD","TRY","THB","KRW","AED","UZS","MNT"].indexOf(e)!==-1},setting:"start",hint:"Currency wasn't founded"}},events:["onChoose","onChooseProfile","onChooseAddress","onReady","onCalculate"],stages:{mainInit:{states:{started:!1},function:function(){this.service.loadTag(this.options.get("path")+"ipjq.js","script",p.onIPJQLoad);var e=this.options.get("lang")=="rus"?"ru_RU":"en_GB";this.service.loadTag("https://api-maps.yandex.ru/2.1/?apikey="+this.options.get("apikey")+"&lang="+e,"script",p.onYmapsLoad),this.service.loadTag(this.options.get("path")+"style.css","link",p.onStylesLoad)}},afterJquery:{states:{jquery:!1},function:function(){this.service.loadTag(this.options.get("path")+"jquery.mCustomScrollbar.concat.min.js","script",p.onJSPJSLoad),ipjq.getJSON(o.options.get("servicepath"),{isdek_action:"getPVZ",country:this.options.get("country"),lang:this.options.get("lang"),mode:this.options.get("mode")},r.parsePVZFile),ipjq.getJSON(o.options.get("servicepath"),{isdek_action:"getLang",lang:this.options.get("lang")},m.write)}},ymapsBinder1:{states:{ymaps:!1},function:function(){ymaps.ready(p.onYmapsReady())}},ymapsBinder2:{states:{mapsReady:!1},function:function(){f()}},dataLoaded:{states:{JSPCSS:!1,JSPJS:!1,PVZ:!1,styles:!1,lang:!1},function:function(){p.onDataLoad(),o.options.get("cityFrom")?ipjq.getJSON(o.options.get("servicepath"),{isdek_action:"getCity",city:o.options.get("cityFrom")},function(e){typeof e.error>"u"?u.cityFrom=e.id:o.logger.warn("City from was't found "+e.error),p.onCityFrom("onCityFrom")}):p.onCityFrom("onCityFrom")}},ready:{states:{data:!1,mapsInited:!1,cityFrom:!1},function:function(){o.options.get("defaultCity")!="auto"&&r.city.set(o.options.get("defaultCity")),c.readyA=!0,c.html.loadCityList(r.city.collection),o.popupped?o.loadedToAction=!0:o.finalAction()}}},params:n});o.popupped=!1,o.loadedToAction=!1,o.finalActionCalled=!1,o.loaderHided=!1,o.finalAction=function(){o.finalActionCalled!==!0&&(o.finalActionCalled=!0,c.controller.loadCity(),this.sdekWidgetEvents(),this.binders.trigger("onReady"))},o.hideLoader=function(){o.loaderHided||(o.loaderHided=!0,ipjq(s.get("PRELOADER")).fadeOut(300),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search, .CDEK-widget__sidebar, .CDEK-widget__logo").removeClass("CDEK-widget__inaccessible"))};function f(){typeof o.incrementer>"u"&&(o.incrementer=0),typeof ymaps.geocode!="function"?o.incrementer++>50?o.logger.error("Unable to load ymaps"):window.setTimeout(f,500):p.onYmapsInited()}var h={blocks:{},getBlock:function(e,t){if(typeof h.blocks[e]<"u"){var a=h.blocks[e];if(typeof t=="object")for(var l in t)a=a.replace(new RegExp("#"+l+"#","g"),t[l]);return a=s.replaceAll(m.replaceAll(a)),a}return""},save:function(e){h.blocks=e,c.html.place()}},r={regions:{collection:{},cityes:{},map:{}},listCityCode:[3037],currentCityName:"",currentCityCode:0,city:{indexOfSome:function(e,t){for(var a in t)if(t[a]==e)return a;return!1},collection:{},collectionFull:{},current:!1,get:function(){return this.current},set:function(e,t=!1){return this.checkCity(e)?typeof this.collection[e]>"u"&&!t&&!(e=this.indexOfSome(e,this.collection))?!1:(this.current=e,e):(o.logger.error("Unknown city: "+e),!1)},checkCity:function(e){return typeof this.collection[e]<"u"||this.indexOfSome(e,this.collection)>-1},getName:function(e){return this.checkCity(e)?(typeof this.collection[e]>"u"&&(e=this.indexOfSome(e,this.collection)),this.collection[e]):!1},getFullName:function(e){return this.checkCity(e)?(typeof this.collectionFull[e]>"u"&&(e=this.indexOfSome(e,this.collectionFull)),this.collectionFull[e]):!1},getId:function(e){return this.checkCity(e)?(typeof this.collection[e]>"u"&&(e=this.indexOfSome(e,this.collection)),e):!1}},PVZ:{collection:{},bycoord:{},bycoordCur:0,check:function(e){return r.city.checkCity(e)&&typeof this.collection[e]<"u"},getCityPVZ:function(e){if(r.listCityCode.includes(Number(e)))return r.currentCityName==="Р РѕСЃСЃРёСЏ РњРѕСЃРєРІР° РњРѕСЃРєРІР°"?this.collection[44]:this.collection[e+"_distance"];if(this.check(e))return this.collection[e];o.logger.error("No PVZ in city "+e)},getRegionPVZ:function(e){if(this.check(e)){let t={},a=r.regions.cityes[e],l=[];return l.push(...r.regions.map[a]),a===81&&l.push(...r.regions.map[9]),a===9&&l.push(...r.regions.map[81]),a===82&&l.push(...r.regions.map[26]),a===26&&l.push(...r.regions.map[82]),l.forEach((_,y,b)=>{var C=r.PVZ.collection[_];for(let E in C)t[E]=C[E]}),t}else o.logger.error("No PVZ in city "+e)},getCurrent:function(){let e=r.city.current;return r.currentCityCode!==0&&(e=r.currentCityCode),o.options.get("region")?this.getRegionPVZ(e):this.getCityPVZ(e)}},address:{current:!1,get:function(){return r.address.current},set:function(e){r.address.current=e},fill:function(e){r.address.set(e)}},parsePVZFile:function(e){if(typeof e.pvz>"u"){console.log(e);var t="Unable to load list of PVZ : ";if(typeof e.pvz>"u"){for(var a in e.error)t+=e.error[a]+", ";t=t.substr(0,t.length-2)}else t+="unknown error.";o.logger.error(t)}else{typeof e.pvz.REGIONS<"u"&&(r.regions.collection=e.pvz.REGIONS,r.regions.cityes=e.pvz.CITYREG,r.regions.map=e.pvz.REGIONSMAP);for(var l in e.pvz.PVZ)r.listCityCode.includes(Number(l))&&(r.PVZ.collection[44]={...r.PVZ.collection[44],...e.pvz.PVZ[l]}),r.PVZ.collection[l]=e.pvz.PVZ[l],typeof e.pvz.CITY[l]<"u"&&typeof r.city.collection[l]>"u"&&(r.city.collection[l]=e.pvz.CITY[l],r.city.collectionFull[l]=e.pvz.CITYFULL[l]);p.onPVZLoad()}}},u={bad:!1,profiles:{courier:{price:0,currency:"RUB",term:0,tarif:!1},pickup:{price:0,currency:"RUB",term:0,tarif:!1}},history:[],defaultGabs:{length:20,width:30,height:40,weight:1},cityFrom:!1,binder:{},calculate:function(e=!1){if(this.cityFrom){let a=this.history.findIndex(_=>_.code===parseInt(r.city.current)&&_.type==="courier"&&_.weight===w.getWeight()),l=this.history.findIndex(_=>_.code===parseInt(r.city.current)&&_.type==="pickup"&&_.weight===w.getWeight());if(a!==-1&&l!==-1){for(var t in this.profiles){let _=t==="pickup"?l:a;_!==-1&&(this.profiles[t].price=this.history[_].price,this.profiles[t].term=this.history[_].term,this.profiles[t].tarif=this.history[_].tarif)}o.binders.trigger("onCalculate",{profiles:o.service.cloneObj(u.profiles),city:r.city.current,cityName:r.city.getName(r.city.current)})}else{let _=Date.now();r.city.current===63015&&(r.city.current=1195),this.binder[parseInt(r.city.current)]={};for(let y in this.profiles)this.profiles[y].price=null,this.profiles[y].term=null,this.profiles[y].tarif=!1,this.request(y,_,e)}}else o.logger.warn("No city from given: calculation is impossible")},request:function(e,t,a=!1){var l={type:e};if(typeof w.get()[0]<"u"){var _=w.get();l.goods=[];for(var y in _)l.goods.push(_[y])}else l.goods=[this.defaultGabs];l.cityFromId=this.cityFrom,l.cityToId=a?r.city.get():r.city.getId(r.city.current),l.currency=o.options.get("currency"),l.tariffList=[483],typeof t<"u"&&(l.timestamp=t),r.city.current&&ipjq.getJSON(o.options.get("servicepath"),{isdek_action:"calc",shipment:l},u.onCalc)},onCalc:function(e){if(console.log(21321231,e.error),typeof e.error<"u"){u.bad=!0;var t="",a=!1;for(var l in e.error)if(typeof e.error[l]=="object")for(var _ in e.error[l])t+=e.error[l][_].text+" ("+e.error[l][_].code+"), ",e.error[l][_].code===3&&(a=!0);else t+=e.error[l]+", ";a?(o.logger.warn("Troubles while calculating: "+t.substring(0,t.length-2)),typeof e.type<"u"&&(u.profiles[e.type].price=!1,u.profiles[e.type].term=!1,u.profiles[e.type].tarif=!1)):o.logger.error("Error while calculating: "+t.substring(0,t.length-2))}else u.bad=!1,u.profiles[e.type].price=e.result.price,u.profiles[e.type].currency=e.result.currency,u.profiles[e.type].term=e.result.deliveryPeriodMax===e.result.deliveryPeriodMin?e.result.deliveryPeriodMin:e.result.deliveryPeriodMin+"-"+e.result.deliveryPeriodMax,u.profiles[e.type].tarif=typeof e.result.tarif<"u"?e.result.tarif:e.result.tariffId,u.history.push({code:parseInt(r.city.current),weight:w.getWeight(),type:e.type,price:e.result.price,currency:e.result.currency,term:u.profiles[e.type].term,tarif:u.profiles[e.type].tarif});if(typeof e.type<"u"&&typeof u.binder[parseInt(r.city.current)]<"u"){u.binder[parseInt(r.city.current)][e.type]=!0;for(var l in u.profiles)if(typeof u.binder[parseInt(r.city.current)][l]>"u")return!1;o.binders.trigger("onCalculate",{profiles:o.service.cloneObj(u.profiles),city:r.city.current,cityName:r.city.getName(r.city.current)})}}},w={collection:typeof o.options.get("goods")=="object"?o.options.get("goods"):[],add:function(e){typeof e!="object"||typeof e.length>"u"||typeof e.width>"u"||typeof e.height>"u"||typeof e.weight>"u"?o.logger.error("Illegal item "+e):(this.collection.push({length:e.length,width:e.width,height:e.height,weight:e.weight}),o.calculate())},reset:function(){this.collection=[]},get:function(){return o.service.cloneObj(this.collection)},getWeight:function(){return this.collection.reduce((e,t)=>e+t.weight,0)}},m={collection:{},replaceAll:function(e){for(var t in this.collection)e=e.replace(new RegExp("#"+t+"#","g"),this.collection[t]);return e},get:function(e){return typeof this.collection[e]<"u"?this.collection[e]:(o.logger.warn("No lang string with key "+e),"")},write:function(e){if(ipjq.getJSON(o.options.get("templatepath"),{},h.save),typeof e.LANG>"u"){var t="Unable to load land-file : ";if(typeof e.error<"u"){for(var a in e.error)t+=e.error[a]+", ";t=t.substr(0,t.length-2)}else t+="unknown error.";o.logger.error(t)}else m.collection=o.service.cloneObj(e.LANG),p.onLANGLoad()}},j=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<5;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},s={WID:j()+"_",options:{MAP:"SDEK_map",PRELOADER:"preloader"},replaceAll:function(e){for(var t in this.options)e=e.replace(new RegExp("#"+t+"#","g"),this.WID+this.options[t].replace("#",""));return e.replace(new RegExp("#WID#","g"),this.WID)},get:function(e){return typeof this.options[e]<"u"?"#"+this.WID+this.options[e]:"#"+this.WID+e}},c={readyA:!1,html:{get:function(){return h.getBlock("widget",{CITY:o.options.get("defaultCity")})},makeADAPT:function(){if(!o.options.get("link")){var e=ipjq(s.get("cdek_widget_cnt")).outerHeight();e<476||ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list__box, .mCustomScrollBox").css("max-height","auto"),e<ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__box").outerHeight()+56?ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").css("max-height",e-56+"px"):ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__box").outerHeight()!==0&&ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").css("max-height",ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__box").outerHeight()+"px")}},makeFULLSCREEN:function(){this.makeADAPT(),ipjq(window).resize(this.makeADAPT())},place:function(){var e=this.get();o.options.get("link")?ipjq("#"+o.options.get("link")).html(e):o.options.get("popup")?(o.popupped=!0,e=h.getBlock("popup",{WIDGET:e}),ipjq("body").append(e),this.makeFULLSCREEN()):(e=ipjq(e),e.css("position","fixed"),e.css("top",0),e.css("left",0),e.css("z-index",1e3),ipjq("body").append(e),this.makeFULLSCREEN()),o.options.get("choose")||ipjq(s.get("cdek_widget_cnt")).addClass("nochoose");var t=h.getBlock("sidebar");if(o.options.get("hidecash")){var a=[];a.push(t.slice(0,1476)),a.push(t.slice(2693)),t=a.join("")}if(o.options.get("hidedress")){var a=[];a.push(t.slice(0,o.options.get("hidecash")?1476:2693)),a.push(t.slice(t.indexOf("<hr>"))),t=a.join("")}o.options.get("hidedelt")&&ipjq(s.get("cdek_delivery_types")).hide(),ipjq(s.get("sidebar")).html(t),this.makeADAPT()},loadedCities:[],setDefaultCities(){const e=ipjq(s.get("city_list"));e.empty(),this.loadedCities.slice(0,7).forEach(a=>{const l=h.getBlock("city",a);e.prepend(l)})},loadCityList:function(e){this.loadedCities=[];for(const t in e)this.loadedCities.push({CITYID:t,CITYNAME:e[t],CITY_DETAILS:typeof r.regions.collection[t]<"u"?r.regions.collection[t]:"&nbsp;"});this.setDefaultCities()},updatePrices:function(e){if(ipjq(s.get("cdek_widget_cnt")).find(s.get("cdek_delivery_types")+" div.CDEK-widget__delivery-type__item").remove(),typeof e>"u"||e.length==0)ipjq(s.get("cdek_widget_cnt")).find(s.get("cdek_delivery_type_title span.CDEK_choose")).hide(),ipjq(s.get("cdek_widget_cnt")).find(s.get("cdek_delivery_type_title span.CDEK_no-avail")).show(),ipjq(s.get("cdek_widget_cnt")).find(s.get("cdek_delivery_type_none")).show();else{ipjq(s.get("cdek_widget_cnt")).find(s.get("cdek_delivery_type_title span.CDEK_choose")).show(),ipjq(s.get("cdek_widget_cnt")).find(s.get("cdek_delivery_type_title span.CDEK_no-avail")).hide(),ipjq(s.get("cdek_widget_cnt")).find(s.get("cdek_delivery_type_none")).hide();for(var t in e)switch(t){case"courier":case"pickup":if(!u.bad||e[t].price!==!1){var a=h.getBlock("d_"+t,{SUMM:e[t].price===null?m.get("COUNTING"):e[t].price,CURR:e[t].price===null?"":m.get(e[t].currency),TIME:e[t].term===null?"":e[t].term,DAY:e[t].term===null?"":m.get("DAY")});ipjq(s.get("cdek_delivery_types")).append(a)}}}this.makeADAPT()},hideMap:function(){ipjq(s.get("MAP")).css("display","none"),ipjq(s.get("cdek_widget_cnt")).find("#SDEK_info").css("display","none")}},controller:{getCity:function(){return r.city.get()},loadCity:function(e){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-details__back").click(),(typeof e>"u"||e!=!0)&&this.calculate(),this.updatePrices(),c.ymaps.init(r.city.current)},selectCity:function(e){typeof e=="object"&&(e=e.data.name),(typeof e>"u"||!e)&&(e=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul li").not(".no-active").first().data("cityid")),r.city.set(e),c.controller.loadCity(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]").val(r.city.getName(e)),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul li").removeClass("focus").addClass("no-active").parent("ul").removeClass("open"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]")[0].blur(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__button").attr("class","CDEK-widget__delivery-type__button"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__item").removeClass("active"),setTimeout(function(){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").removeClass("CDEK-widget__delivery-type_close")},1e3),c.ui.addressSearch.ifOn()&&c.ui.addressSearch.hide()},putCity:function(e){typeof e=="object"&&(e=e.data.name),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]").val(r.city.getName(e)),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul li").removeClass("focus").addClass("no-active").parent("ul").removeClass("open")},updatePrices:function(){c.html.updatePrices({courier:u.profiles.courier,pickup:u.profiles.pickup})},calculate:function(e=!1){u.calculate(e)},chooseDeliveryType:function(){if(c.ui.addressSearch.ifOn()&&c.ui.addressSearch.hide(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul").hasClass("open")){var e=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul").find("li.focus");e.length!=0?c.controller.selectCity(e.find(".CDEK-widget__search-list__city-name").text()):c.controller.selectCity(),setTimeout(function(){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").removeClass("CDEK-widget__delivery-type_close")},1e3);return}ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").removeClass("CDEK-widget__delivery-type_close")},choosePVZ:function(e){var t=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__item:last");t.hasClass("active")||(t.attr("class","CDEK-widget__delivery-type__item").addClass("active"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__item:first").attr("class","CDEK-widget__delivery-type__item").removeClass("active"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__button").attr("class","CDEK-widget__delivery-type__button").addClass("CDEK-widget__delivery-type__button_pvz"));var a=r.PVZ.getCurrent();o.binders.trigger("onChoose",{id:e,PVZ:a[e],price:u.profiles.pickup.price,currency:u.profiles.pickup.currency,term:u.profiles.pickup.term,tarif:u.profiles.pickup.tarif,city:r.city.current,cityName:r.city.getName(r.city.current)}),o.options.get("link")||this.close()},chooseCOURIER:function(){o.binders.trigger("onChooseProfile",{id:"courier",city:r.city.current,cityName:r.city.getName(r.city.current),price:u.profiles.courier.price,currency:u.profiles.courier.currency,term:u.profiles.courier.term,tarif:u.profiles.courier.tarif}),!c.ui.active&&!o.options.get("link")?this.close():c.ui.addressSearch.ifOn()&&(c.ui.addressSearch.show(),c.ui.addressSearch.fill())},open:function(){o.options.get("link")?o.logger.error("This widjet is in non-floating mode - link is set"):c.ui.open()},close:function(){o.options.get("link")?o.logger.error("This widjet is in non-floating mode - link is set"):c.ui.close()}},ui:{currentmark:!1,markChozenPVZ:function(e){c.ymaps.selectMark(e.data.id)},choosePVZ:function(e){c.controller.choosePVZ(e.data.id)},addressSearch:{active:!1,getInput:function(){return ipjq(s.get("cdek_courier_address_place"))},ifOn:function(){return o.options.get("detailAddress")},show:function(){c.ui.addressSearch.active=!0,ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__courier-address__box").removeClass("CDEK-widget__courier-address__box_close")},hide:function(){c.ui.addressSearch.active=!1,c.ui.addressSearch.killBaloon(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__courier-address__box").addClass("CDEK-widget__courier-address__box_close")},fill:function(){r.city.getName()&&c.ui.addressSearch.getInput().val(r.city.getName(c.controller.getCity())+", "),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__courier-address__button").addClass("allowed")},mapClick:function(e){c.ui.addressSearch.active&&typeof e<"u"&&(c.ymaps.centerAddr(e.geometry.getCoordinates()),c.ui.addressSearch.getInput().val(e.properties.get("text")),c.ui.addressSearch.makeBaloon(e.geometry.getCoordinates(),e.properties.get("text")))},search:function(){c.ymaps.getSearchAddress(c.ui.addressSearch.getInput().val(),c.ui.addressSearch.found)},found:function(e){c.ui.addressSearch.killBaloon(),c.ymaps.centerAddr(e.coords),c.ui.addressSearch.makeBaloon(e.coords,e.name)},baloon:!1,makeBaloon:function(e,t){c.ui.addressSearch.baloon=c.ymaps.makeBaloon(e,"<div class='CDEK-widget__baloon'>"+t+'<br><button class="CDEK-widget__choose" type="button" data-label="'+m.get("L_CHOOSE")+'">'+m.get("L_CHOOSE")+"</button></div>"),c.ui.addressSearch.baloon&&(c.ui.addressSearch.baloon.balloon.open(),window.setTimeout(function(){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__baloon .CDEK-widget__choose").on("click",c.ui.addressSearch.clickBaloon)},500))},killBaloon:function(){c.ui.addressSearch.baloon&&c.ymaps.killBaloon(c.ui.addressSearch.baloon)},clickBaloon:function(){c.ui.addressSearch.killBaloon(),c.ui.addressSearch.choose()},choose:function(){r.address.fill(c.ui.addressSearch.getInput().val()),ipjq.getJSON(o.options.get("servicepath"),{isdek_action:"getCity",address:r.address.get()},function(e){if(typeof e.error>"u")if(e.city.id===63015&&(e.city.id=r.city.get(),e.city.city="Р‘С‹РєРѕРІРѕ"),r.city.get()==e.city.id){c.ui.addressSearch.hide();let a=r.address.get().split(","),l=(a[a.length-2].trim()+", "+a[a.length-1].trim()).trim();o.binders.trigger("onChooseAddress",{id:"courier",city:r.city.current,cityName:r.city.getName(r.city.current),price:u.profiles.courier.price,currency:u.profiles.courier.currency,term:u.profiles.courier.term,tarif:u.profiles.courier.tarif,address:r.address.get(),cleanaddress:l}),o.options.get("link")||this.close()}else r.city.set(e.city.id,!0),ipjq(s.get("cdek_search_input")).val(e.city.city),c.html.updatePrices({courier:{price:null,term:null},pickup:{price:null,term:null}}),alert(m.get("ADDRESS_ANOTHER")),c.controller.calculate(!0),c.controller.chooseDeliveryType();else alert(m.get("ADDRESS_WRONG")),o.logger.warn("City from was't found "+e.error)})}},open:function(){ipjq(s.get("CDEK_popup")).show(),o.loadedToAction?o.finalAction():o.popupped=!1,c.ymaps.map!==!1&&c.ymaps.map.container.fitToViewport(),this.active=!0},close:function(){this.active=!1,ipjq(s.get("CDEK_popup")).hide()}},ymaps:{map:!1,readyToBlink:!1,linker:s.get("MAP").replace("#",""),searchControl:null,init:function(e){this.readyToBlink=!1;var t=this;e==!1?ymaps.geolocation.get({}).then(function(a){for(var l=a.geoObjects.get(0).properties.get("metaDataProperty").GeocoderMetaData.Address.Components,_=l.length-1;_>=0&&!(l[_].kind=="locality"&&(e=l[_].name,e=e.replace(/РіРѕСЂРѕРґ\s|РїРѕСЃРµР»РѕРє\sРіРѕСЂРѕРґСЃРєРѕРіРѕ\sС‚РёРїР°\s|РїРѕСЃРµР»РѕРє\s|РїРѕСЃС‘Р»РѕРє\s|РґРµСЂРµРІРЅСЏ\s|СЃРµР»Рѕ\s/ig,""),r.city.set(e),r.city.current!==!1));_--);if(r.city.current==!1){l=a.geoObjects.get(0).geometry._coordinates;var y=100;for(var b in r.PVZ.collection)for(var C in r.PVZ.collection[b]){var E=r.PVZ.collection[b][C],P=Math.sqrt(Math.pow(E.cY-l[0],2)+Math.pow(E.cX-l[1],2));y>P&&(y=P,e=b)}e!=!1?(r.city.set(e),e=r.city.getName(e)):(r.city.set("РњРѕСЃРєРІР°"),e="РњРѕСЃРєРІР°")}o.options.set(e,"defaultCity"),c.controller.calculate(),c.controller.updatePrices(),t.loadMap(r.city.current),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]").val(e)}):t.loadMap(r.city.current)},loadMap:function(e){var t=this;e=r.city.getFullName(e),r.currentCityName=e;let a={};if(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-button-point.active").length&&ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-button-point.active").each(function(){a[ipjq(this).data("mtype")]=!0}),r.currentCityCode=0,typeof r.PVZ.getCurrent()=="object"){t.placeMarks(a);return}ymaps.geocode(e,{results:1}).then(function(l){var _=l.geoObjects.get(0),y=_.geometry.getCoordinates();t.map?(t.map.setCenter(y),t.map.setZoom(10)):t.makeMap({center:y}),t.placeMarks(a)})},makeMap:function(e){typeof e!="object"&&(e={}),c.ymaps.map=new ymaps.Map(c.ymaps.linker,o.service.concatObj({zoom:10,controls:[]},e)),this.map.controls.add(new ymaps.control.ZoomControl,{float:"none",position:{left:12,bottom:70}}),c.ymaps.map.events.add("boundschange",o.hideLoader),c.ymaps.map.events.add("actionend",o.hideLoader),o.options.get("detailAddress")&&(c.ymaps.map.events.add("click",c.ymaps.getClickAddress),new ymaps.SuggestView(s.get("cdek_courier_address_place").substr(1)))},addSearchBox:function(){n.searchAddressBox&&(this.searchControl=new ymaps.control.SearchControl({options:{float:"none",position:{left:320,top:10}}}),this.map.controls.add(this.searchControl))},removeSearchBox:function(){n.searchAddressBox&&this.map.controls.remove(this.searchControl)},centerAddr:function(e){var t=this;t.map.setCenter(e),t.map.setZoom(17)},clearMarks:function(){typeof this.map.geoObjects.removeAll<"u";do{var e=this.map;e.geoObjects.each(function(t){e.geoObjects.remove(t)})}while(e.geoObjects.getBounds())},placeMarks:function(e){r.currentCityCode=r.city.get();let t=r.PVZ.getCurrent();typeof t!="object"?ipjq(s.get("sidebar")).hide():ipjq(s.get("sidebar")).show(),ipjq(s.get("panel")).find(s.get("pointlist")).html(""),ipjq(s.get("panel")).find(s.get("pointlist")).html(h.getBlock("panel_list"));var a=ipjq(s.get("pointlist")).find(".CDEK-widget__panel-content");if(typeof t=="object"){c.ymaps.clusterer=new ymaps.Clusterer({gridSize:50,preset:"islands#ClusterIcons",clusterIconColor:"#0a8c37",hasBalloon:!1,groupByCoordinates:!1,clusterDisableClickZoom:!1,maxZoom:11,zoomMargin:[45],clusterHideIconOnBalloonOpen:!1,geoObjectHideIconOnBalloonOpen:!1});var l=[];for(var _ in t){if(typeof e<"u"&&(typeof e.dress<"u"&&t[_].Dressing!=!0||typeof e.cash<"u"&&t[_].Cash!=!0||typeof e.postamat<"u"&&t[_].Postamat!=!0))continue;let b=o.options.get("path")+(t[_].Postamat!=!0?"images/sdekActive.png":"images/postomatActive.png");o.options.get("path")+(t[_].Postamat!=!0?"images/sdekNActive.png":"images/postomatNActive.png"),t[_].placeMark=new ymaps.Placemark([t[_].cY,t[_].cX],{},{iconLayout:"default#image",iconImageHref:b,iconImageSize:[30,40],iconImageOffset:[-10,-30]}),l.push(t[_].placeMark),t[_].placeMark.link=_,t[_].list_block=ipjq(h.getBlock("point",{P_NAME:t[_].Name,P_ADDR:t[_].Address,P_TIME:t[_].WorkTime.replace(new RegExp(",","g"),"<br/>")})),t[_].placeMark.listItem=t[_].list_block,t[_].placeMark.events.add(["balloonopen","click"],function(C){var E=c.ui.currentmark;if(c.ui.currentmark=C.get("target"),typeof E=="object")try{E.events.fire("mouseleave")}catch{}ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-burger:not(.active)").trigger("click"),c.ui.markChozenPVZ({data:{id:C.get("target").link,link:c.ui}})}),t[_].placeMark.events.add(["mouseenter"],function(C){}),t[_].placeMark.events.add(["mouseleave"],function(C){}),t[_].list_block.mark=t[_].placeMark,t[_].list_block.on("click",{mark:_},function(C){t[C.data.mark].placeMark.events.fire("click")}),a.append(t[_].list_block)}if(l.length>0){c.ymaps.clusterer.add(l);var y=c.ymaps.clusterer.getBounds();this.map?y[0][0]==y[1][0]?(this.map.setCenter(y[0]),this.map.setZoom(10),c.ymaps.clearMarks(),this.map.geoObjects.add(c.ymaps.clusterer)):this.map.setBounds(c.ymaps.clusterer.getBounds(),{zoomMargin:45,checkZoomRange:!0,duration:500}).then(function(){c.ymaps.clearMarks(),this.map.geoObjects.add(c.ymaps.clusterer),this.map.getZoom()>12&&this.map.setZoom(12)},function(){c.ymaps.clearMarks(),this.map.geoObjects.add(c.ymaps.clusterer),this.map.getZoom()>12&&this.map.setZoom(12)},this):(y[0][0]==y[1][0]?this.makeMap({center:y[0]}):(this.makeMap({bounds:y}),this.map.setBounds(y,{zoomMargin:45,checkZoomRange:!0,duration:500})),c.ymaps.clearMarks(),this.map.geoObjects.add(c.ymaps.clusterer),o.hideLoader())}else c.ymaps.clearMarks(),o.hideLoader()}ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-content").mCustomScrollbar(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").mCustomScrollbar(),this.readyToBlink=!0},makeUpCenter:function(e){var t=this.map.options.get("projection");e=this.map.converter.globalToPage(t.toGlobalPixels(e,this.map.getZoom()));var a=ipjq(s.get("panel")).width();return ipjq(s.get("cdek_widget_cnt")).width()-a>100&&(e[0]=e[0]+a/2),e=t.fromGlobalPixels(this.map.converter.pageToGlobal(e),this.map.getZoom()),e},selectMark:function(e){var t=r.PVZ.getCurrent();parseInt(r.city.current)!==parseInt(t[e].CityCode)?(r.city.set(parseInt(t[e].CityCode)),city=r.city.getName(t[e].CityCode),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]").val(city),u.calculate(),c.controller.updatePrices()):parseInt(r.city.current)===44&&(u.calculate(),c.controller.updatePrices()),this.map.setZoom(16),this.map.setCenter(c.ymaps.makeUpCenter([t[e].cY,t[e].cX]));let a=ipjq(s.get("panel")).find(s.get("detail_panel"));a.html("");let l="";if(typeof t[e].Picture<"u")for(let b in t[e].Picture)l+=h.getBlock("image_c",{D_PHOTO:t[e].Picture[b]});let _,y=ipjq(h.getBlock("panel_details",_={D_NAME:t[e].Name,D_ADDR:t[e].Address,D_TIME:t[e].WorkTime.replace(new RegExp(",","g"),"<br/>"),D_WAY:t[e].AddressComment.search("http")==-1?t[e].AddressComment:"",D_IMGS:l}));_.D_WAY==""&&y.find(".CDEK-widget__way").remove(),_.D_IMGS==""&&y.find(".sdek_image_block").remove(),y.find(s.get("choose_button")).on("click",{id:e},function(b){c.controller.choosePVZ(b.data.id)}),a.html(y),a.find(".CDEK-widget__panel-content").mCustomScrollbar(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-list").css("left","-330px"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-details").css("right","0px")},blinkPVZ:function(e){if(e.data.link.readyToBlink){var t=r.PVZ.getCurrent();if(c.ui.currentmark==t[e.data.id].placeMark)return;e.data.ifOn?(e.data.link.clusterer.remove(t[e.data.id].placeMark),e.data.link.map.geoObjects.add(t[e.data.id].placeMark),t[e.data.id].placeMark.options.set({iconImageHref:o.options.get("path")+"images/sdekActive.png"})):(t[e.data.id].placeMark.options.set({iconImageHref:o.options.get("path")+"images/sdekNActive.png"}),e.data.link.map.geoObjects.remove(t[e.data.id].placeMark),e.data.link.clusterer.add(t[e.data.id].placeMark))}},getClickAddress:function(e){ymaps.geocode(e.get("coords"),{kind:"house"}).then(function(t){c.ui.addressSearch.mapClick(t.geoObjects.get(0))})},getSearchAddress:function(e,t){let a=o.options.get("country");a&&(e=a+", "+e),ymaps.geocode(e,{kind:"house"}).then(function(l){var _=l.geoObjects.get(0),y={name:_.properties.get("name"),descr:_.properties.get("description"),coords:_.geometry.getCoordinates()};return typeof t<"u"&&t(y),y})},makeBaloon:function(e,t){var a=new ymaps.Placemark(e,{balloonContent:t},{balloonCloseButton:!1,iconLayout:"default#image"});return c.ymaps.map.geoObjects.add(a),a},killBaloon:function(e){c.ymaps.map.geoObjects.remove(e)}}};return o.binders.add(c.controller.updatePrices,"onCalculate"),o.sdekSetPVZS=function(e){if(c.ymaps.clearMarks(),typeof e<"u"){c.ymaps.placeMarks(e);return}c.ymaps.placeMarks()},o.sdekSetPVZSWithAddress=function(e){e!==""?ipjq(".CDEK-widget__panel-list__item").each(function(t,a){ipjq(a).find(".CDEK-widget__panel-list__item-adress")[0].innerText.toLowerCase().indexOf(e.toLowerCase())!==-1?ipjq(a).show():ipjq(a).hide()}):ipjq(".CDEK-widget__panel-list__item").each(function(t,a){ipjq(a).show()})},o.chooseCourier=function(){c.controller.chooseCOURIER()},o.sdekWidgetEvents=function(){ipjq(".CDEK-widget__popup__close-btn").off("click").on("click",function(){ipjq(this).closest(".CDEK-widget__popup-mask").hide()}),ipjq(s.get("cdek_widget_cnt")).on("keyup",".CDEK-widget__panel-address-search","input",function(e){o.sdekSetPVZSWithAddress(e.target.value)}),ipjq(s.get("cdek_widget_cnt")).on("click",".CDEK-widget__tag-postamat","p",function(e){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-postamat").hasClass("active")?(o.sdekSetPVZS(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-postamat").removeClass("active")):(o.sdekSetPVZS({postamat:!0}),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-postamat").addClass("active"))}),ipjq(s.get("cdek_widget_cnt")).on("click",".CDEK-widget__tag-cash","p",function(e){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-cash").hasClass("active")?(o.sdekSetPVZS(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-cash").removeClass("active")):(o.sdekSetPVZS({cash:!0}),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-cash").addClass("active"))}),ipjq(s.get("cdek_widget_cnt")).on("click",".CDEK-widget__tag-fitting-room","p",function(e){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-fitting-room").hasClass("active")?(o.sdekSetPVZS(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-fitting-room").removeClass("active")):(o.sdekSetPVZS({dress:!0}),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-fitting-room").addClass("active"))}),ipjq(s.get("cdek_widget_cnt")).on("click",".CDEK-widget__sidebar-button",{widjet:o},function(){var e=ipjq(this);e.toggleClass("active");var t=e.attr("data-hint"),a=ipjq(s.get("cdek_widget_cnt")).find(t).outerWidth();if(e.hasClass("CDEK-widget__sidebar-button-point"))if(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-button-point.active").length){var l={};ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-button-point.active").each(function(){l[ipjq(this).data("mtype")]=!0}),o.sdekSetPVZS(l)}else o.sdekSetPVZS();else ipjq(s.get("cdek_widget_cnt")).find(t).css({right:-a,opacity:"0"}),e.hasClass("CDEK-widget__sidebar-burger")&&(e.hasClass("close")&&e.removeClass("close"),e.toggleClass("open"),e.hasClass("open")||e.addClass("close"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel").hasClass("open")?e.hasClass("active")?(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-contacts").fadeOut(600),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-list, .CDEK-widget__panel-details").fadeIn(600),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-button_phone").removeClass("active")):(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-list, .CDEK-widget__panel-details").fadeOut(600),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel").removeClass("open")):(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel").addClass("open"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-list, .CDEK-widget__panel-details").fadeIn(600))),e.hasClass("CDEK-widget__sidebar-button_phone")&&(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel").hasClass("open")?e.hasClass("active")?(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-list, .CDEK-widget__panel-details").fadeOut(600),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-contacts").fadeIn(600),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-burger").removeClass("active").removeClass("open").addClass("close")):(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-contacts").fadeOut(600),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel").removeClass("open")):(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel").addClass("open"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-contacts").fadeIn(600)))}).on("click",".CDEK-widget__choose",function(){ipjq(this).addClass("widget__loading")}),ipjq(s.get("cdek_widget_cnt")).on("mousemove",".CDEK-widget__sidebar-button",function(){if(!ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel").hasClass("open")){var e=ipjq(this).attr("data-hint");ipjq(s.get("cdek_widget_cnt")).find(e).css({right:"67px",opacity:"1"})}}).on("mouseleave",".CDEK-widget__sidebar-button",function(){var e=ipjq(this).attr("data-hint"),t=ipjq(s.get("cdek_widget_cnt")).find(e).outerWidth();ipjq(s.get("cdek_widget_cnt")).find(e).css({right:-t,opacity:"0"})}).on("hover",".CDEK-widget__panel-headline",function(){ipjq(this).outerWidth()<=ipjq(this).find("span").outerWidth()&&ipjq(this).addClass("hover-long")},function(){ipjq(this).hasClass("hover-long")&&ipjq(this).removeClass("hover-long")}),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-button").each(function(e,t){var a=ipjq(t).attr("data-hint"),l=(ipjq(t).outerHeight()+-ipjq(s.get("cdek_widget_cnt")).find(a).outerHeight())/2+62*e,_=ipjq(s.get("cdek_widget_cnt")).find(a).outerWidth();ipjq(s.get("cdek_widget_cnt")).find(a).css({right:-_,top:l,opacity:"0"})}),ipjq(s.get("cdek_widget_cnt")).on("click",".CDEK-widget__panel-details__back",function(){ipjq(this).parents(".CDEK-widget__panel-details").css("right","-330px"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-list").css("left","0px")}).on("click",".CDEK-widget__panel-details__block-img",function(){var e=ipjq(this).find("img").attr("src"),t=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__photo");t.find("img").attr("src",e),t.addClass("active")}).on("click",".CDEK-widget__photo",function(e){ipjq(e.target).is("img")||ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__photo").removeClass("active")}).on("focusin",".CDEK-widget__search-box input[type=text]",function(){if(ipjq(this).val(""),c.html.setDefaultCities(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").hasClass("CDEK-widget__delivery-type_close")){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul").addClass("open").find("li").removeClass("no-active");return}ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").addClass("CDEK-widget__delivery-type_close"),setTimeout(function(){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul").addClass("open").find("li").removeClass("no-active")},1e3)}).on("click",".CDEK-widget__search-list ul li",function(){c.ymaps.removeSearchBox(),c.controller.selectCity(ipjq(this).data("cityid"))}).on("keydown",".CDEK-widget__search-box input[type=text]",function(e){var t=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul li:not(.no-active)"),a=t.filter(".focus");e.keyCode===40&&(a.length==0?t.first().addClass("focus"):(a.removeClass("focus"),a.nextAll().filter(":not(.no-active)").eq(0).length!=0?a.nextAll().filter(":not(.no-active)").eq(0).addClass("focus"):t.first().addClass("focus"))),e.keyCode===38&&(a.length==0?t.last().addClass("focus"):(a.removeClass("focus"),a.prevAll().filter(":not(.no-active)").eq(0).length!=0?a.prevAll().filter(":not(.no-active)").eq(0).addClass("focus"):t.last().addClass("focus")))}).on("keyup",".CDEK-widget__search-box input[type=text]",function(e){const t=ipjq(this).val();console.log(ipjq(this).val());let a;try{a=new RegExp("^("+t+")+.*","i")}catch{a=""}console.log(a);var l=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul li");const _=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul");if(console.log(213213),e.keyCode===13){var y=l.not(".no-active"),b=y.filter(".focus");b.length==0?c.controller.selectCity():(c.controller.selectCity(b.find(".CDEK-widget__search-list__city-name").text()),b.removeClass("focus")),r.city.getName(r.city.current)!=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]").val()&&(type="courier",setTimeout(function(){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").addClass("CDEK-widget__delivery-type_close")},1001),o.chooseCourier());return}if(console.log(213213),a!==""){const C=[];_.children().each((M,R)=>{C.push(R.getAttribute("data-cityid"))});const E=c.html.loadedCities.filter(M=>M.CITYNAME.includes(t)).slice(0,7),P=E.map(M=>M.CITYID);if(E.length===0?_.removeClass("open"):_.hasClass("open")||_.addClass("open"),C.length===P.length&&C.sort().toString()===P.sort().toString())return;_.empty(),E.forEach((M,R)=>{const Y=h.getBlock("city",M),$=ipjq(Y);$.removeClass("no-active"),_.prepend($)})}else l.removeClass("no-active")}).on("click",function(e){ipjq(e.target).closest(".CDEK-widget__search").length==0&&ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul li").not(".no-active").length!=0&&c.controller.putCity(c.controller.getCity())}).on("click",".CDEK-widget__delivery-type__item",{widjet:o},function(e){var t=ipjq(this).attr("data-delivery-type");t==="pvz"&&c.ymaps.addSearchBox(),ipjq(this).hasClass("active")||(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__item.active").removeClass("active"),ipjq(this).addClass("active"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__button").attr("class","CDEK-widget__delivery-type__button").addClass("CDEK-widget__delivery-type__button_"+t)),t=="courier"&&e.data.widjet.chooseCourier(),ipjq(this).parents(".CDEK-widget__delivery-type").addClass("CDEK-widget__delivery-type_close")}).on("click",".CDEK-widget__delivery-type__button",function(){c.ymaps.removeSearchBox(),c.controller.chooseDeliveryType(),r.city.getName(r.city.current)!=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]").val()&&(type="courier",setTimeout(function(){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").addClass("CDEK-widget__delivery-type_close")},1001),o.chooseCourier())}).on("click",".CDEK-widget__courier-address__button",function(){c.ui.addressSearch.search()})},o.city={get:function(){return r.city.current},set:function(e){let t=r.city.set(e);t!==!1&&ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]").val(r.city.getName(t)),c.controller.loadCity()},check:function(e){return r.city.getId(e)}},o.PVZ={get:function(e){return r.PVZ.getCityPVZ(e)},check:function(e){return r.PVZ.check(e)}},o.cargo={add:function(e){w.add(e)},reset:function(){w.reset()},get:function(){return w.get()}},o.calculate=function(){return u.calculate(),u.profiles},o.options.get("link")||(o.open=function(){c.controller.open()},o.close=function(){c.controller.close()}),o}const le={el:"#s",props:["products"],mounted(){var n=document.createElement("script");n.setAttribute("src","https://widget.cdek.ru/widget/scripts/ipjq.js"),document.body.appendChild(n),n=document.createElement("script"),n.setAttribute("src","https://widget.cdek.ru/widget/scripts/jquery.mCustomScrollbar.concat.min.js"),document.body.appendChild(n)},data(){return{orderWidjet:ce({popup:!0,defaultCity:"Тамбов",cityFrom:"Уварово, г/о Уварово",goods:this.get_goods(),onReady:function(){ipjq("#linkForWidjet").css("display","inline")},onChoose:n=>{this.$emit("onChoise",n),this.orderWidjet.close()}})}},methods:{get_goods(){let n=[];return this.products.forEach(d=>{console.log("in_list",d.count);for(let p=1;p<=d.count;p++)console.log("in_list"),n.push({length:d.productItem.dimensions.length,width:d.productItem.dimensions.width,height:d.productItem.dimensions.height,weight:d.productItem.dimensions.weight/1e3})}),console.log(n),n}}},de={id:"s"},_e=i("div",{id:"linkForWidjet",style:{display:"none"}},null,-1),ue=i("div",{id:"oDcfl_CDEK_popup",class:"CDEK-widget__popup-mask",style:{display:"none"}},[i("div",{class:"CDEK-widget__popup"},[i("a",{class:"CDEK-widget__popup__close-btn",href:"#"}),i("div",{class:"CDEK-widget",id:"oDcfl_cdek_widget_cnt"},[i("div",{class:"CDEK-widget__preloader",id:"oDcfl_preloader"},[i("div",{class:"CDEK-widget__preloader-truck"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 440.34302 315.71001"},[i("g",null,[i("path",{class:"path1",d:"M416.43,188.455q-1.014-1.314-1.95-2.542c-7.762-10.228-14.037-21.74-19.573-31.897-5.428-9.959-10.555-19.366-16.153-25.871-12.489-14.513-24.24-21.567-35.925-21.567H285.128c-0.055.001-5.567,0.068-12.201,0.068h-9.409a14.72864,14.72864,0,0,0-14.262,11.104l-0.078.305V245.456l0.014,0.262a4.86644,4.86644,0,0,1-1.289,3.472c-1.587,1.734-4.634,2.65-8.812,2.65H14.345C6.435,251.839,0,257.893,0,265.334v46.388c0,7.441,6.435,13.495,14.345,13.495h49.36a57.8909,57.8909,0,0,0,115.335,0h82.61a57.89089,57.89089,0,0,0,115.335,0H414.53a25.8416,25.8416,0,0,0,25.813-25.811v-44.29C440.344,219.47,425.953,200.805,416.43,188.455ZM340.907,320.132a21.5865,21.5865,0,1,1-21.59-21.584A21.61074,21.61074,0,0,1,340.907,320.132ZM390.551,207.76c-0.451.745-1.739,1.066-3.695,0.941l-99.197-.005V127.782h42.886c11.539,0,19.716,5.023,28.224,17.337,5.658,8.19,20.639,33.977,21.403,35.293,0.532,1.027,1.079,2.071,1.631,3.125C386.125,191.798,392.658,204.279,390.551,207.76ZM121.372,298.548a21.58351,21.58351,0,1,1-21.583,21.584A21.6116,21.6116,0,0,1,121.372,298.548Z",transform:"translate(0 -62.31697)"}),i("path",{class:"path2",d:"M30.234,231.317h68a12.51354,12.51354,0,0,0,12.5-12.5v-50a12.51354,12.51354,0,0,0-12.5-12.5h-68a12.51354,12.51354,0,0,0-12.5,12.5v50A12.51418,12.51418,0,0,0,30.234,231.317Z",transform:"translate(0 -62.31697)"}),i("path",{class:"path3",d:"M143.234,231.317h68a12.51354,12.51354,0,0,0,12.5-12.5v-50a12.51354,12.51354,0,0,0-12.5-12.5h-68a12.51354,12.51354,0,0,0-12.5,12.5v50A12.51418,12.51418,0,0,0,143.234,231.317Z",transform:"translate(0 -62.31697)"}),i("path",{class:"path4",d:"M30.234,137.317h68a12.51354,12.51354,0,0,0,12.5-12.5v-50a12.51355,12.51355,0,0,0-12.5-12.5h-68a12.51355,12.51355,0,0,0-12.5,12.5v50A12.51418,12.51418,0,0,0,30.234,137.317Z",transform:"translate(0 -62.31697)"}),i("path",{class:"path5",d:"M143.234,137.317h68a12.51354,12.51354,0,0,0,12.5-12.5v-50a12.51354,12.51354,0,0,0-12.5-12.5h-68a12.51354,12.51354,0,0,0-12.5,12.5v50A12.51418,12.51418,0,0,0,143.234,137.317Z",transform:"translate(0 -62.31697)"})])]),i("div",{class:"CDEK-widget__preloader-truck__grass"}),i("div",{class:"CDEK-widget__preloader-truck__road"})])]),i("div",{id:"oDcfl_SDEK_map",class:"CDEK-widget__map"}),i("div",{class:"CDEK-widget__search CDEK-widget__inaccessible"},[i("div",{class:"CDEK-widget__search-box"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 51.63557 50.41538"},[i("path",{class:"path",d:"M51.353,0.914A0.99853,0.99853,0,0,0,50.218.701L0.583,23.481a1,1,0,0,0,.252,1.895l22.263,3.731,2.545,21.038a1.00164,1.00164,0,0,0,.824.865,0.97388,0.97388,0,0,0,.169.015,0.999,0.999,0,0,0,.896-0.556l24-48.415A0.99978,0.99978,0,0,0,51.353.914ZM27.226,46.582L24.994,28.125a1.00155,1.00155,0,0,0-.828-0.866L4.374,23.941,48.485,3.697Z",transform:"translate(-0.0002 -0.6096)"})]),i("input",{type:"text",name:"town",value:"Казань",placeholder:"Поиск города",id:"oDcfl_cdek_search_input"}),g(),i("button",{class:"CDEK-widget__delivery-type__button"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 608.99721 611.84603"},[i("g",null,[i("path",{class:"CDEK-widget__delivery_courier",d:"M417.19812,302.72005a22.21621,22.21621,0,0,0-21.362-20.04709l-72.26781-1.108a9.97688,9.97688,0,0,1-9.10476-7.907L298.5408,172.42893c-0.57712-3.667-3.99636-18.61788-22.66187-18.61788L186.01,157.72438c-11.83932.51451-21.464,6.27084-21.464,22.42639,0,0-.3784,224.99753-0.83847,233.15088l-3.14426,55.66853a91.98249,91.98249,0,0,1-6.32529,26.27846l-36.3755,82.33218a18.97718,18.97718,0,0,0,13.0671,26.65825l12.1102,3.00544a23.2673,23.2673,0,0,0,5.60523.67377c9.77581,0,19.127-5.67329,23.27031-14.11791l34.57743-70.4806a171.14444,171.14444,0,0,0,10.59795-29.41047l19.5108-81.27592,47.2171,72.20793c3.8929,5.95368,8.009,17.37786,8.808,24.4477l9.1279,80.84172a24.0889,24.0889,0,0,0,23.36287,20.86923l13.81027-.04765a20.1837,20.1837,0,0,0,20.24446-22.42911l-9.53353-96.11388a139.95253,139.95253,0,0,0-7.24815-30.64368L300.08163,351.25756l-0.26134-23.29618,98.33117-3.63972a19.785,19.785,0,0,0,19.063-21.41777Zm-92.0808,301.47133h0v0Z",transform:"translate(-2.00187 0.84609)"}),g(),i("path",{class:"CDEK-widget__delivery_courier",d:"M214.73855,132.44774a66.665,66.665,0,0,0,66.24334-73.88758l22.33112-2.5195c7.78172-.87795,15.68051-7.08481,18.37287-14.43777L329.16542,21.176A13.0559,13.0559,0,0,0,328.0098,9.059a12.51735,12.51735,0,0,0-10.50812-5.1193c-0.51043,0-1.03856.0245-1.58029,0.07622l-64.57048,6.14153A66.62573,66.62573,0,1,0,214.73855,132.44774Z",transform:"translate(-2.00187 0.84609)"}),g(),i("path",{class:"CDEK-widget__delivery_courier",d:"M496.86108,236.73808l-6.42465-92.34484a21.71437,21.71437,0,0,0-21.3579-19.88784l-123.44178.21506A19.38181,19.38181,0,0,0,326.194,145.60194l6.42465,92.34484a21.70638,21.70638,0,0,0,21.32113,19.88785l123.47854-.21507A19.37986,19.37986,0,0,0,496.86108,236.73808ZM353.93843,251.02748h0Z",transform:"translate(-2.00187 0.84609)"})]),g(),i("path",{class:"CDEK-widget__delivery_pvz",d:"M515.78535,336.442L609.556,529.07327c3.81317,7.83436-.195,14.2438-8.90811,14.2438H12.35346c-8.713,0-12.72227-6.40938-8.90808-14.2438L97.217,336.442a10.86137,10.86137,0,0,1,8.90808-5.57153h80.40459a11.25693,11.25693,0,0,1,7.44629,3.4251c5.4551,6.30391,11.0117,12.46254,16.55239,18.55849,5.26205,5.78647,10.552,11.64856,15.80011,17.648H130.908a10.85641,10.85641,0,0,0-8.90808,5.57153L59.88013,503.68647H553.11832L491.00357,376.07364a10.85667,10.85667,0,0,0-8.90908-5.57153H386.458c5.24714-5.99941,10.539-11.86153,15.80109-17.648,5.55759-6.11387,11.14506-12.26057,16.6131-18.56645a11.2442,11.2442,0,0,1,7.43335-3.41714h80.57375A10.85489,10.85489,0,0,1,515.78535,336.442ZM444.3625,204.79909c0,105.257-87.626,124.9977-128.83681,226.15a9.851,9.851,0,0,1-18.26991-.03981c-37.17572-91.20135-112.08538-116.211-126.41772-197.45847C156.72663,153.46615,212.10559,75.11644,292.96492,67.47312A137.99029,137.99029,0,0,1,444.3625,204.79909Zm-65.106,0a72.8568,72.8568,0,1,0-72.8568,72.8568A72.85625,72.85625,0,0,0,379.25652,204.79909Z",transform:"translate(-2.00187 0.84609)"}),g(),i("path",{class:"CDEK-widget__delivery_box",d:"M2.65884,483.52043L2.00192,205.83482a19.01632,19.01632,0,0,1,26.49046-17.53019L281.28291,296.368a19.0146,19.0146,0,0,1,11.541,17.43932l0.65691,277.68561a19.01643,19.01643,0,0,1-26.49046,17.53118L14.19987,500.96076A19.01337,19.01337,0,0,1,2.65884,483.52043ZM581.8529,218.90533l-233.27959,101.03,0.607,256.98364L582.46091,475.889l-0.608-256.98365m9.4395-33.50094a19.03627,19.03627,0,0,1,19.04968,18.99079L610.999,482.08078A19.01452,19.01452,0,0,1,599.53983,499.575L347.26446,608.83345a18.97537,18.97537,0,0,1-26.57333-17.40334L320.03422,313.7435a19.01226,19.01226,0,0,1,11.46017-17.49426L583.76973,186.99181a18.96546,18.96546,0,0,1,7.52267-1.58742h0ZM304.6555,28.99646L62.66821,137.04388l242.49546,106.8993L547.15193,135.89676,304.6555,28.99646M304.58661-.42119a19.0199,19.0199,0,0,1,7.71532,1.61535L578.26779,118.44046c15.0872,6.65207,15.13814,28.04191.08184,34.76386L312.94086,271.70855a19.01736,19.01736,0,0,1-15.42366.03693L31.55236,154.4992c-15.0882-6.65107-15.13812-28.04191-.08286-34.76386L296.87727,1.2311a19.00856,19.00856,0,0,1,7.70934-1.65228h0Z",transform:"translate(-2.00187 0.84609)"}),g(),i("g",null,[i("path",{class:"CDEK-widget__delivery_post",d:"M583.48644,1.00006H333.42136V278.85179H611.27187V28.78547A27.78592,27.78592,0,0,0,583.48644,1.00006ZM440.37361,85.39856a23.15306,23.15306,0,1,1,18.19131,27.22786A23.15377,23.15377,0,0,1,440.37361,85.39856Zm87.54323,119.35919H398.25316V149.18813H527.91684v55.56962Z",transform:"translate(-0.00001 -1.00006)"}),g(),i("path",{class:"CDEK-widget__delivery_post",d:"M55.56963,334.42141H0V584.48774a27.78565,27.78565,0,0,0,27.78541,27.78418h250.0663V334.42141H55.56963ZM125.4755,400.2955a23.15306,23.15306,0,1,1,18.19131,27.22786A23.15373,23.15373,0,0,1,125.4755,400.2955ZM213.0187,519.6547H83.355V464.08509H213.01871V519.6547h0Z",transform:"translate(-0.00001 -1.00006)"}),g(),i("path",{class:"CDEK-widget__delivery_post",d:"M27.78542,1.00006A27.7859,27.7859,0,0,0,0,28.78547v250.0663H277.85174V1.00006H27.78542Zm97.69008,84.3985a23.15306,23.15306,0,1,1,18.19131,27.22786A23.15376,23.15376,0,0,1,125.4755,85.39856Zm87.5432,119.35919H83.355V149.18813H213.01871v55.56962h0Z",transform:"translate(-0.00001 -1.00006)"}),g(),i("path",{class:"CDEK-widget__delivery_post",d:"M583.48644,334.42141H333.42136V612.27192H583.48768a27.78567,27.78567,0,0,0,27.78418-27.78542V334.42141H583.48644ZM440.37361,400.2955a23.15307,23.15307,0,1,1,18.19131,27.22786A23.15375,23.15375,0,0,1,440.37361,400.2955ZM527.91684,519.6547H398.25316V464.08509H527.91684V519.6547Z",transform:"translate(-0.00001 -1.00006)"})])])])]),i("div",{class:"CDEK-widget__delivery-type"},[i("div",{class:"CDEK-widget__delivery-type__box",id:"oDcfl_cdek_delivery_types"},[i("div",{class:"CDEK-widget__delivery-type__title",id:"oDcfl_cdek_delivery_type_title"},[i("span",{class:"CDEK_no-avail"},"Нет доступных способов доставки"),i("span",{class:"CDEK_choose",style:{display:"none"}},"Выберите способ доставки")]),i("div",{style:{"text-align":"center","padding-bottom":"10px",display:"none"},id:"oDcfl_cdek_delivery_type_none"},[i("span",null,"Выберите другой населенный пункт")])])]),i("div",{class:"CDEK-widget__courier-address"},[i("div",{class:"CDEK-widget__courier-address__box CDEK-widget__courier-address__box_close",id:"oDcfl_cdek_courier_address"},[i("div",{class:"CDEK-widget__courier-address__title",id:"oDcfl_cdek_courier_address_title"},[i("span",null,"Уточните адрес")]),i("div",{class:"CDEK-widget__courier-address__item","data-delivery-address":"address"},[i("input",{type:"text",placeholder:"Введите адрес доставки",id:"oDcfl_cdek_courier_address_place"}),g(),i("button",{class:"CDEK-widget__courier-address__button"},"OK")])])]),i("div",{class:"CDEK-widget__search-list"},[i("div",{class:"CDEK-widget__search-list__box"},[i("ul",{id:"oDcfl_city_list"},[i("li",{class:"no-active","data-cityid":"17"},[i("p",{class:"CDEK-widget__search-list__city-name"},"Пушкино"),i("p",{class:"CDEK-widget__search-list__city-details"},"Московская область, Россия")]),i("li",{class:"no-active","data-cityid":"13"},[i("p",{class:"CDEK-widget__search-list__city-name"},"Белореченск"),i("p",{class:"CDEK-widget__search-list__city-details"},"Краснодарский край, Россия")]),i("li",{class:"no-active","data-cityid":"12"},[i("p",{class:"CDEK-widget__search-list__city-name"},"Новый Уренгой"),i("p",{class:"CDEK-widget__search-list__city-details"},"Ямало-Ненецкий автономный округ, Россия")]),i("li",{class:"no-active","data-cityid":"11"},[i("p",{class:"CDEK-widget__search-list__city-name"},"Новотроицк"),i("p",{class:"CDEK-widget__search-list__city-details"},"Оренбургская область, Россия")]),i("li",{class:"no-active","data-cityid":"7"},[i("p",{class:"CDEK-widget__search-list__city-name"},"Миасс"),i("p",{class:"CDEK-widget__search-list__city-details"},"Челябинская область, Россия")]),i("li",{class:"no-active","data-cityid":"6"},[i("p",{class:"CDEK-widget__search-list__city-name"},"Алтайское"),i("p",{class:"CDEK-widget__search-list__city-details"},"Алтайский край, Россия")]),i("li",{class:"no-active","data-cityid":"5"},[i("p",{class:"CDEK-widget__search-list__city-name"},"Усинск"),i("p",{class:"CDEK-widget__search-list__city-details"},"Республика Коми, Россия")])])])])]),i("div",{class:"CDEK-widget__sidebar CDEK-widget__inaccessible",id:"oDcfl_sidebar"},[i("div",{class:"CDEK-widget__sidebar-burger CDEK-widget__sidebar-button","data-hint":"#list"},[i("span"),i("span"),i("span")]),i("hr"),i("div",{class:"CDEK-widget__sidebar-button CDEK-widget__sidebar-button_phone","data-hint":"#contacts"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 444.41148 446.40002"},[i("path",{class:"phone",d:"M374.456,293.506c-9.7-10.1-21.4-15.5-33.8-15.5-12.3,0-24.1,5.3-34.2,15.4l-31.6,31.5c-2.6-1.4-5.2-2.7-7.7-4-3.6-1.8-7-3.5-9.9-5.3-29.6-18.8-56.5-43.3-82.3-75-12.5-15.8-20.9-29.1-27-42.6,8.2-7.5,15.8-15.3,23.2-22.8,2.8-2.8,5.6-5.7,8.4-8.5,21-21,21-48.2,0-69.2l-27.3-27.3c-3.1-3.1-6.3-6.3-9.3-9.5-6-6.2-12.3-12.6-18.8-18.6-9.7-9.6-21.3-14.7-33.5-14.7s-24,5.1-34,14.7l-0.2.2-34,34.3a73.16053,73.16053,0,0,0-21.7,46.5c-2.4,29.2,6.2,56.4,12.8,74.2,16.2,43.7,40.4,84.2,76.5,127.6,43.8,52.3,96.5,93.6,156.7,122.7,23,10.9,53.7,23.8,88,26,2.1,0.1,4.3.2,6.3,0.2,23.1,0,42.5-8.3,57.7-24.8,0.1-.2.3-0.3,0.4-0.5,5.2-6.3,11.2-12,17.5-18.1,4.3-4.1,8.7-8.4,13-12.9,9.9-10.3,15.1-22.3,15.1-34.6,0-12.4-5.3-24.3-15.4-34.3Zm35.8,105.3c-0.1,0-.1.1,0,0-3.9,4.2-7.9,8-12.2,12.2a262.94685,262.94685,0,0,0-19.3,20c-10.1,10.8-22,15.9-37.6,15.9-1.5,0-3.1,0-4.6-.1-29.7-1.9-57.3-13.5-78-23.4-56.6-27.4-106.3-66.3-147.6-115.6-34.1-41.1-56.9-79.1-72-119.9-9.3-24.9-12.7-44.3-11.2-62.6a45.90488,45.90488,0,0,1,13.8-29.7l34.1-34.1c4.9-4.6,10.1-7.1,15.2-7.1,6.3,0,11.4,3.8,14.6,7l0.3,0.3c6.1,5.7,11.9,11.6,18,17.9,3.1,3.2,6.3,6.4,9.5,9.7l27.3,27.3c10.6,10.6,10.6,20.4,0,31-2.9,2.9-5.7,5.8-8.6,8.6-8.4,8.6-16.4,16.6-25.1,24.4a2.35721,2.35721,0,0,0-.5.5c-8.6,8.6-7,17-5.2,22.7l0.3,0.9c7.1,17.2,17.1,33.4,32.3,52.7l0.1,0.1c27.6,34,56.7,60.5,88.8,80.8a136.53623,136.53623,0,0,0,12.3,6.7c3.6,1.8,7,3.5,9.9,5.3,0.4,0.2.8,0.5,1.2,0.7a21.67755,21.67755,0,0,0,9.9,2.5c8.3,0,13.5-5.2,15.2-6.9l34.2-34.2c3.4-3.4,8.8-7.5,15.1-7.5,6.2,0,11.3,3.9,14.4,7.3l0.2,0.2,55.1,55.1C420.456,377.706,420.456,388.206,410.256,398.806Z",transform:"translate(-0.34447 -27.40598)"})])])]),i("div",{class:"CDEK-widget__panel",id:"oDcfl_panel"},[i("div",{class:"CDEK-widget__panel-list",id:"oDcfl_pointlist"}),g(),i("div",{class:"CDEK-widget__panel-details",id:"oDcfl_detail_panel"}),g(),i("div",{class:"CDEK-widget__panel-contacts"},[i("div",{class:"CDEK-widget__panel-headline"},[i("span",null,"Служба поддержки")]),g(),i("div",{class:"CDEK-widget__panel-content"},[i("p",null,[g("Если у вас есть вопросы, можете"),i("br"),g(" задать их нашим специалистам")]),g(),i("p",null,[i("a",{href:"tel:88002501405",class:"CDEK-widget__phone"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 444.41148 446.40002"},[i("path",{class:"path",d:"M374.456,293.506c-9.7-10.1-21.4-15.5-33.8-15.5-12.3,0-24.1,5.3-34.2,15.4l-31.6,31.5c-2.6-1.4-5.2-2.7-7.7-4-3.6-1.8-7-3.5-9.9-5.3-29.6-18.8-56.5-43.3-82.3-75-12.5-15.8-20.9-29.1-27-42.6,8.2-7.5,15.8-15.3,23.2-22.8,2.8-2.8,5.6-5.7,8.4-8.5,21-21,21-48.2,0-69.2l-27.3-27.3c-3.1-3.1-6.3-6.3-9.3-9.5-6-6.2-12.3-12.6-18.8-18.6-9.7-9.6-21.3-14.7-33.5-14.7s-24,5.1-34,14.7l-0.2.2-34,34.3a73.16053,73.16053,0,0,0-21.7,46.5c-2.4,29.2,6.2,56.4,12.8,74.2,16.2,43.7,40.4,84.2,76.5,127.6,43.8,52.3,96.5,93.6,156.7,122.7,23,10.9,53.7,23.8,88,26,2.1,0.1,4.3.2,6.3,0.2,23.1,0,42.5-8.3,57.7-24.8,0.1-.2.3-0.3,0.4-0.5,5.2-6.3,11.2-12,17.5-18.1,4.3-4.1,8.7-8.4,13-12.9,9.9-10.3,15.1-22.3,15.1-34.6,0-12.4-5.3-24.3-15.4-34.3Zm35.8,105.3c-0.1,0-.1.1,0,0-3.9,4.2-7.9,8-12.2,12.2a262.94685,262.94685,0,0,0-19.3,20c-10.1,10.8-22,15.9-37.6,15.9-1.5,0-3.1,0-4.6-.1-29.7-1.9-57.3-13.5-78-23.4-56.6-27.4-106.3-66.3-147.6-115.6-34.1-41.1-56.9-79.1-72-119.9-9.3-24.9-12.7-44.3-11.2-62.6a45.90488,45.90488,0,0,1,13.8-29.7l34.1-34.1c4.9-4.6,10.1-7.1,15.2-7.1,6.3,0,11.4,3.8,14.6,7l0.3,0.3c6.1,5.7,11.9,11.6,18,17.9,3.1,3.2,6.3,6.4,9.5,9.7l27.3,27.3c10.6,10.6,10.6,20.4,0,31-2.9,2.9-5.7,5.8-8.6,8.6-8.4,8.6-16.4,16.6-25.1,24.4a2.35721,2.35721,0,0,0-.5.5c-8.6,8.6-7,17-5.2,22.7l0.3,0.9c7.1,17.2,17.1,33.4,32.3,52.7l0.1,0.1c27.6,34,56.7,60.5,88.8,80.8a136.53623,136.53623,0,0,0,12.3,6.7c3.6,1.8,7,3.5,9.9,5.3,0.4,0.2.8,0.5,1.2,0.7a21.67755,21.67755,0,0,0,9.9,2.5c8.3,0,13.5-5.2,15.2-6.9l34.2-34.2c3.4-3.4,8.8-7.5,15.1-7.5,6.2,0,11.3,3.9,14.4,7.3l0.2,0.2,55.1,55.1C420.456,377.706,420.456,388.206,410.256,398.806Z",transform:"translate(-0.34447 -27.40598)"})]),g(" 8 800 250-14-05 ")])]),g(),i("p",{class:"CDEK-widget__panel-content-mail"},[i("a",{href:"mailto:sale@cdek.ru",target:"_blank",class:"CDEK-widget__mail"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 44.676"},[i("path",{class:"path",d:"M58,10.324H6a6.006,6.006,0,0,0-6,6V49a6.006,6.006,0,0,0,6,6H58a6.006,6.006,0,0,0,6-6V16.324A6.00668,6.00668,0,0,0,58,10.324Zm-0.982,4L32,32.367,6.982,14.324H57.018ZM58,51H6a2.00073,2.00073,0,0,1-2-2V17.107l26.83,19.35a2.004,2.004,0,0,0,2.34,0L60,17.107V49A2.00073,2.00073,0,0,1,58,51Z",transform:"translate(0 -10.32397)"})]),g(),i("span",null,"sale@cdek.ru")])])]),g(),i("div",{class:"CDEK-widget__developer"},[g(" Разработано в "),i("a",{href:"https://ipolh.com/",target:"_blank",class:"IPOL-logo"},[i("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 351.414 45.4688"},[i("defs",null,[i("clipPath",{id:"IPOL-logo__clip-a",transform:"translate(-220.293 -283.2656)"},[i("path",{class:"IPOL-logo__path-a",d:"M383.41109,285.4717a17.92737,17.92737,0,0,0-6.0595-2.0029,18.14886,18.14886,0,0,0-2.5938-.2081h-45.4736a18.14886,18.14886,0,0,0-2.5938.2081,17.96788,17.96788,0,0,0-15.4482,17.8339l-0.001,27.4366h9.3897s0.0009-26.3389.0009-27.4366a8.65226,8.65226,0,0,1,8.6534-8.6523h45.4716a8.6529,8.6529,0,0,1,8.6534,8.6523v27.4092h4.3105c0.1279,0.0108.2549,0.0274,0.3848,0.0274,0.1162,0,.2246-0.0205.3379-0.0274h4.3574s-0.001-26.9131-.001-27.4092A18.03477,18.03477,0,0,0,383.41109,285.4717Z"})]),g(),i("linearGradient",{id:"IPOL-logo__gradient-b",y1:"22.7344",x2:"351.414",y2:"22.7344",gradientUnits:"userSpaceOnUse"},[i("stop",{offset:"0","stop-color":"#ac3994"}),g(),i("stop",{offset:"1","stop-color":"#11b9e7"})]),g(),i("clipPath",{id:"IPOL-logo__clip-c",transform:"translate(-220.293 -283.2656)"},[i("path",{class:"IPOL-logo__path-a",d:"M474.36129,285.4717h-0.0019a17.9352,17.9352,0,0,0-6.0596-2.0029,18.14537,18.14537,0,0,0-2.59279-.2081H420.23239a18.172,18.172,0,0,0-2.5947.2081,17.96887,17.96887,0,0,0-15.4463,17.8339v9.3907a18.19439,18.19439,0,0,0,18.041,18.0459H465.707a18.1599,18.1599,0,0,0,2.59279-.208,17.9235,17.9235,0,0,0,6.0596-2.0069h0.0019a18.03575,18.03575,0,0,0,9.38671-15.831v-9.3907A18.03694,18.03694,0,0,0,474.36129,285.4717Zm-0.0019,25.2217a8.65245,8.65245,0,0,1-8.6543,8.6523h-45.4727a8.6526,8.6526,0,0,1-8.6523-8.6523v-9.3907a8.6526,8.6526,0,0,1,8.6523-8.6523h45.4727a8.65245,8.65245,0,0,1,8.6543,8.6523v9.3907Z"})]),g(),i("clipPath",{id:"IPOL-logo__clip-e",transform:"translate(-220.293 -283.2656)"},[i("path",{class:"IPOL-logo__path-a",d:"M518.42679,283.2607a18.18435,18.18435,0,0,0-17.0264,12.0674l-0.2832.8389-10.9688,32.5723h9.9063l10.3398-30.7002c0.0147-.0381.02351-0.0791,0.0391-0.1162a8.68575,8.68575,0,0,1,7.9932-5.2725h43.8906v36.0889H571.707V283.2607H518.42679Z"})]),g(),i("clipPath",{id:"IPOL-logo__clip-g",transform:"translate(-220.293 -283.2656)"},[i("path",{class:"IPOL-logo__path-a",d:"M292.46289,319.3457h-54.126a8.65217,8.65217,0,0,1-8.6533-8.6523c0-.1739-0.0029-0.9844-0.0078-2.2198h0.0068V283.2705h-0.1045s-2.0498-.0039-4.582-0.0098h-0.0166c-2.5303.0059-4.6514,0.0098-4.6514,0.0098H220.293v25.2031h0.00389c-0.002,1.2266-.003,2.0342-0.003,2.2198a18.19664,18.19664,0,0,0,18.042,18.0459h63.5166V283.2607h-9.3896v36.085Z"})]),g(),i("linearGradient",{id:"IPOL-logo__gradient-h",x1:"0.00049",y1:"22.7344",x2:"351.414",y2:"22.7344","xlink:href":"#IPOL-logo__gradient-b"})]),g(),i("g",{class:"IPOL-logo__group-b",style:{"clip-path":"url(#IPOL-logo__clip-a)"}},[i("rect",{class:"IPOL-logo__rect-c",width:"351.414",height:"45.4688"})]),g(),i("g",{class:"IPOL-logo__group-d",style:{"clip-path":"url(#IPOL-logo__clip-c)"}},[i("rect",{class:"IPOL-logo__rect-c",width:"351.414",height:"45.4688"})]),g(),i("g",{class:"IPOL-logo__group-e",style:{"clip-path":"url(#IPOL-logo__clip-e)"}},[i("rect",{class:"IPOL-logo__rect-c",width:"351.414",height:"45.4688"})]),g(),i("g",{class:"IPOL-logo__group-f",style:{"clip-path":"url(#IPOL-logo__clip-g)"}},[i("rect",{class:"IPOL-logo__rect-g",x:"0.00049",width:"351.41351",height:"45.4688"})])])])])])]),i("a",{href:"https://www.cdek.ru/",target:"_blank",class:"CDEK-widget__logo CDEK-widget__inaccessible"},[i("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 212.68346 47.2252"},[i("defs",null,[i("linearGradient",{id:"CDEK-widget__logo-gradient","data-name":"Безымянный градиент",x1:"10717.5556",y1:"-10111.60892",x2:"12379.5556",y2:"-10111.60892",gradientTransform:"matrix(0.02835, 0, 0, -0.02835, -299.26929, -256.66611)",gradientUnits:"userSpaceOnUse"},[i("stop",{offset:"0","stop-color":"#fff"}),g(),i("stop",{offset:"1","stop-color":"#00732c"})])]),i("g",null,[i("g",null,[i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"57.65669",y:"1.98425",width:"42.26457",height:"43.34173"}),i("path",{class:"CDEK-widget__logo-b",d:"M89.65984,18.79367H85.20945c-8.92913,0-16.55433,22.36535-6.0378,22.36535H85.9748c3.88346,0,6.7748,1.41732,5.49921,5.21575l-1.78583,5.27244h-7.2l-5.811-.05669c-7.42677-.085-12.24567-3.74173-13.9748-9.26929-1.84252-5.9811.7937-18.53858,8.44724-26.53228C75.6,11.16847,81.75118,8.36218,89.74488,8.36218h14.59843l-2.26772,6.51969c-1.53071,4.22362-4.53543,3.91181-6.26457,3.91181H89.65984Z",transform:"translate(-4.47874 -6.34958)"})]),g(),i("g",null,[i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"133.73858",y:"18.3685",width:"32.17323",height:"10.57323"}),g(),i("path",{class:"CDEK-widget__logo-b",d:"M170.33386,24.74643H146.74961c-3.88346,0-5.64094,1.02047-6.32126,3.31654l-2.211,7.2h23.55591c3.85512,0,5.64094-1.07717,6.32126-3.37323Z",transform:"translate(-4.47874 -6.34958)"})]),i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"127.98425",y:"1.98425",width:"43.39843",height:"43.34173"}),g(),i("path",{class:"CDEK-widget__logo-b",d:"M164.60787,41.159H141.02362c-3.88346,0-5.64094,1.07717-6.32126,3.31654l-2.211,7.17165H156.0189c3.88346,0,5.66929-1.07717,6.34961-3.31654Zm0,0h0ZM175.80472,8.36218H152.27716c-3.91181,0-5.69764,1.02047-6.378,3.28819l-2.211,7.14331h23.55591c3.91181,0,5.66929-1.07717,6.378-3.31654Z",transform:"translate(-4.47874 -6.34958)"})])]),g(),i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"89.85827",y:"1.98425",width:"43.93701",height:"43.34173"}),i("path",{class:"CDEK-widget__logo-b",d:"M116.674,18.737h5.86772c4.96063,0,3.82677,6.26457,1.27559,12.3874-2.18268,5.35748-6.15118,10.03465-10.885,10.03465H103.1811c-3.88346,0-5.69764,1.07717-6.463,3.31654L94.337,51.64721h7.17165l6.97323-.05669c6.20787-.085,11.33858-0.51024,17.23465-5.86772,6.29291-5.64094,13.63465-20.32441,12.3874-28.77165-0.99213-6.66142-4.59213-8.589-13.20945-8.589H109.07716L99.94961,35.20627h5.811c3.45827,0,5.21575.05669,7.02992-4.90394Z",transform:"translate(-4.47874 -6.34958)"})]),g(),i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"161.88661",y:"1.95591",width:"50.79685",height:"43.37008"}),i("path",{class:"CDEK-widget__logo-b",d:"M166.36535,51.64721h11.08346l4.79055-13.63465L187.2,33.84564l3.88346,12.33071c1.24724,3.79843,2.49449,5.47087,5.21575,5.47087h8.47559L196.04409,27.411,217.10551,8.30548h-13.6063l-12.86929,13.578c-1.44567,1.61575-2.948,3.14646-4.50709,5.04567H185.9811l6.463-18.62362h-11.1685Z",transform:"translate(-4.47874 -6.34958)"})])]),g(),i("g",null,[i("g",null,[i("rect",{class:"CDEK-widget__logo-a",width:"47.2252",height:"47.2252"}),g(),i("path",{class:"CDEK-widget__logo-c",d:"M22.22362,7.11493L24.57638,6.633l2.35276-.22677h2.35276L31.578,6.633l2.23937,0.45354L36,7.7669l2.09764,0.85039,2.0126,1.07717,1.89921,1.2189,1.75748,1.41732,1.61575,1.5874,1.474,1.75748,1.30394,1.89921,1.13386,2.04094,0.90709,2.18268,0.70866,2.29606,0.48189,2.35276,0.25512,2.3811v2.32441l-0.25512,2.29606-0.45354,2.26772-0.652,2.15433-0.85039,2.126-1.07717,1.98425-1.24724,1.89921-1.41732,1.75748-1.5874,1.64409-1.75748,1.474-1.89921,1.30394-2.04094,1.10551-2.18268.93543-2.29606.70866-2.35276.48189-2.35276.22677H26.90079l-2.29606-.22677L22.337,52.83777l-2.18268-.68031-2.09764-.85039-1.98425-1.07717-1.89921-1.24724L12.3874,47.56532l-1.61575-1.5874-1.474-1.72913L7.9937,42.32123,6.85984,40.28029,5.95276,38.126l-0.737-2.29606L4.7622,33.44879,4.53543,31.096V28.77162L4.7622,26.47556l0.45354-2.23937,0.68031-2.18268,0.85039-2.09764,1.04882-2.0126,1.24724-1.89921,1.41732-1.75748,1.5874-1.64409,1.75748-1.474,1.89921-1.30394,2.04094-1.13386,2.18268-.90709Z",transform:"translate(-4.47874 -6.34958)"})]),i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"9.26929",y:"14.14488",width:"36.17008",height:"26.70236"}),g(),i("path",{class:"CDEK-widget__logo-d",d:"M17.40472,21.82674A46.83559,46.83559,0,0,0,27.18425,23.074c5.726,0.22677,11.99055.05669,19.53071,0h2.60787c0.62362,0,.7937.68031,0.11339,0.90709l-2.29606.652C32.99528,28.885,22.252,34.15745,14.51339,46.885c-0.31181.51024-.7937,0.25512-0.737-0.3685,0.822-5.89606,1.67244-10.77165,4.337-16.15748-1.53071-2.211-1.10551-4.62047-2.69291-8.13543-0.17008-.39685-0.3685-0.737-0.45354-0.99213-0.19843-.62362.14173-0.822,0.62362-0.652C16.7811,21.08973,15.93071,21.51493,17.40472,21.82674Z",transform:"translate(-4.47874 -6.34958)"})]),i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"8.16378",y:"14.0315",width:"31.63465",height:"23.83937"}),g(),i("path",{class:"CDEK-widget__logo-e",d:"M17.348,21.7984a51.83,51.83,0,0,0,9.77953,1.24724c5.13071,0.17008,10.68661.05669,17.12126,0-12.64252,4.05354-22.8189,9.89291-30.189,21.14646a45.40689,45.40689,0,0,1,4.05354-13.86142c-0.3685-.51024-0.737-1.02047-1.10551-1.5874,0.085-.17008.17008-0.39685,0.25512-0.56693a46.864,46.864,0,0,1-4.62047-7.48346c0-.31181.31181-0.34016,0.652-0.25512A20.61427,20.61427,0,0,0,17.348,21.7984Z",transform:"translate(-4.47874 -6.34958)"})]),i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"5.86772",y:"9.89291",width:"37.27559",height:"27.72283"}),g(),i("path",{class:"CDEK-widget__logo-d",d:"M15.052,17.68816a56.892,56.892,0,0,0,9.80787,1.24724c5.726,0.17008,11.9622,0,19.50236,0h2.63622c0.652,0,.822.68031,0.14173,0.85039l-2.32441.70866c-14.11654,4.252-25.285,10.34646-33.02362,23.10236-0.34016.51024-.87874,0.4252-0.737-0.17008,0.99213-5.83937,2.06929-11.84882,4.79055-17.14961A44.09769,44.09769,0,0,1,10.8,17.94328c-0.17008-.4252-0.31181-0.68031-0.39685-0.93543-0.17008-.652.22677-0.90709,0.737-0.652A25.08521,25.08521,0,0,0,15.052,17.68816Z",transform:"translate(-4.47874 -6.34958)"})])])])])]),i("div",{class:"CDEK-widget__photo"},[i("div",{class:"CDEK-widget__photo-block"},[i("div",{class:"CDEK-widget__photo-block__cross"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15.6435 15.64375"},[i("path",{class:"cross",d:"M8.882,7.821L15.423,1.28A0.75024,0.75024,0,1,0,14.362.219L7.821,6.76,1.28,0.22A0.75024,0.75024,0,0,0,.219,1.281L6.76,7.822l-6.54,6.54a0.74989,0.74989,0,1,0,1.06,1.061L7.821,8.882l6.541,6.541a0.74989,0.74989,0,1,0,1.06-1.061Z",transform:"translate(0.00075 0.00078)"})])]),i("img",{src:"#"})])]),g(),i("div",{class:"CDEK-widget__sidebar-button__hint",id:"list"},"Список пунктов выдачи заказов"),g(),i("div",{class:"CDEK-widget__sidebar-button__hint",id:"delivery"},"Способ доставки"),g(),i("div",{class:"CDEK-widget__sidebar-button__hint",id:"point1"},"Расчет картой"),g(),i("div",{class:"CDEK-widget__sidebar-button__hint",id:"point2"},"Постаматы СДЭК"),g(),i("div",{class:"CDEK-widget__sidebar-button__hint",id:"point3"},"С примеркой"),g(),i("div",{class:"CDEK-widget__sidebar-button__hint",id:"contacts"},"Служба поддержки"),g(),i("div",{id:"oDcfl_SDEK_closer",class:"SDEK_closer"})])])],-1);function pe(n,d,p,o,f,h){return v(),k("div",de,[i("button",{onClick:d[0]||(d[0]=r=>f.orderWidjet.open()),style:{background:"rgb(76, 175, 80)",cursor:"pointer",width:"100%",border:"medium none","border-radius":"6px","font-size":"16px",padding:"2%","margin-top":"1%"}}," Выбрать пунк выдачи "),_e,ue])}const fe=Z(le,[["render",pe]]);const ge={components:{SDEKcart:fe},el:"#check_form",props:["type"],data(){return{USER_STATE:this.$store.getUser,delivery_info:null,user_default_field_number:"",user_number:"",user_default_number:!0,user_number_val:!0}},async mounted(){let n=await F();this.user_default_field_number=n.data.number},methods:{order_info_select(){return this.delivery_info==null?{status:!1,message:"Не указана доставка"}:{status:!0}},async onChoise(n){console.log(1324),this.delivery_info=await n,this.delivery_info.delivery_type="Заказ через службу доставки",this.$emit("onChoise",this.delivery_info)}},setup(){const n=J({adress:{value:""},index:{value:""}}),d={adress:{value:{required:U.withMessage("Требуется",W)}},index:{value:{required:U.withMessage("Требуется",W)}}},p=re(d,n);return{state:n,v$:p}}},V=n=>(T("data-v-28357489"),n=n(),B(),n),he={id:"check_form"},ye=V(()=>i("p",{class:"VAG",align:"left"},"Доставка",-1)),me={class:"h_sto"},ve={key:0},we={class:"relative"},ke=V(()=>i("span",{class:"floating-label active"},"Цена",-1)),Ce={class:"relative"},be=V(()=>i("span",{class:"floating-label active"},"Номер постмата",-1)),Ee={class:"relative"},De=V(()=>i("span",{class:"floating-label active"},"Адрес",-1)),Ke={class:"relative"},je=V(()=>i("span",{class:"floating-label active"},"Примерное время доставки",-1));function xe(n,d,p,o,f,h){const r=K("SDEKcart");return v(),k("div",he,[ye,i("div",me,[f.delivery_info?(v(),k("div",ve,[i("div",we,[q(i("input",{type:"text",disabled:"","onUpdate:modelValue":d[0]||(d[0]=u=>f.delivery_info.price=u)},null,512),[[S,f.delivery_info.price]]),ke]),i("div",Ce,[q(i("input",{type:"text",disabled:"","onUpdate:modelValue":d[1]||(d[1]=u=>f.delivery_info.id=u)},null,512),[[S,f.delivery_info.id]]),be]),i("div",Ee,[q(i("input",{type:"text",disabled:"","onUpdate:modelValue":d[2]||(d[2]=u=>f.delivery_info.PVZ.Address=u)},null,512),[[S,f.delivery_info.PVZ.Address]]),De]),i("div",Ke,[q(i("input",{type:"text",disabled:"","onUpdate:modelValue":d[3]||(d[3]=u=>f.delivery_info.term=u)},null,512),[[S,f.delivery_info.term]]),je])])):D("",!0)]),x(r,{products:this.$store.getUser.basket,onOnChoise:d[4]||(d[4]=u=>h.onChoise(u))},null,8,["products"])])}const qe=Z(ge,[["render",xe],["__scopeId","data-v-28357489"]]),Se={mounted(){let n={id:"-",price:0,delivery_type:"Самовывоз"};this.$emit("onChoise",n)},methods:{order_info_select(){return{status:!0}}}},Ae=i("p",{class:"VAG",align:"left"},"Доставка",-1),Le=i("p",{class:"VAG",align:"left"},"Адресс: Россия, Тамбовская обл Поселок Прогресс ул",-1),Ze=i("iframe",{src:"https://yandex.ru/map-widget/v1/?um=constructor%3Ad6f774796b8ee43fafc04b069f9e5a05a52bd449ab3e11ada5cd6a12821e6305&source=constructor",width:"500",height:"400",frameborder:"0"},null,-1),Pe=[Ae,Le,Ze];function Me(n,d,p,o,f,h){return v(),k("div",null,Pe)}const Oe=Z(Se,[["render",Me]]);async function Ve(){try{var n=await A({url:`${L}api/v0.1/delivery/delivery_state`,method:"get",headers:{},withCredentials:!0});return n}catch(d){return d.response}}const Ie={data(){return{list_state_region:{data:[]},select_text:"",delivery_info:null,is_error:!1,error_message:""}},async created(){this.list_state_region=await Ve()},methods:{onChoise(){if(console.log(1324),this.order_info_select().status){let d={id:this.select_text,price:0,delivery_type:"Заказ через собственную доставку"};this.delivery_info=d,this.$emit("onChoise",this.delivery_info)}},order_info_select(){if(!this.select_text)return this.is_error=!0,this.error_message="не выбран адрес",{status:!1,message:"не выбран адрес"};let n=!1;return this.list_state_region.data.forEach(d=>{d.state+" - "+d.region==this.select_text&&(n=!0)}),n?{status:!0}:(this.is_error=!0,this.error_message="неверный адрес",{status:!1,message:"неверный адрес"})}}},Te={class:"m2"},Be=i("p",{align:"left",class:"VAG"},"Выберете город",-1),He={id:"colors-list"},Ne={key:0},Re=["value"];function $e(n,d,p,o,f,h){return v(),k("div",Te,[Be,q(i("input",{onInput:d[0]||(d[0]=r=>h.onChoise()),"onUpdate:modelValue":d[1]||(d[1]=r=>f.select_text=r),list:"colors-list"},null,544),[[S,f.select_text]]),i("datalist",He,[f.is_error?(v(),k("p",Ne,z(f.error_message),1)):D("",!0),(v(!0),k(X,null,Q(f.list_state_region.data,r=>(v(),k("option",{class:"option",key:r.id,value:r.state+" - "+r.region},null,8,Re))),128))])])}const Ue=Z(Ie,[["render",$e]]);const We={components:{delivery_sdek:qe,pickup:Oe,delivery_me:Ue},el:"#check_form",props:["type"],data(){return{USER_STATE:this.$store.getUser,delivery_info:null,user_default_field_number:"",user_number:"",user_default_number:!0,user_number_val:!0}},async mounted(){let n=await F();this.user_default_field_number=n.data.number,n.status==400&&(this.user_default_number=!1)},methods:{validate_number(){return this.user_default_number?{status:!0,number:{default:!0,number:""}}:this.user_number.match(/79[0-9]{9}/)?(this.user_number_val=!0,{status:!0,number:{default:!1,number:this.user_number}}):(this.user_number_val=!1,{status:!1,message:"Не верно указан номер"})},order_info_select(){let n={};return this.type==1&&(n=this.$refs.checkout_form_delivery.order_info_select(),console.log(n,"d")),this.type==3&&(n=this.$refs.checkout_form_delivery_me.order_info_select()),this.type==2&&(n=this.$refs.checkout_form_pickup.order_info_select()),n.status&&(n=this.validate_number()),n},pickup_type(){this.delivery_info={price:0},this.$emit("delivery",this.delivery_info)},async onChoise(n){console.log("on_checkout"),this.delivery_info=await n,this.$emit("delivery",this.delivery_info)}}},Fe=n=>(T("data-v-a77a79ff"),n=n(),B(),n),Ge={id:"check_form"},Ye={class:"relative m2"},Je={key:1},ze={key:0,style:{color:"brown"}},Xe=Fe(()=>i("span",{class:"floating-label active"},"Номер телефона",-1));function Qe(n,d,p,o,f,h){const r=K("delivery_sdek"),u=K("pickup"),w=K("delivery_me");return v(),k("div",Ge,[i("div",Ye,[f.user_default_number?q((v(),k("input",{key:0,disabled:"",type:"text","onUpdate:modelValue":d[0]||(d[0]=m=>f.user_default_field_number=m)},null,512)),[[S,f.user_default_field_number]]):(v(),k("div",Je,[f.user_number_val?D("",!0):(v(),k("p",ze,"Неверно указан номер, пример: 79111111111")),q(i("input",{type:"text","onUpdate:modelValue":d[1]||(d[1]=m=>f.user_number=m)},null,512),[[S,f.user_number]])])),Xe]),f.user_default_number?(v(),k("button",{key:0,onClick:d[2]||(d[2]=m=>f.user_default_number=!f.user_default_number),style:{background:"rgb(76, 175, 80)",cursor:"pointer",width:"100%",border:"medium none","border-radius":"6px","font-size":"16px",padding:"2%"}}," Изменить телефон ")):D("",!0),p.type==1?(v(),O(r,{key:1,ref:"checkout_form_delivery",onOnChoise:d[3]||(d[3]=m=>h.onChoise(m))},null,512)):D("",!0),p.type==2?(v(),O(u,{key:2,ref:"checkout_form_pickup",onOnChoise:d[4]||(d[4]=m=>h.onChoise(m))},null,512)):D("",!0),p.type==3?(v(),O(w,{key:3,ref:"checkout_form_delivery_me",onOnChoise:d[5]||(d[5]=m=>h.onChoise(m))},null,512)):D("",!0)])}const et=Z(We,[["render",Qe],["__scopeId","data-v-a77a79ff"]]);async function tt(n){try{var d=await A({url:`${L}api/v0.1/payments/create/`,method:"post",headers:{},withCredentials:!0,data:{...n}});return d}catch(p){return p.response}}async function it(n,d,p){try{var o=await A({url:`${L}api/v0.1/beekeeper_web_api/order/create`,method:"post",headers:{},withCredentials:!0,data:{delivery_price:n,order_id:d,number:p}});return o}catch(f){return f.response}}async function st(n){try{var d=await A({url:`${L}api/v0.1/delivery/create/lait`,method:"post",headers:{},withCredentials:!0,data:n});return d}catch(p){return p.response}}const ot={el:"#sub_order",props:["items","forms_validate","delivery_info","order_id"],data(){return{order_create:null,type:"online"}},methods:{set_type(n){this.type=n},async submin_order(n){if(await this.$emit("forms_validate_met"),this.forms_validate.status){let d=await it(this.delivery_info.price,this.order_id,this.forms_validate.number.default?void 0:this.forms_validate.number.number);this.order_create=d.data,await this.create_delivery_lait()?await this.create_payment(n):alert("С доставкой произошла проблема, попробуйте перезагрузить страницу")}else alert(this.forms_validate.message)},async create_payment(n){let d=await tt({payment_service:n==1?"yookassa":"offline",order_service:"online_shop",order_id:this.order_create.id,currency:"RUB"});n==1?document.location.href=d.data.payment_url:this.$router.push("/orders")},async create_delivery_lait(){return(await st({order_id:this.order_create.id,PVZ:this.delivery_info.id,price:this.delivery_info.price,user_number:this.forms_validate.number.default?void 0:this.forms_validate.number.number,delivery_type:this.delivery_info.delivery_type})).status==200}}},N=n=>(T("data-v-48b145bb"),n=n(),B(),n),rt={id:"sub_order",class:"w-sto"},nt={key:0},at=N(()=>i("div",{class:"fon_btn"},null,-1)),ct={key:1},lt=N(()=>i("div",{class:"fon_btn"},null,-1)),dt=N(()=>i("button",{class:"w-sto"},[i("div",{class:"fon_btn"}),g(" Добавить товар")],-1));function _t(n,d,p,o,f,h){const r=K("RouterLink");return v(),k("div",rt,[p.items.length?(v(),k("div",nt,[f.type=="offline"?(v(),O(r,{key:0,to:"/checkout"},{default:I(()=>[i("button",{onClick:d[0]||(d[0]=u=>h.submin_order(2)),class:"w-sto"},[at,g("Оплатить лично")])]),_:1})):D("",!0),f.type=="offline"?(v(),k("p",ct,"или")):D("",!0),x(r,{to:"/checkout"},{default:I(()=>[i("button",{style:ee(f.type=="offline"?"margin-top: 0":""),onClick:d[1]||(d[1]=u=>h.submin_order(1)),class:"w-sto"},[lt,g("Оплатить онлайн")],4)]),_:1})])):(v(),O(r,{key:1,to:"/catalog"},{default:I(()=>[dt]),_:1}))])}const ut=Z(ot,[["render",_t],["__scopeId","data-v-48b145bb"]]);async function pt(n){try{var d=await A({url:`${L}api/v0.1/beekeeper_web_api/order/checkout`,method:"post",headers:{},withCredentials:!0,data:{basket_id_list:n}});return d}catch(p){return p.response}}async function ft(n){try{var d=await A({url:`${L}api/v0.1/orders/${n}`,method:"get",headers:{}});return d}catch(p){return p.response}}const gt={delivery_price:1,delivery_not_price:2,not_delivery:3};const ht={el:"#checkout",components:{BasketInfo:se,Checkouts:et,ProductListInfo:oe,Submit_order:ut,OrderProductList:ne},setup(){te({title:"Пчелиная артель - Оформление заказа",script:[{hid:"stripe",src:"https://cdn.jsdelivr.net/gh/cdek-it/widget@3/dist/cdek-widget.umd.js",defer:!0}]})},data(){return{forms_validate:!1,delivery_info:{price:null},order:null,type_checkout:gt.delivery_price}},async created(){let n=await pt("__all__");if(!n.data)this.order={id:1,amount:"0.000",amount_currency:"RUB",product_list_transaction:[],delivery:null,datetime:"2023-12-09T12:21:20.096779+03:00",payment:null,status:"Не подтвержденный"};else{let d=n.data.order_id,p=await ft(d);this.order=p.data}},methods:{set_type_checkout(n){n==2&&(this.delivery_info={price:0}),n!=1?this.$refs.sub_order.set_type("offline"):this.$refs.sub_order.set_type("online"),this.type_checkout=n},forms_validate_met(){this.forms_validate=this.$refs.checkout_form.order_info_select()},async delivery_price_select(n){this.delivery_info=await n}}},G=n=>(T("data-v-ece89f2c"),n=n(),B(),n),yt={class:"sot-ob"},mt={class:"wrapper flex"},vt={class:"user_card flex auto"},wt={class:"interactiv user_card_div auto",id:"checkout"},kt={class:"w-sto kor",id:"kor"},Ct=G(()=>i("p",{class:"small-big VAG"},"Оформление",-1)),bt={key:0,class:"w-sto flex kor_block jus-sp"},Et={class:"w-sto-1000px checkout"},Dt={class:"select_type_list flex jus-sp"},Kt=G(()=>i("p",{align:"left",class:"VAG small"},"Товары",-1)),jt={class:"w-sto-1000px register_zakaz"};function xt(n,d,p,o,f,h){const r=K("Checkouts"),u=ie,w=K("order-product-list"),m=K("Submit_order"),j=K("ProductListInfo");return v(),k("div",yt,[i("div",mt,[i("div",vt,[i("div",wt,[i("div",kt,[Ct,f.order?(v(),k("div",bt,[i("div",Et,[i("div",Dt,[i("button",{style:{width:"25%"},class:H(["default_btn",f.type_checkout==1?"active":""]),onClick:d[0]||(d[0]=s=>h.set_type_checkout(1))}," СДЭК ",2),i("button",{style:{width:"25%"},class:H(["default_btn",f.type_checkout==2?"active":""]),onClick:d[1]||(d[1]=s=>h.set_type_checkout(2))}," Самовывоз ",2),i("button",{style:{width:"25%"},class:H(["default_btn",f.type_checkout==3?"active":""]),onClick:d[2]||(d[2]=s=>h.set_type_checkout(3))}," Наша доставка ",2)]),x(u,null,{default:I(()=>[x(r,{onDelivery:d[3]||(d[3]=s=>h.delivery_price_select(s)),ref:"checkout_form",type:f.type_checkout},null,8,["type"])]),_:1}),Kt,x(w,{orderList:f.order.product_list_transaction},null,8,["orderList"])]),i("div",jt,[x(m,{ref:"sub_order",order_id:f.order.id,delivery_info:f.delivery_info,onForms_validate_met:h.forms_validate_met,items:f.order.product_list_transaction,forms_validate:f.forms_validate},null,8,["order_id","delivery_info","onForms_validate_met","items","forms_validate"]),x(j,{order_amount:f.order.amount,ordered:!0,items:f.order.product_list_transaction,delivery_price:f.delivery_info.price},null,8,["order_amount","items","delivery_price"])])])):D("",!0)])])])])])}const Zt=Z(ht,[["render",xt],["__scopeId","data-v-ece89f2c"]]);export{Zt as default};
