import{a as p,r as f,b as k,c as v}from"./removeFavorite.d8c3dba8.js";import{a as _,o as a,b as i,Y as h,e as d,F as l,k as u,t as m}from"./entry.c510a78c.js";const g={el:"#addBasket",name:"AddBasket",props:["id","pack_id","wei_id"],data(){return{isBasket:!1}},created(){this.a()},setup(){},methods:{a(){let t=this;console.log(this.$store.getUser.basket),this.$store.getUser.basket.find(function(e){return t.id==e.productItem.product.id&&t.wei_id==e.productItem.weight.id&&t.pack_id==e.productItem.type_packaging.id})?this.isBasket=!0:this.isBasket=!1},async addBasketBtn(){let t=await p(this.id,this.pack_id,this.wei_id);t.status==200&&(this.$store.ADD_BASKET_ITEM(t.data.basketItem),this.isBasket=!0)},async removeBasketBtn(){let t=await f(this.id,this.pack_id,this.wei_id);t.status==200&&(this.$store.REMOVE_BASKET_ITEM(t.data.id),this.isBasket=!1)}},watch:{pack_id(){console.log(3214),this.a()},wei_id(){console.log(3214),this.a()}}},B={id:"addBasket"};function $(t,s,e,c,n,o){return a(),i("div",B,[n.isBasket?(a(),i("button",{key:0,onClick:s[0]||(s[0]=(...r)=>o.removeBasketBtn&&o.removeBasketBtn(...r)),class:"btn au"},"Убрать из корзины")):(a(),i("button",{key:1,onClick:s[1]||(s[1]=(...r)=>o.addBasketBtn&&o.addBasketBtn(...r)),class:"btn au"},"Добавить в корзину"))])}const R=_(g,[["render",$],["__scopeId","data-v-196cf92a"]]);const y=h({el:"#favorite",name:"FavoriteComp",props:["id","pack_id","wei_id"],data(){return{isFavorite:!1}},setup(){},created(){this.a()},methods:{a(){let t=this;this.$store.getUser.favorite_product.find(function(e){return t.id==e.productItem.product.id&&t.wei_id==e.productItem.weight.id&&t.pack_id==e.productItem.type_packaging.id})?this.isFavorite=!0:this.isFavorite=!1},async addFavoriteBtn(){let t=await k(this.id,this.pack_id,this.wei_id);t.status==200&&(this.$store.ADD_FAVORITE_ITEM(t.data.favoriteItem),this.isFavorite=!0)},async removeFavoriteBtn(){let t=await v(this.id,this.pack_id,this.wei_id);t.status==200&&(this.$store.REMOVE_FAVORITE_ITEM(t.data.id),this.isFavorite=!1)}},watch:{pack_id(){this.a()},wei_id(){this.a()}}},"$mMs4bzKJaw"),F=["src"],w=["src"];function b(t,s,e,c,n,o){return t.isFavorite?(a(),i("button",{key:0,onClick:s[0]||(s[0]=r=>t.removeFavoriteBtn()),id:"favorite",class:"fav-btn flex auto"},[d("img",{class:"auto",src:`${t.$api_root}static/online_store/images/favorite/favorite_remove.png`,alt:""},null,8,F)])):(a(),i("button",{key:1,id:"favorite",onClick:s[1]||(s[1]=r=>t.addFavoriteBtn()),class:"fav-btn flex auto"},[d("img",{class:"auto",src:`${t.$api_root}static/online_store/images/favorite/favorite_add.png`,alt:""},null,8,w)]))}const x=_(y,[["render",b],["__scopeId","data-v-029fbcb6"]]);const I={el:"#rating",name:"RatingComp",props:["rating"]},E={class:"rating-mini",id:"rating"},C={class:"normal-small",style:{display:"inline"}};function M(t,s,e,c,n,o){return a(),i("div",E,[(a(!0),i(l,null,u(Math.round(e.rating),r=>(a(),i("span",{key:r,class:"active"}))),128)),(a(!0),i(l,null,u(5-Math.round(e.rating),r=>(a(),i("span",{key:r}))),128)),d("p",C,"/"+m(Math.round(e.rating*100)/100),1)])}const D=_(I,[["render",M]]);export{R as A,x as F,D as R};
