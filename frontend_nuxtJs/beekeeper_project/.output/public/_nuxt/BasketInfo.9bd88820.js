import{a as l,r as u,o as n,b as i,c as m,x as f,p as g,q as I,f as o,z as v,t as _,v as y,e as h}from"./entry.c4e6406c.js";const k={el:"sub_order_ref",props:["items"]},b=e=>(g("data-v-5120646a"),e=e(),I(),e),x={id:"sub_order_ref",class:"w-sto"},S=b(()=>o("button",{class:"w-sto"},[o("div",{class:"fon_btn"}),v("Оформить")],-1)),w=b(()=>o("button",{class:"w-sto"},[o("div",{class:"fon_btn"}),v(" Добавить товар")],-1));function B(e,s,t,a,p,c){const r=u("RouterLink");return n(),i("div",x,[t.items.length?(n(),m(r,{key:0,to:"/checkout"},{default:f(()=>[S]),_:1})):(n(),m(r,{key:1,to:"/catalog"},{default:f(()=>[w]),_:1}))])}const $=l(k,[["render",B],["__scopeId","data-v-5120646a"]]);const F={el:"#pr_list_info",props:["items","delivery_price","ordered","order_amount"],data(){return{summ:0}},methods:{getCountBasket(){let e=0;return this.items.forEach(s=>{e+=parseInt(s.count)}),e},getWeight(){let e=this.items.reduce(function(t,a){return t+parseFloat(a.productItem.dimensions.weight*a.count)},0),s="";return e>=1e3?(e=e/1e3,s=`${e} кг`):s=`${e} гр`,s},getSumm(){let e=0;return this.ordered?(e+=parseFloat(this.order_amount),e+=parseFloat(this.delivery_price?this.delivery_price:0)):e=this.items.reduce(function(s,t){return s+parseFloat(t.productItem.price*t.count)},0),e},getSale(){return this.items.reduce(function(s,t){return t.productItem.is_sale?(console.log(t),console.log(t.productItem.old_price,parseFloat(t.productItem.price),t.productItem.price),s+(parseFloat(t.productItem.old_price)-parseFloat(t.productItem.price))):s},0)}}},z=e=>(g("data-v-c784a72c"),e=e(),I(),e),C={id:"pr_list_info",class:"kor_all_info auto w-sto m-2"},L={class:"m2"},N={class:"m2"},P={class:"m2"},V={key:0,class:"m2"},O=z(()=>o("p",{class:"m2"},"скидки:",-1)),E={id:"is",class:"small"};function R(e,s,t,a,p,c){return n(),i("div",C,[o("p",L,"Товаров: "+_(c.getCountBasket()),1),o("p",N,"Вес: "+_(c.getWeight()),1),o("p",P," Цена: "+_(t.ordered?t.order_amount:t.items.reduce(function(r,d){return r+parseFloat(d.productItem.price)},0)),1),t.ordered?(n(),i("p",V,"Цена доставки: "+_(t.delivery_price!=null?t.delivery_price:"Не выбранно"),1)):y("",!0),O,o("ul",null,[o("li",null,_(c.getSale()),1)]),o("p",E," Итоговая сумма: "+_(c.getSumm()),1)])}const W=l(F,[["render",R],["__scopeId","data-v-c784a72c"]]);const q={components:{SubmitOrderref:$,ProductListInfo:W},el:"#reg_zakaz",name:"BasketInfo",props:["items"]},D={class:"register_zakaz",style:{width:"100%"}};function T(e,s,t,a,p,c){const r=u("SubmitOrderref"),d=u("ProductListInfo");return n(),i("div",D,[h(r,{items:t.items},null,8,["items"]),h(d,{items:t.items,ordered:!1},null,8,["items"])])}const A=l(q,[["render",T],["__scopeId","data-v-259016bb"]]);export{A as B,W as P};
