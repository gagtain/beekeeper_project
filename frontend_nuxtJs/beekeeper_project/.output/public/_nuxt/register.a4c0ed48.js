import{_ as f}from"./ImageForm.a6e18b99.js";import{i as $,j as y,a as b,C as x,N as I,O as F,b as o,f as t,h as M,F as d,l as n,D as m,E as u,o as l,t as v,p as k,m as O,B as V}from"./entry.233c9803.js";import{c as i,r as c,e as S,m as p,s as q,u as B}from"./index.1dd0d23e.js";async function D(r){try{var a=await $({url:`${y}api/v0.1/beekeeper_web_api/register`,method:"post",data:r});return a}catch(_){return _.response}}const L={el:"#registry",data(){return{width:0,login_img_active:!1}},setup(){const r=x({username:{label:"Логин",name:"username",value:""},FIO:{label:"ФИО",name:"FIO",value:""},email:{label:"почта",name:"email",value:""},password:{label:"Пароль",name:"password",value:""},password2:{label:"Подтверждение пароля",name:"password2",value:""}}),a={username:{value:{required:i.withMessage("Требуется",c)}},FIO:{value:{required:i.withMessage("Требуется",c)}},email:{value:{required:i.withMessage("Требуется",c),email:i.withMessage("Неверная почта",S)}},password:{value:{minLength:i.withMessage("Длинна не менее 8-ми символов",p(8)),required:i.withMessage("Требуется",c)}},password2:{value:{minLength:i.withMessage("Длинна не менее 8-ми символов",p(8)),required:i.withMessage("Требуется",c),sameAsPassword:i.withMessage("Пароли не совпадают",q(I(()=>r.password.value)))}}},_=B(a,r);return{state:r,v$:_}},mounted(){this.updateWidth(),window.addEventListener("resize",this.updateWidth)},methods:{async refisterSubmit(r){if(this.v$.$touch(),r.preventDefault(),!this.v$.$error){let a=await D(new FormData(document.getElementById("form")));a.status==201?(console.log("success"),F(this,{path:"/profile"})):a.status==400?console.log("error"):a.status==404&&alert("сайт на проверке, подождите 5 минут")}return!1},updateWidth(){this.width=window.innerWidth}}},h=r=>(k("data-v-2a4df219"),r=r(),O(),r),U={class:"sot-ob"},A={class:"wrapper flex"},E={class:"login-page flex",id:"registry"},N={class:"form"},W=h(()=>t("p",{class:"small login-p"},"Создать аккаунт",-1)),j={class:"flex h_sto"},C={class:"register-form auto",id:"form"},T={class:"error_list"},z=["placeholder","name"],P={class:"error_list"},G=["placeholder","name"],H={class:"error_list"},J=["placeholder","name"],K={class:"error_list"},Q=["placeholder","name"],R={class:"error_list flex jus-sp-ar"},X=["placeholder","name"],Y=h(()=>t("p",{class:"message"},[V("Already registered? "),t("a",{href:"#"},"Sign In")],-1));function Z(r,a,_,s,ee,w){const g=f;return l(),o("div",U,[t("div",A,[t("div",E,[M(g),t("div",N,[W,t("div",j,[t("form",C,[t("div",T,[(l(!0),o(d,null,n(s.v$.username.value.$errors,e=>(l(),o("div",{key:e.$uid},v(e.$message),1))),128))]),m(t("input",{type:"text",placeholder:s.state.username.label,name:s.state.username.name,"onUpdate:modelValue":a[0]||(a[0]=e=>s.v$.username.value.$model=e)},null,8,z),[[u,s.v$.username.value.$model]]),t("div",P,[(l(!0),o(d,null,n(s.v$.FIO.value.$errors,e=>(l(),o("div",{key:e.$uid},v(e.$message),1))),128))]),m(t("input",{type:"text",placeholder:s.state.FIO.label,name:s.state.FIO.name,"onUpdate:modelValue":a[1]||(a[1]=e=>s.v$.FIO.value.$model=e)},null,8,G),[[u,s.v$.FIO.value.$model]]),t("div",H,[(l(!0),o(d,null,n(s.v$.email.value.$errors,e=>(l(),o("div",{key:e.$uid},v(e.$message),1))),128))]),m(t("input",{type:"text",placeholder:s.state.email.label,name:s.state.email.name,"onUpdate:modelValue":a[2]||(a[2]=e=>s.v$.email.value.$model=e)},null,8,J),[[u,s.v$.email.value.$model]]),t("div",K,[(l(!0),o(d,null,n(s.v$.password.value.$errors,e=>(l(),o("div",{key:e.$uid},v(e.$message),1))),128))]),m(t("input",{type:"text",placeholder:s.state.password.label,name:s.state.password.name,"onUpdate:modelValue":a[3]||(a[3]=e=>s.v$.password.value.$model=e)},null,8,Q),[[u,s.v$.password.value.$model]]),t("div",R,[(l(!0),o(d,null,n(s.v$.password2.value.$errors,e=>(l(),o("div",{key:e.$uid},v(e.$message),1))),128))]),m(t("input",{type:"text",placeholder:s.state.password2.label,name:s.state.password2.name,"onUpdate:modelValue":a[4]||(a[4]=e=>s.v$.password2.value.$model=e)},null,8,X),[[u,s.v$.password2.value.$model]]),t("button",{onClick:a[5]||(a[5]=e=>w.refisterSubmit(e))},"create"),Y])])])])])])}const re=b(L,[["render",Z],["__scopeId","data-v-2a4df219"]]);export{re as default};
