import{a as m,o as c,b as _,e as u,F as v,m as f,c as I,H as S,f as s,t as l,E as $,s as P,v as g,p as k,q as w,r as p,x as M,z as T,y as B}from"./entry.b4d38e3d.js";import{A as E,F}from"./FavoriteComp.a51be47b.js";const N={el:"#photo-album",name:"TovarMinImageList",props:["image","ImageProductList"],created(){console.log(this.ImageProductList)},methods:{a(e){e.srcElement.parentElement.parentElement.firstChild.getElementsByTagName("img")[0].src=e.srcElement.src}}},V={class:"photo-album flex",id:"photo-album"};function z(e,o,t,r,n,i){const a=S;return c(),_("div",V,[u(a,{loading:"lazy",format:"webp",onClick:o[0]||(o[0]=d=>i.a(d)),class:"add-img-tovar",src:e.$api_root+t.image.slice(1)},null,8,["src"]),(c(!0),_(v,null,f(t.ImageProductList,(d,h)=>(c(),I(a,{loading:"lazy",format:"webp",onClick:o[1]||(o[1]=y=>i.a(y)),key:h,class:"add-img-tovar",src:e.$api_root+d.photo.slice(1)},null,8,["src"]))),128))])}const A=m(N,[["render",z],["__scopeId","data-v-dd595d79"]]);const R={el:"#rating",name:"RatingComp",props:["rating"]},D={class:"rating-mini",id:"rating"},j={class:"normal-small",style:{display:"inline"}};function q(e,o,t,r,n,i){return c(),_("div",D,[(c(!0),_(v,null,f(Math.round(t.rating),a=>(c(),_("span",{key:a,class:"active"}))),128)),(c(!0),_(v,null,f(5-Math.round(t.rating),a=>(c(),_("span",{key:a}))),128)),s("p",j,"/"+l(Math.round(t.rating*100)/100),1)])}const H=m(R,[["render",q]]);const O={props:["select_productItem","pr"],data(){return{weight_all:!1}},methods:{select_type_weigth(e){let t=this.pr.productItemList.slice().filter(r=>r.weight.id==e)[0];this.$emit("select_product",t),console.log(this.select_productItem)},get_weight_type_list(){let e=[];return this.pr.productItemList.forEach(o=>{e.push(o.weight)}),e}}},G=e=>(k("data-v-604fa88a"),e=e(),w(),e),J={key:0,class:"variant"},K=G(()=>s("h3",null,"Размер",-1)),Q={class:"flex"},U=["onClick"],W={class:"h_sto"};function X(e,o,t,r,n,i){return t.select_productItem.weight?(c(),_("div",J,[K,s("div",Q,[s("ul",{class:"variant-ul",style:$(n.weight_all?"display: block":"display: flex")},[(c(!0),_(v,null,f(i.get_weight_type_list(),(a,d)=>(c(),_("li",{onClick:h=>i.select_type_weigth(a.id),class:P([t.select_productItem.weight.id==a.id?"active":"","photo-album-li"]),key:d},[s("div",W,[s("p",null,l(a.weight)+" гр",1)])],10,U))),128)),i.get_weight_type_list().length>2&&!n.weight_all?(c(),_("li",{key:0,onClick:o[0]||(o[0]=a=>n.weight_all=!n.weight_all)}," раскрыть ")):g("",!0),n.weight_all?(c(),_("li",{key:1,onClick:o[1]||(o[1]=a=>n.weight_all=!n.weight_all)}," скрыть ")):g("",!0)],4)])])):g("",!0)}const Y=m(O,[["render",X],["__scopeId","data-v-604fa88a"]]),Z={data(){return{select_productItem:null}},methods:{select_product(e){this.select_productItem=e}}};function ee(e,o,t,r,n,i){return null}const te=m(Z,[["render",ee]]);const se={props:["price"]},ce={class:"price_sale"},oe={style:{color:"gray"},class:"product__price small-big cena"};function _e(e,o,t,r,n,i){return c(),_("div",ce,[s("span",oe,l(t.price),1)])}const ne=m(se,[["render",_e],["__scopeId","data-v-9f8f7e0b"]]);const ae={props:["old_price","price"],data(){return{sale_:0}},created(){this.sale_=this.price/this.old_price*100}},ie={class:"ribbon ribbon-top-right"};function re(e,o,t,r,n,i){return c(),_("div",ie,[s("span",null,"скидка "+l(n.sale_)+"%",1)])}const le=m(ae,[["render",re]]);const de={el:"#product_catalog",name:"CatalogProduct",props:["pr"],components:{TovarMinImageList:A,AddBasket:E,FavoriteComp:F,RatingComp:H,SelectVariantMenu:Y,SalePrice:ne,SaleLine:le},mixins:[te],data(){return{type_weigth_id:null}},created(){this.select_productItem=this.pr.productItemList[0]}},pe=e=>(k("data-v-6d46f6c0"),e=e(),w(),e),ue={class:"product",id:"product_catalog"},me={class:"product__photo"},ge={class:"photo-container"},he={class:"photo-main"},ve=pe(()=>s("div",{class:"controls"},null,-1)),fe=["src"],ye={class:"product__info"},Ie={class:"title"},$e={class:"small-big product__name"},ke={class:"very-small product__code"},we={class:"price"},xe={class:"product__price small-big"},Ce={class:"product__price small"};function be(e,o,t,r,n,i){const a=p("sale-line"),d=p("TovarMinImageList"),h=B,y=p("sale-price"),x=p("rating-comp"),C=p("select-variant-menu"),b=p("AddBasket"),L=p("FavoriteComp");return c(),_("section",ue,[s("div",me,[s("div",ge,[s("div",he,[ve,s("img",{src:e.$api_root+t.pr.image.slice(1),alt:"green apple slice"},null,8,fe),e.select_productItem.is_sale?(c(),I(a,{key:0,old_price:e.select_productItem.old_price,price:e.select_productItem.price},null,8,["old_price","price"])):g("",!0)]),u(d,{image:t.pr.image,ImageProductList:t.pr.ImageProductList},null,8,["image","ImageProductList"])])]),s("div",ye,[s("div",Ie,[u(h,{"no-prefetch":"",to:`/tovar/${t.pr.id}`},{default:M(()=>[s("p",$e,l(t.pr.name),1)]),_:1},8,["to"]),s("span",ke,"COD: "+l(t.pr.id),1)]),s("div",we,[s("span",xe,[T(l(e.select_productItem.price)+" ",1),s("span",Ce,l(t.pr.price_currency),1)]),e.select_productItem.is_sale?(c(),I(y,{key:0,price:e.select_productItem.price},null,8,["price"])):g("",!0)]),u(x,{rating:t.pr.rating},null,8,["rating"]),u(C,{select_productItem:e.select_productItem,pr:t.pr,onSelect_product:e.select_product},null,8,["select_productItem","pr","onSelect_product"]),s("div",{style:$(e.select_productItem.weight?"margin-top: 8px":"margin-top: 56px"),class:"flex jus-sp"},[u(b,{id:e.select_productItem.id},null,8,["id"]),u(L,{id:e.select_productItem.id},null,8,["id"])],4)])])}const Pe=m(de,[["render",be],["__scopeId","data-v-6d46f6c0"]]);export{Pe as C,H as R,Y as S,A as T,le as a,ne as b};
