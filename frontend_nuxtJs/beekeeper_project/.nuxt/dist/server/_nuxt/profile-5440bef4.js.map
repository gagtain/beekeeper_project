{"version":3,"file":"profile-5440bef4.js","sources":["../../../../additional_func/getLastOrder.js","../../../../components/UserComp/UserInfoRen.vue","../../../../additional_func/User/image_edit.js","../../../../components/UserComp/UserImage.vue","../../../../components/UserComp/UserInfo.vue","../../../../pages/profile.vue"],"sourcesContent":["import axios from \"axios\";\nimport { api_root } from '@/main'\n\nexport default async function getLastOrder(){\n    try {\n        var response = await axios({url: `${api_root}api/v0.1/beekeeper_web_api/order/last`,\n        method: \"get\",\n        headers:{\n\n        },\n        withCredentials: true\n      })\n      return response\n      } catch (error) {\n        return error.response\n      }\n    }","<template>\r\n    <div class=\"user_kor_zak\" id=\"UserInfoRen\">\r\n            <div class=\"user_kor flex relative\">\r\n              <div class=\"w-sto h_sto s flex absolute\">\r\n                <div class=\"auto edit-user_info h_sto\">\r\n                  <button\r\n                    onclick=\"alert('В разработке')\"\r\n                    class=\"edit-user_info_btn auto\"\r\n                  >\r\n                    Изменить данные\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"auto edit_block w-sto\" style=\"filter: blur(10px)\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"user_form_input\"\r\n                  placeholder=\"username\"\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  class=\"user_form_input\"\r\n                  placeholder=\"password\"\r\n                />\r\n                <button class=\"edit-user_info_btn auto\">Подтвердить</button>\r\n              </div>\r\n            </div>\r\n            <div class=\"user_zak relative\">\r\n              <p class=\"small\">Последний заказ</p>\r\n              <div v-if=\"last_order.amount\" class=\"end_zakaz\">\r\n                <div class=\"end_zakaz_img flex\">\r\n                  <img\r\n                    style=\"aspect-ratio: 1/1\"\r\n                    class=\"auto w-sto\"\r\n                    :src=\"$api_root + last_order.product_list_transaction[0].productItem.product.image.slice(1)\"\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n                <div class=\"end_zakaz_info flex\">\r\n                  <div class=\"auto end_zakaz_info_p_all\">\r\n                    <div class=\"block w-sto\">\r\n                      <p class=\"normal-small end_zakaz_info_p\">Цена:</p>\r\n                      <span class=\"info_end_zakaz_span\">{{ last_order.amount }}</span>\r\n                    </div>\r\n                    <div class=\"block w-sto\">\r\n                      <p class=\"normal-small end_zakaz_info_p\">\r\n                        Дата офомления:\r\n                      </p>\r\n                      <span class=\"info_end_zakaz_span\">20-10-23</span>\r\n                    </div>\r\n                    <div class=\"block\">\r\n                      <p class=\"normal-small end_zakaz_info_p\">Статус:</p>\r\n                      <span class=\"info_end_zakaz_span\">В пути</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <LoadingComp v-else-if=\"isLastOrder_loading\"></LoadingComp>\r\n              <div class=\"auto\" v-else>\r\n                    <p style=\"font-size: 28px;\" class=\"VAG\">Список заказов пуст :(</p>\r\n                    <div class=\"select_size\" >\r\n                      <router-link to=\"/basket\">\r\n                            <button style=\"background: rgb(76, 175, 80); cursor: pointer; width: 100%; border: medium none; border-radius: 6px;font-size: 26px;padding: 2%;margin-top: 1%;\" >\r\n                              Перейти в корзину\r\n                            </button>\r\n                          </router-link>\r\n                          </div></div>\r\n            </div>\r\n          </div>\r\n</template>\r\n\r\n\r\n<style lang=\"css\" src=\"../../assets/css/account.css\" scoped></style>\r\n\r\n<script>\r\nimport getLastOrder from \"~/additional_func/getLastOrder\"\r\nimport LoadingComp from '../AddtionalComp/LoadingComp.vue'\r\nexport default {\r\n  components: { LoadingComp },\r\n    el: '#UserInfoRen',\r\n    name: 'UserInfoRen',\r\n    data(){\r\n      return{\r\n        last_order: {\r\n          amount: null,\r\n          product_list_transaction:[{\r\n            productItem:{\r\n              product:{\r\n              image: null\r\n            }\r\n            }\r\n            \r\n          }]\r\n        },\r\n        isLastOrder_loading: true\r\n      }\r\n    },\r\n    \r\n    async mounted() {\r\n      let response_last_order = await getLastOrder()\r\n      if (response_last_order.code != 400){\r\n        this.last_order = response_last_order.data\r\n        console.log(123213)\r\n        this.isLastOrder_loading = false\r\n      }else{\r\n        this.isLastOrder_loading = false\r\n      }\r\n       \r\n    },\r\n}\r\n</script>\r\n","import axios from \"axios\";\nimport { api_root } from '@/main'\n\nexport default async function image_edit(data){\n  try {\n    var response = await axios({url: `${api_root}api/v0.1/user/image_edit`,\n    method: \"post\",\n    headers:{\n\n    },\n    withCredentials: true,\n    data: data\n  })\n  return response\n  } catch (error) {\n    return error.response\n  }\n    }","<template>\n  \n  <div class=\"user_img_profile relative\">\n      <img  :src=\"$api_root + $store.getUser.image.slice(1)\" alt=\"\" />\n      <div class=\"absolute w-sto h_sto flex\">\n        <input @change=\"image_change()\" style=\"display: none;\" type=\"file\" src=\"\" id=\"user_image_input\" accept=\"image/*\" alt=\"\">\n        <button\n        class=\"auto\" style=\"\n        background: rgb(76, 175, 80);\n         cursor: pointer;\n          width: 100%;\n          border: medium none;\n           border-radius: 6px;\n           font-size: 26px;\n           padding: 2%;\n           height: auto;\" \n           @click=\"re_image()\"\n           >\n                              Изменить\n                            </button>\n      </div>\n    </div>\n</template>\n<style>\n.user_img_profile img{\n\n    transition: .5s;\n}\n.user_img_profile:hover img{\n    opacity: .5;\n    transition: .5s;\n}\n.user_img_profile:hover .absolute{\n    opacity: 1;\n    transition: .5s;\n}\n.user_img_profile .absolute{\n    left: 0;\n    top: 0;\n    opacity: 0;\n    transition: .5s;\n}\n\n</style>\n<style lang=\"css\" src=\"~/assets/css/account.css\" scoped></style>\n<script>\nimport image_edit from '~/additional_func/User/image_edit'\nexport default {\n    methods:{\n        re_image(){\n            document.getElementById('user_image_input').click()\n        },\n        async image_change(){\n            let image = document.getElementById('user_image_input').files[0]\n            let data = new FormData()\n            data.append('image', image)\n            let r = await image_edit(data)\n            this.$store.REFACTOR_USER_IMAGE(r.data.image)\n        }\n    }\n}\n</script>\n\n<style>\n\n</style>","<template>\r\n<div class=\"user_info_menu\">\r\n  <div class=\"user_info auto h_sto\" id=\"user_info\">\r\n    <user-image></user-image>\r\n    <p class=\"small user_name_profile\">{{ USER_STATE.username }}</p>\r\n    <p class=\"small user_name_profile\">Пчелиная артель</p>\r\n    <div class=\"menu_user flex jus-sp auto\">\r\n      <div class=\"favorite\">\r\n        <img\r\n          class=\"user_menu_img\"\r\n          height=\"100%\"\r\n          :src=\"$api_root +  'static/online_store/images/favorite/favorite_add.png'\"\r\n          alt=\"\"\r\n        />\r\n        <p class=\"very-small\">Избранное</p>\r\n      </div>\r\n      \r\n    </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n<style lang=\"css\" src=\"../../assets/css/account.css\" scoped></style>\r\n<style>\r\n.user_img_profile img{\r\n    width:100%;\r\n     height:100%\r\n}\r\n</style>\r\n<script>\r\nimport UserImage from './UserImage.vue';\r\nexport default {\r\n  components: { UserImage },\r\n    el: '#user_info',\r\n    name: 'UserInfo',\r\n    data(){\r\n      return{\r\n        USER_STATE: this.$store.getUser\r\n      }\r\n    },\r\n            \r\n  setup() {},\r\n    watch:{\r\n      'USER_STATE.basket'(){\r\n        console.log('корзина изменен')\r\n      }\r\n    },\r\n};\r\n</script>\r\n","<template>\r\n  <div class=\"sot-ob\">\r\n    <div class=\"wrapper flex\">\r\n      <div class=\"user_card flex auto\" id=\"user_wrap\">\r\n        <div class=\"interactiv user_card_div auto\">\r\n          <div class=\"flex jus-sp card\">\r\n            <UserInfoVue></UserInfoVue>\r\n            <UserInfoRen></UserInfoRen>\r\n        </div>\r\n            <UserBasket></UserBasket>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"css\" src=\"../assets/css/account.css\" scoped></style>\r\n<script setup>\r\nimport { useHead } from \"nuxt/app\";\r\ndefinePageMeta({\r\n  middleware: [\"is-auth\"]\r\n  // or middleware: 'auth'\r\n})\r\nuseHead({\r\n    title: 'Пчелиная артель - Профиль',})\r\n</script>\r\n<script>\r\nimport UserInfoRen from '~/components/UserComp/UserInfoRen.vue';\r\nimport UserInfoVue from '~/components/UserComp/UserInfo.vue';\r\nimport UserBasket from '~/components/UserComp/UserBasket.vue';\r\nexport default {\r\n    components:{\r\n        UserInfoVue,\r\n        UserInfoRen,\r\n        UserBasket\r\n    },\r\n  el: \"#user_wrap\",\r\n  name: \"WrapperUser\",\r\n};\r\n</script>\r\n"],"names":["_sfc_main","_ssrRenderAttr","_ssrInterpolate","_ssrRenderComponent","_push","_parent","_createVNode","_ssrRenderAttrs","_mergeProps"],"mappings":"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"}