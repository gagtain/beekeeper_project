{"version":3,"file":"FavoriteComp-f62eb513.js","sources":["../../../../additional_func/addBasket.js","../../../../additional_func/removeBasket.js","../../../../components/AddtionalComp/DefaultTooltip.vue","../../../../components/AddtionalComp/AddBasket.vue","../../../../additional_func/addFavorite.js","../../../../additional_func/removeFavorite.js","../../../../components/AddtionalComp/FavoriteComp.vue"],"sourcesContent":["import axios from \"axios\";\r\nimport { api_root } from '@/main'\r\n\r\nexport default async function addBasket(pk, type_weight_id){\r\n    try {\r\n        var response = await axios({url: `${api_root}api/v0.1/beekeeper_web_api/basket/${pk}`,\r\n        method: \"post\",\r\n        headers:{\r\n\r\n        },\r\n        withCredentials: true,\r\n        data:{\r\n          type_weight:type_weight_id\r\n        }\r\n      })\r\n      return response\r\n      } catch (error) {\r\n        return error.response\r\n      }\r\n    }","import axios from \"axios\";\r\nimport { api_root } from '@/main'\r\n\r\n\r\nexport default async function removeBasket(pk){\r\n    try {\r\n        var response = await axios({url: `${api_root}api/v0.1/beekeeper_web_api/basket/${pk}`,\r\n        method: \"delete\",\r\n        headers:{\r\n\r\n        },\r\n        withCredentials: true\r\n      })\r\n      return response\r\n      } catch (error) {\r\n        return error.response\r\n      }\r\n    }","<template>\n  \n</template>\n\n<script>\nexport default {\n    methods: {\n        tooltip(){\n            \n\t\t\t\tthis.$store.REFACTOR_TOOLTIP({\n\t\t\tstatus: true,\n\t\t\ttitle: 'Успешно'\n\t\t})\n        }\n    }\n}\n</script>\n\n<style>\n\n</style>","<template>\r\n    <div id=\"addBasket\">\r\n  <button v-if=\"a()\" @click=\"removeBasketBtn\" class=\"w-sto btn au\">Из корзины</button>\r\n  <button v-else @click=\"addBasketBtn\" class=\"w-sto btn au\">В корзину</button>\r\n    </div>\r\n</template>\r\n<style>\r\n</style>\r\n<style lang=\"scss\" src=\"../../assets/css/katalog/katalog.scss\" scoped></style>\r\n<script>\r\nimport addBasket from '../../additional_func/addBasket'\r\nimport removeBasket from '../../additional_func/removeBasket'\r\nimport DefaultTooltipVue from './DefaultTooltip.vue'\r\nexport default{\r\n    el: '#addBasket',\r\n    name: 'AddBasket',\r\n    props: ['id'],\r\n    data(){\r\n        return {\r\n            isBasket: false,\r\n            }\r\n    },\r\n    created() {\r\n    },\r\n    mixins: [DefaultTooltipVue],\r\n  setup() {\r\n  },\r\n    methods:{\r\n        a(){\r\n            let self = this\r\n            let a = this.$store.getUser.basket.find(function(item){\r\n            if (self.id == item.productItem.id ){\r\n                return true\r\n            }else{\r\n                return false\r\n            }\r\n            })\r\n            return a\r\n        },\r\n        async addBasketBtn(){\r\n            let response_add = await addBasket(this.id)\r\n            if (response_add.status == 200){\r\n                this.$store.ADD_BASKET_ITEM(response_add.data.basketItem)\r\n                this.isBasket = true\r\n                this.tooltip()\r\n            }else if(response_add.status == 401){\r\n                this.$router.push('/login?message=Для данного действия необходимо авторизоваться')\r\n            }  \r\n        },\r\n        async removeBasketBtn(){\r\n            let response_add = await removeBasket(this.id)\r\n            if (response_add.status == 200){\r\n                this.$store.REMOVE_BASKET_ITEM(response_add.data.id)\r\n                this.isBasket = false\r\n                this.tooltip()\r\n            }  else if(response_add.status == 401){\r\n                this.$router.push('/login?message=Для данного действия необходимо авторизоваться')\r\n            }  \r\n        },\r\n    },\r\n  // watch на элементы которые меняются и менять isBasket\r\n  watch:{\r\n    pack_id(){\r\n        console.log(3214)\r\n        this.a()\r\n    },\r\n    wei_id(){\r\n        console.log(3214)\r\n        this.a()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import axios from \"axios\";\r\nimport { api_root } from '@/main'\r\n\r\nexport default async function addFavorite(pk){\r\n  try {\r\n    var response = await axios({url: `${api_root}api/v0.1/beekeeper_web_api/favorite/${pk}`,\r\n    method: \"post\",\r\n    headers:{\r\n\r\n    },\r\n    withCredentials: true\r\n  })\r\n  return response\r\n  } catch (error) {\r\n    return error.response\r\n  }\r\n    }","import axios from \"axios\";\r\nimport { api_root } from '@/main'\r\n\r\n\r\nexport default async function removeFavorite(pk){\r\n  try {\r\n    var response = await axios({url: `${api_root}api/v0.1/beekeeper_web_api/favorite/${pk}`,\r\n    method: \"delete\",\r\n    headers:{\r\n\r\n    },\r\n    withCredentials: true\r\n  })\r\n  return response\r\n  } catch (error) {\r\n    return error.response\r\n  }\r\n    }","<template>\r\n  <button\r\n    v-if=\"a()\"\r\n    @click=\"removeFavoriteBtn()\"\r\n    id=\"favorite\"\r\n    class=\"fav-btn flex\"\r\n  >\r\n    <img\r\n      class=\"auto\"\r\n      :src=\"`${$api_root}static/online_store/images/favorite/favorite_remove.png`\"\r\n      alt=\"\"\r\n    />\r\n  </button>\r\n  <button\r\n    v-else\r\n    id=\"favorite\"\r\n    @click=\"addFavoriteBtn()\"\r\n    class=\"fav-btn flex\"\r\n  >\r\n    <img\r\n      class=\"auto\"\r\n      :src=\"`${$api_root}static/online_store/images/favorite/favorite_add.png`\"\r\n      alt=\"\"\r\n    />\r\n  </button>\r\n</template>\r\n<style scoped>\r\n.fav-btn {\r\n  height: 53px;\r\n  cursor: pointer;\r\n  width: 53px;\r\n  \r\n  border-radius: 12px;\r\n    background-color: transparent;\r\n  border: none;\r\n\r\n  margin-left: 1%;\r\n}\r\n.fav-btn img {\r\n  height: 25px;\r\n  width: 25px;\r\n}\r\n#favorite img{\r\n  margin: auto;\r\n}\r\n</style>\r\n<script>\r\nimport addFavorite from \"../../additional_func/addFavorite\";\r\nimport removeFavorite from \"../../additional_func/removeFavorite\";\r\nimport DefaultTooltipVue from \"./DefaultTooltip.vue\";\r\n\r\n\r\nexport default defineNuxtComponent({\r\n  el: \"#favorite\",\r\n  name: \"FavoriteComp\",\r\n  props: [\"id\"],\r\n    mixins: [DefaultTooltipVue],\r\n  setup() {\r\n  },\r\n  created() {\r\n    this.a();\r\n  },\r\n  methods: {\r\n    a() {\r\n      let self = this;\r\n      let a = this.$store.getUser.favorite_product.find(function (item) {\r\n        if (\r\n          self.id == item.productItem.id\r\n        ) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n      return a\r\n    },\r\n    async addFavoriteBtn() {\r\n      \r\n      let response_add = await addFavorite(this.id);\r\n      if (response_add.status == 200) {\r\n        this.$store.ADD_FAVORITE_ITEM(\r\n          response_add.data.favoriteItem\r\n        ); \r\n        this.isFavorite = true;\r\n        this.tooltip()\r\n      }else if(response_add.status == 401){\r\n                this.$router.push('/login?message=Для данного действия необходимо авторизоваться')\r\n            }  \r\n    },\r\n    async removeFavoriteBtn() {\r\n      let response_add = await removeFavorite(this.id);\r\n      if (response_add.status == 200) {\r\n        this.$store.REMOVE_FAVORITE_ITEM(\r\n           response_add.data.id\r\n           )\r\n        this.tooltip()\r\n      }else if(response_add.status == 401){\r\n                this.$router.push('/login?message=Для данного действия необходимо авторизоваться')\r\n            }  \r\n    },\r\n  },\r\n  watch: {\r\n    wei_id() {\r\n      this.a();\r\n    },\r\n  },\r\n});\r\n</script>\r\n"],"names":["_sfc_main","_ssrRenderAttrs","_mergeProps","_ssrRenderAttr"],"mappings":"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"}