{"version":3,"file":"FavoriteComp-3d816087.js","sources":["../../../../components/UserComp/BasketComp/AddBasket.vue","../../../../components/UserComp/BasketComp/FavoriteComp.vue"],"sourcesContent":["<template>\r\n    <div id=\"addBasket\">\r\n        \r\n  <button v-if=\"isBasket\" class=\"flex btn_add_favorite remove_kor jus-sp\"  @click=\"removeBasketBtn()\">\r\n            <img\r\n              class=\"add_favorite\"\r\n              :src=\"$api_root + 'static/online_store/' + 'images/x_tovar.png'\"\r\n              alt=\"\"\r\n            />\r\n            <p class=\"b_text\" >Убрать из корзины</p>\r\n          </button>\r\n  <button v-else class=\"flex btn_add_favorite remove_kor jus-sp\"  @click=\"addBasketBtn()\">\r\n            <img\r\n              class=\"add_favorite\"\r\n              :style=\"!isBasket ? 'transform: rotate(45deg)' : ''\"\r\n              :src=\"$api_root + 'static/online_store/' + 'images/x_tovar.png'\"\r\n              alt=\"\"\r\n            />\r\n            <p class=\"b_text\" >Добавить в корзину</p>\r\n          </button>\r\n    </div>\r\n</template>\r\n<style lang=\"css\" src=\"../../../assets/css/account.css\" scoped></style>\r\n<style>\r\n\r\n</style>\r\n<script>\r\nimport removeBasket from '../../../additional_func/removeBasket'\r\nimport addBasket from '../../../additional_func/addBasket'\r\nexport default{\r\n    el: '#addBasket',\r\n    name: 'AddBasket',\r\n    props: ['sm', 'ProductItem'],\r\n    data(){\r\n        return {\r\n            isBasket: false,\r\n            USER_STATE: this.$store.getUser\r\n            }\r\n    },\r\n    created() {\r\n        console.log(this.ProductItem)\r\n                let self = this\r\n            let a = this.USER_STATE.basket.find(function(item){\r\n            console.log(item.productItem.id, self.ProductItem.id)\r\n            if (item.productItem.id == self.ProductItem.id){\r\n                return true\r\n            }else{\r\n                return false\r\n            }\r\n            })\r\n            if (a){\r\n                this.isBasket = true\r\n            }else{\r\n                \r\n                this.isBasket = false\r\n            }\r\n    },\r\n    methods:{\r\n        async removeBasketBtn(){\r\n            let response_add = await removeBasket(this.ProductItem.product.id, undefined, undefined, this.ProductItem.id)\r\n            if (response_add.status == 200){\r\n                this.$store.REMOVE_BASKET_ITEM(this.ProductItem.id)\r\n                    this.isBasket = false\r\n            }  \r\n        },\r\n        async addBasketBtn(){\r\n            let response_add = await addBasket(this.ProductItem.product.id, this.ProductItem.type_packaging.id,this.ProductItem.weight.id)\r\n            if (response_add.status == 200){\r\n                this.isBasket = true\r\n            }  \r\n        },\r\n    },\r\n}\r\n</script>\r\n","<template>\r\n  <div id=\"favorite\">\r\n\r\n  <button v-if=\"isFavorite\" class=\"flex btn_add_favorite jus-sp\" @click=\"removeFavoriteBtn()\">\r\n    <img\r\n      class=\"add_favorite\"\r\n      :src=\"`${$api_root}static/online_store/images/favorite/favorite_remove.png`\"\r\n      alt=\"\"\r\n    />\r\n    <p class=\"b_text\" >\r\n      Избранное\r\n    </p>\r\n  </button>\r\n  <button v-else class=\"flex btn_add_favorite jus-sp\" @click=\"addFavoriteBtn()\">\r\n    <img\r\n      class=\"add_favorite\"\r\n      :src=\"`${$api_root}static/online_store/images/favorite/favorite_add.png`\"\r\n      alt=\"\"\r\n    />\r\n    <p class=\"b_text\">Добавить в избранное</p>\r\n  </button>\r\n  </div>\r\n</template>\r\n<style lang=\"css\" src=\"../../../assets/css/account.css\" scoped></style>\r\n<script>\r\nimport addFavorite from \"../../../additional_func/addFavorite\";\r\nimport removeFavorite from \"../../../additional_func/removeFavorite\";\r\nexport default {\r\n  el: \"#favorite\",\r\n  name: \"FavoriteComp\",\r\n  props: [\"ProductItem\"],\r\n  data() {\r\n    return {\r\n      isFavorite: false,\r\n            USER_STATE: this.$store.getUser\r\n    };\r\n  },\r\n  setup() {},\r\n  created() {\r\n    let self = this;\r\n    console.log(this.USER_STATE.favorite_product)\r\n    let a = this.USER_STATE.favorite_product.find(function (item) {\r\n      console.log(item.id, self.id)\r\n      if (item.productItem.id == self.ProductItem.id) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n    if (a) {\r\n      this.isFavorite = true;\r\n    } else {\r\n      this.isFavorite = false;\r\n    }\r\n  },\r\n  methods: {\r\n    \r\n    async addFavoriteBtn() {\r\n      let response_add = await addFavorite(this.ProductItem.product.id, this.ProductItem.type_packaging.id,this.ProductItem.weight.id);\r\n      if (response_add.status == 200) {\r\n        this.isFavorite = true;\r\n      }\r\n    },\r\n    async removeFavoriteBtn() {\r\n      console.log(this.ProductItem)\r\n      let response_add = await removeFavorite(this.ProductItem.product.id, undefined, undefined, this.ProductItem.id);\r\n      if (response_add.status == 200) {\r\n        this.$store.REMOVE_FAVORITE_ITEM(response_add.data.id)\r\n          this.isFavorite = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"names":["_sfc_main","_ssrRenderAttrs","_mergeProps","_ssrRenderAttr"],"mappings":"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"}