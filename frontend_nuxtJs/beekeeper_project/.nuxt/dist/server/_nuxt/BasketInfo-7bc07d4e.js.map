{"version":3,"file":"BasketInfo-7bc07d4e.js","sources":["../../../../components/AddtionalComp/Submit_Order_ref.vue","../../../../components/UserComp/BasketComp/ProductListInfo.vue","../../../../components/UserComp/BasketComp/BasketInfo.vue"],"sourcesContent":["<template>\n    <div id=\"sub_order_ref\" class=\"w-sto\">\n        <RouterLink v-if=\"items.length\" to=\"/checkout\"> <button class=\"w-sto\"> <div class=\"fon_btn\"></div>Оформить</button></RouterLink>\n      <RouterLink v-else to=\"/catalog\"><button class=\"w-sto\"> <div class=\"fon_btn\"></div> Добавить товар</button></RouterLink>\n\n    </div>\n</template>\n\n<style src=\"~/assets/css/account.css\" scoped></style>\n<script>\nexport default {\n    el: 'sub_order_ref',\n  props: ['items'],\n}\n</script>","<template>\n    <div id=\"pr_list_info\" class=\"kor_all_info auto w-sto m-2\">\n      <p class=\"m2\">Товаров: {{ getCountBasket() }}</p>\n      <p class=\"m2\">Вес: {{getWeight()}}</p>\n      <p class=\"m2\">\n        Цена:\n        {{\n          ordered ? order_amount : items.reduce(function (sum, elem) {\n            return sum + parseFloat(elem.productItem.price);\n          }, 0)\n        }}\n      </p>\n      <p v-if=\"ordered\" class=\"m2\">Цена доставки: {{ delivery_price ? delivery_price : 'Не выбранно' }}</p>\n      <p class=\"m2\">скидки:</p>\n      <ul>\n        <li>{{ getSale() }}</li>\n      </ul>\n      <p id=\"is\" class=\"small\">\n        Итоговая сумма:\n        {{\n          getSumm()\n        }}\n      </p>\n      \n    </div>\n</template>\n\n<style src=\"~/assets/css/account.css\" scoped></style>\n<script>\nexport default {\n    el: '#pr_list_info',\n  props: ['items', 'delivery_price', 'ordered', 'order_amount'],\n  data(){\n    return {\n      summ: 0,\n    }\n  },\n    methods: {\n    getCountBasket() {\n      let count = 0;\n      this.items.forEach((element) => {\n        count += parseInt(element.count);\n      });\n      return count;\n    },\n    getWeight(){\n      let weight = this.items.reduce(function (weight_s, elem) {\n        return weight_s + parseFloat(elem.productItem.dimensions.weight * elem.count);\n      }, 0);\n      let str_weight = ``\n      if (weight >= 1000){\n        weight = weight / 1000\n      str_weight = `${weight} кг`\n      }else{\n\n        str_weight = `${weight} гр`\n      }\n      return str_weight\n    },\n    getSumm() {\n      let summ = 0\n      if (this.ordered){\n        summ += parseFloat(this.order_amount)\n        summ += parseFloat(this.delivery_price ? this.delivery_price : 0)\n      }else{\n\n      summ = this.items.reduce(function (sum, elem) {\n        return sum + parseFloat(elem.productItem.price * elem.count);\n      }, 0);\n      }\n      return summ\n    },\n    getSale(){\n      let summ = this.items.reduce(function (sum, elem) {\n        if (elem.productItem.is_sale){\n          console.log(elem)\n          console.log(elem.productItem.old_price, parseFloat(elem.productItem.price), elem.productItem.price)\n          return sum + (parseFloat(elem.productItem.old_price) - parseFloat(elem.productItem.price))\n        }\n        else{\n          return sum\n        }\n      }, 0);\n      return summ\n    }\n  },\n}\n</script>","<template>\n  <div class=\"register_zakaz\" style=\"width: 100%;\">\n    <SubmitOrderref :items=\"items\"></SubmitOrderref>\n    <ProductListInfo :items=\"items\" :ordered=\"false\"></ProductListInfo>\n    \n  </div>\n</template>\n\n<style lang=\"css\" src=\"../../../assets/css/account.css\" scoped></style>\n<style scoped>\n.fon_btn{\n  background: url(http://localhost:8080/img/sot.0b9dac38.png) center no-repeat;\nopacity: 0.1;\nposition: absolute;\nheight: 100%;\nwidth: 100%;\ntop: 0;\nleft: 0;\n}\n</style>\n<script>\nimport SubmitOrderref from '../../AddtionalComp/Submit_Order_ref.vue';\nimport ProductListInfo from './ProductListInfo.vue';\nexport default {\n  components: { SubmitOrderref, ProductListInfo },\n  el: \"#reg_zakaz\",\n  name: \"BasketInfo\",\n  props: ['items']\n};\n</script>\n"],"names":["_sfc_main","_ssrRenderComponent","_push","_parent","_createVNode","_ssrInterpolate"],"mappings":";;;;AAUA,MAAKA,cAAU;AAAA,EACX,IAAI;AAAA,EACN,OAAO,CAAC,OAAO;AACjB;;;;IAZS,IAAG;AAAA,IAAgB,OAAM;AAAA;AACR,MAAA,OAAA,MAAM,QAAM;AAAE,UAAAC,mBAAA,uBAAA,EAAA,IAAG,YAAW,GAAA;AAAA,uBAA9C,CAAgI,GAAAC,QAAAC,UAAA,aAAA;;;;;YAAhFC,YAAmE,UAAA,EAA3D,OAAM,QAAO,GAAA;AAAA,cAAEA,YAA2B,OAAA,EAAtB,OAAM,UAAS,CAAA;AAAA,8BAAO,UAAQ;AAAA;;;;;;;AACzF,UAAAH,mBAAA,uBAAA,EAAA,IAAG,WAAU,GAAA;AAAA,uBAAhC,CAAwH,GAAAC,QAAAC,UAAA,aAAA;;;;;YAAvFC,YAA0E,UAAA,EAAlE,OAAM,QAAO,GAAA;AAAA,cAAEA,YAA2B,OAAA,EAAtB,OAAM,UAAS,CAAA;AAAA,8BAAO,iBAAe;AAAA;;;;;;;;;;;;;;;;;AC0BxG,MAAKJ,cAAU;AAAA,EACX,IAAI;AAAA,EACN,OAAO,CAAC,SAAS,kBAAkB,WAAW,cAAc;AAAA,EAC5D,OAAM;AACJ,WAAO;AAAA,MACL,MAAM;AAAA,IACR;AAAA,EACD;AAAA,EACC,SAAS;AAAA,IACT,iBAAiB;AACf,UAAI,QAAQ;AACZ,WAAK,MAAM,QAAQ,CAAC,YAAY;AAC9B,iBAAS,SAAS,QAAQ,KAAK;AAAA,MACjC,CAAC;AACD,aAAO;AAAA,IACR;AAAA,IACD,YAAW;AACT,UAAI,SAAS,KAAK,MAAM,OAAO,SAAU,UAAU,MAAM;AACvD,eAAO,WAAW,WAAW,KAAK,YAAY,WAAW,SAAS,KAAK,KAAK;AAAA,MAC7E,GAAE,CAAC;AACJ,UAAI,aAAa;AACjB,UAAI,UAAU,KAAK;AACjB,iBAAS,SAAS;AACpB,qBAAa,GAAG;AAAA,aACX;AAEH,qBAAa,GAAG;AAAA,MAClB;AACA,aAAO;AAAA,IACR;AAAA,IACD,UAAU;AACR,UAAI,OAAO;AACX,UAAI,KAAK,SAAQ;AACf,gBAAQ,WAAW,KAAK,YAAY;AACpC,gBAAQ,WAAW,KAAK,iBAAiB,KAAK,iBAAiB,CAAC;AAAA,aAC7D;AAEL,eAAO,KAAK,MAAM,OAAO,SAAU,KAAK,MAAM;AAC5C,iBAAO,MAAM,WAAW,KAAK,YAAY,QAAQ,KAAK,KAAK;AAAA,QAC5D,GAAE,CAAC;AAAA,MACJ;AACA,aAAO;AAAA,IACR;AAAA,IACD,UAAS;AACP,UAAI,OAAO,KAAK,MAAM,OAAO,SAAU,KAAK,MAAM;AAChD,YAAI,KAAK,YAAY,SAAQ;AAC3B,kBAAQ,IAAI,IAAI;AAChB,kBAAQ,IAAI,KAAK,YAAY,WAAW,WAAW,KAAK,YAAY,KAAK,GAAG,KAAK,YAAY,KAAK;AAClG,iBAAO,OAAO,WAAW,KAAK,YAAY,SAAS,IAAI,WAAW,KAAK,YAAY,KAAK;AAAA,QAC1F,OACI;AACF,iBAAO;AAAA,QACT;AAAA,MACD,GAAE,CAAC;AACJ,aAAO;AAAA,IACT;AAAA,EACD;AACH;;;IArFS,IAAG;AAAA,IAAe,OAAM;AAAA,uFACD,SAAc,gBAAA,0DACnB,SAAS,WAAA,4DAI1B,OAAO,UAAG,sBAAe,OAAA,MAAM,OAAM,SAAW,KAAK,MAAI;AAAuB,WAAA,MAAM,WAAW,KAAK,YAAY,KAAK;AAAA;MAKlH,OAAO,SAAA;AAA+B,UAAA,gDAAAK,eAAA,OAAA,iBAAiB,OAAc,iBAAA,aAAA,OAAA;AAAA;;;2GAGrE,SAAO,SAAA,uFAKZ,SAAO,SAAA;;;;;;;;;;;ACGjB,MAAK,YAAU;AAAA,EACb,YAAY,EAAE,gBAAgB,gBAAiB;AAAA,EAC/C,IAAI;AAAA,EACJ,MAAM;AAAA,EACN,OAAO,CAAC,OAAO;AACjB;;;;;IA3BO,OAAM;AAAA,IAAiB,OAAA,EAAoB,SAAA,OAAA;AAAA;AAC7B,QAAAJ,mBAAA,2BAAA,EAAA,OAAO,OAAK,MAAA,GAAA,MAAA,OAAA,CAAA;;IACX,OAAO,OAAK;AAAA,IAAG,SAAS;AAAA;;;;;;;;;;"}