{"version":3,"file":"FavoriteComp-c983c0e9.js","sources":["../../../../components/AddtionalComp/AddBasket.vue","../../../../components/AddtionalComp/FavoriteComp.vue"],"sourcesContent":["<template>\r\n    <div id=\"addBasket\">\r\n  <button v-if=\"isBasket\" @click=\"removeBasketBtn\" class=\"btn au\">Убрать из корзины</button>\r\n  <button v-else @click=\"addBasketBtn\" class=\"btn au\">Добавить в корзину</button>\r\n    </div>\r\n</template>\r\n<style>\r\n</style>\r\n<style lang=\"scss\" src=\"../../assets/css/katalog/katalog.scss\" scoped></style>\r\n<script>\r\nimport addBasket from '../../additional_func/addBasket'\r\nimport removeBasket from '../../additional_func/removeBasket'\r\nexport default{\r\n    el: '#addBasket',\r\n    name: 'AddBasket',\r\n    props: ['id', 'pack_id', 'wei_id'],\r\n    data(){\r\n        return {\r\n            isBasket: false,\r\n            }\r\n    },\r\n    created() {\r\n        this.a()\r\n    },\r\n  setup() {\r\n  },\r\n    methods:{\r\n        a(){\r\n            let self = this\r\n            console.log(this.$store.getUser.basket)\r\n            let a = this.$store.getUser.basket.find(function(item){\r\n            if (self.id == item.productItem.product.id && self.wei_id == item.productItem.weight.id && self.pack_id == item.productItem.type_packaging.id){\r\n                return true\r\n            }else{\r\n                return false\r\n            }\r\n            })\r\n            if (a){\r\n                this.isBasket = true\r\n            }else{\r\n                \r\n                this.isBasket = false\r\n            }\r\n        },\r\n        async addBasketBtn(){\r\n            let response_add = await addBasket(this.id, this.pack_id, this.wei_id)\r\n            if (response_add.status == 200){\r\n                this.$store.ADD_BASKET_ITEM(response_add.data.basketItem)\r\n                this.isBasket = true\r\n            }  \r\n        },\r\n        async removeBasketBtn(){\r\n            let response_add = await removeBasket(this.id, this.pack_id, this.wei_id)\r\n            if (response_add.status == 200){\r\n                this.$store.REMOVE_BASKET_ITEM(response_add.data.id)\r\n                this.isBasket = false\r\n            }  \r\n        },\r\n    },\r\n  // watch на элементы которые меняются и менять isBasket\r\n  watch:{\r\n    pack_id(){\r\n        console.log(3214)\r\n        this.a()\r\n    },\r\n    wei_id(){\r\n        console.log(3214)\r\n        this.a()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <button\r\n    v-if=\"isFavorite\"\r\n    @click=\"removeFavoriteBtn()\"\r\n    id=\"favorite\"\r\n    class=\"fav-btn flex auto\"\r\n  >\r\n    <img\r\n      class=\"auto\"\r\n      :src=\"`${$api_root}static/online_store/images/favorite/favorite_remove.png`\"\r\n      alt=\"\"\r\n    />\r\n  </button>\r\n  <button\r\n    v-else\r\n    id=\"favorite\"\r\n    @click=\"addFavoriteBtn()\"\r\n    class=\"fav-btn flex auto\"\r\n  >\r\n    <img\r\n      class=\"auto\"\r\n      :src=\"`${$api_root}static/online_store/images/favorite/favorite_add.png`\"\r\n      alt=\"\"\r\n    />\r\n  </button>\r\n</template>\r\n<style scoped>\r\n.fav-btn {\r\n  height: 53px;\r\n  cursor: pointer;\r\n  width: 53px;\r\n  \r\n  border-radius: 12px;\r\n    background-color: transparent;\r\n  border: none;\r\n\r\n  margin-left: 1%;\r\n}\r\n.fav-btn img {\r\n  height: 25px;\r\n  width: 25px;\r\n}\r\n</style>\r\n<script>\r\nimport addFavorite from \"../../additional_func/addFavorite\";\r\nimport removeFavorite from \"../../additional_func/removeFavorite\";\r\n\r\n\r\nexport default defineNuxtComponent({\r\n  el: \"#favorite\",\r\n  name: \"FavoriteComp\",\r\n  props: [\"id\", \"pack_id\", \"wei_id\"],\r\n  data() {\r\n    return {\r\n      isFavorite: false,\r\n    };\r\n  },\r\n  setup() {\r\n  },\r\n  created() {\r\n    this.a();\r\n  },\r\n  methods: {\r\n    a() {\r\n      let self = this;\r\n      let a = this.$store.getUser.favorite_product.find(function (item) {\r\n        if (\r\n          self.id == item.productItem.product.id &&\r\n          self.wei_id == item.productItem.weight.id &&\r\n          self.pack_id == item.productItem.type_packaging.id\r\n        ) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n      if (a) {\r\n        this.isFavorite = true;\r\n      } else {\r\n        this.isFavorite = false;\r\n      }\r\n    },\r\n    async addFavoriteBtn() {\r\n      \r\n      let response_add = await addFavorite(this.id, this.pack_id, this.wei_id);\r\n      if (response_add.status == 200) {\r\n        this.$store.ADD_FAVORITE_ITEM(\r\n          response_add.data.favoriteItem\r\n        ); \r\n        this.isFavorite = true;\r\n      }\r\n    },\r\n    async removeFavoriteBtn() {\r\n      let response_add = await removeFavorite(this.id, this.pack_id, this.wei_id);\r\n      if (response_add.status == 200) {\r\n        this.$store.REMOVE_FAVORITE_ITEM(\r\n           response_add.data.id\r\n           ) \r\n        this.isFavorite = false;\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    pack_id() {\r\n      this.a();\r\n    },\r\n    wei_id() {\r\n      this.a();\r\n    },\r\n  },\r\n});\r\n</script>\r\n"],"names":["_sfc_main","_ssrRenderAttrs","_mergeProps","_ssrRenderAttr"],"mappings":"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"}