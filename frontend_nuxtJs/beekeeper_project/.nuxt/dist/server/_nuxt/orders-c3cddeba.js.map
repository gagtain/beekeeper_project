{"version":3,"file":"orders-c3cddeba.js","sources":["../../../../additional_func/getListOrder.js","../../../../pages/orders.vue"],"sourcesContent":["import axios from \"axios\";\nimport { api_root } from '@/main'\n\nexport default async function getListOrder(){\n    try {\n        var response = await axios({url: `${api_root}api/v0.1/beekeeper_web_api/order/list`,\n        method: \"get\",\n        headers:{\n            \"Authorization\": `Bearer ${useCookie('assess').value}`\n\n        },\n      })\n      return response\n      } catch (error) {\n        return error.response\n      }\n    }","<template>\n  <div class=\"sot-ob\">\n    <div class=\"wrapper flex\">\n      <div class=\"user_card flex auto\">\n        <div class=\"interactiv user_card_div auto\" id=\"orders_main\">\n          <div class=\"kor w-sto relative\">\n    <p class=\"small-big VAG\">Заказы</p>\n    <div class=\"w-sto h_sto\">\n        <div v-if=\"!list_order[0].loading\" class=\"product_order_list \">\n                <div v-for=\"order in list_order\" :key=\"order.id\" class=\"order m-2\">\n                    <p align=\"left\">Заказ номер {{ order.id }}</p>\n                    <div class=\"w-sto h_sto flex\">\n                        <div class=\"product_order m-2\">\n                <div v-for=\"orderItem in order.product_list_transaction\" :key=\"orderItem.id\" class=\"product_order_info\">\n                  <div class=\"img_order_product_div\">\n                    <img class=\"img_order_product\" :src=\"$api_root + orderItem.productItem.product.image\" alt=\"\" />\n                  </div>\n                  <div class=\"info_order_product_div\">\n\n                    <div class=\"name_order_product\">{{ orderItem.productItem.product.name }} [{{ orderItem.productItem.weight.weight }} гр, {{ orderItem.productItem.type_packaging.name }}]</div>\n                <p>{{ orderItem.productItem.product.price }} {{ orderItem.productItem.product.price_currency }}</p>\n                <p>{{ orderItem.count }} шт</p>\n                  </div>\n                </div>\n\n              </div><div class=\"order_description\">\n                        <div class=\"flex w-sto m-2\">\n                            <div class=\"w-50 \">\n\n                                <p>Когда</p>\n                            </div>\n                            <div class=\"w-50\">\n\n                                <p>Когда</p>\n                            </div>\n                        </div>\n                        <div class=\"flex w-sto m-2\">\n                            <div class=\"w-50 \">\n\n                                <p>Способ оплаты</p>\n                            </div>\n                            <div class=\"w-50\">\n\n                                <p>Онлайн {{ order.amount }}</p>\n                            </div>\n                        </div>\n                        <div class=\"flex w-sto m-2\">\n                            <div class=\"w-50 \">\n\n                                <p>Покупатель</p>\n                            </div>\n                            <div class=\"w-50\">\n\n                                <p>{{ order.user.FIO }} {{ order.user.email }}</p>\n                            </div>\n                        </div>\n                        <div class=\"flex w-sto m-2\">\n                            <div class=\"w-50 \">\n\n                                <p>Получатель</p>\n                            </div>\n                            <div class=\"w-50\">\n\n                                <p>{{ order.user.FIO }} {{ order.user.email }}</p>\n                            </div>\n                        </div>\n                        <div class=\"flex w-sto m-2\">\n                            <div class=\"w-50 \">\n\n                                <p>Стоимости доставки</p>\n                            </div>\n                            <div class=\"w-50\">\n\n                                <p>* в разработке *</p>\n                            </div>\n                        </div>\n              </div>\n                    </div>\n                    \n                    \n                </div>\n            </div>\n            <div v-else-if=\"list_order[0].no_order\" class=\"w-sto h_sto flex auto\">\n                <div class=\"auto\">\n                    <p style=\"font-size: 28px;\" class=\"VAG\">Список заказов пуст :(</p>\n                    <div class=\"select_size\" >\n                      <router-link to=\"/basket\">\n                            <button style=\"background: rgb(76, 175, 80); cursor: pointer; width: 100%; border: medium none; border-radius: 6px;font-size: 26px;padding: 2%;margin-top: 1%;\" >\n                              Перейти в корзину\n                            </button>\n                          </router-link>\n                          </div></div>\n                </div>\n                \n            <LoadingComp v-else></LoadingComp>\n    </div>\n            \n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"css\" src=\"../assets/css/account.css\" scoped></style>\n<style scoped>\n.kor {\n  min-height: 50vh;\n}\n.name_order_product {\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  line-height: 16px;\n  overflow: hidden;\n}\n.order_description, .product_order{\n    width: 50%;\n}\n.order{\n    width: 60%;\n    margin-inline: auto;  \n    border: 2px solid gray;\n  padding: 2%;\n}\n.img_order_product_div{\n    width: 80px;\n}\n.img_order_product{\n    width: 100%;\n    aspect-ratio: 1/1;\n}\n.product_order_info{\n    display: flex;\n}\n.info_order_product_div{\n    padding: 2% 0;\n    text-align: left;\n}\n.order_description{\n    text-align: left;\n}\n@media (max-width: 1000px) {\n    .order{\n        display: block;\n    }\n    .order_description, .product_order{\n        width: 100%;\n    }\n}\n@media (max-width: 500px) {\n    .order{\n        width: 100%;\n    }\n    \n}\n</style>\n<script>\nimport getListOrder from '~/additional_func/getListOrder';\nimport LoadingComp from '../components/AddtionalComp/LoadingComp.vue';\nexport default {\n  components: { LoadingComp },\n  el: \"orders_main\",\n  name: \"BasketBase\",\n  data(){\n    return{\n        list_order:[\n            {loading: true, no_order: false}, // свойство для проверки загрузки \n            {\n                id: null,\n                amount: null,\n                user:{\n                    FIO: null,\n                    email: null,\n                },\n                product_list_transaction:[{\n                    id: null,\n                    productItem:{\n                        id: null,\n                        product:{\n                            name: null,\n                        description: null,\n                        image: null,\n                        price_currency: null,\n                        price: null,\n                        },\n                        weight:{\n                        id: null,\n                        weight: null,\n                    },\n                    type_packaging:{\n                        id: null,\n                        name: null,\n                    },\n                        \n                        \n\n                    },\n                    \n                    count: null\n                }],\n                datetime: null\n            }\n        ]\n    }\n  },\n  async mounted(){\n    let response_list_order = await getListOrder()\n    if (response_list_order.status != 404){\n        this.list_order = response_list_order.data\n    }else{\n        this.list_order[0].no_order = true\n    }\n  }\n};\n</script>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderList","_ssrInterpolate","_ssrRenderComponent","_push","_parent","_createVNode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAGe,eAAe,eAAc;AACxC,MAAI;AACA,QAAI,WAAW,MAAM,MAAM;AAAA,MAAC,KAAK,GAAG;AAAA,MACpC,QAAQ;AAAA,MACR,SAAQ;AAAA,QACJ,iBAAiB,UAAU,UAAU,QAAQ,EAAE;AAAA,MAElD;AAAA,IACT,CAAO;AACD,WAAO;AAAA,EACN,SAAQ,OAAP;AACA,WAAO,MAAM;AAAA,EACd;AACP;;;ACiJA,MAAK,YAAU;AAAA,EACb,YAAY,EAAE,YAAa;AAAA,EAC3B,IAAI;AAAA,EACJ,MAAM;AAAA,EACN,OAAM;AACJ,WAAM;AAAA,MACF,YAAW;AAAA,QACP,EAAC,SAAS,MAAM,UAAU,MAAK;AAAA;AAAA,QAC/B;AAAA,UACI,IAAI;AAAA,UACJ,QAAQ;AAAA,UACR,MAAK;AAAA,YACD,KAAK;AAAA,YACL,OAAO;AAAA,UACV;AAAA,UACD,0BAAyB,CAAC;AAAA,YACtB,IAAI;AAAA,YACJ,aAAY;AAAA,cACR,IAAI;AAAA,cACJ,SAAQ;AAAA,gBACJ,MAAM;AAAA,gBACV,aAAa;AAAA,gBACb,OAAO;AAAA,gBACP,gBAAgB;AAAA,gBAChB,OAAO;AAAA,cACN;AAAA,cACD,QAAO;AAAA,gBACP,IAAI;AAAA,gBACJ,QAAQ;AAAA,cACX;AAAA,cACD,gBAAe;AAAA,gBACX,IAAI;AAAA,gBACJ,MAAM;AAAA,cACT;AAAA,YAIA;AAAA,YAED,OAAO;AAAA,UACX,CAAC;AAAA,UACD,UAAU;AAAA,QACd;AAAA,MACJ;AAAA,IACJ;AAAA,EACD;AAAA,EACD,MAAM,UAAS;AACb,QAAI,sBAAsB,MAAM,aAAa;AAC7C,QAAI,oBAAoB,UAAU,KAAI;AAClC,WAAK,aAAa,oBAAoB;AAAA,WACrC;AACD,WAAK,WAAW,CAAC,EAAE,WAAW;AAAA,IAClC;AAAA,EACF;AACF;;;;AAtNO,QAAA,OAAAA,eAAAC,WAAA,EAAA,OAAM,YAAQ,MAAA,CAAA,uUAAA;AAOD,MAAA,CAAA,MAAA,cAAc,SAAO;;AACJC,kBAAA,MAAA,aAAT,UAAK;AACkB,YAAA,sFAAAC,eAAA,MAAM,EAAE,4GAAA;oBAGlB,MAAM,0BAAwB,CAA3C,cAAS;gKAEe,OAAK,iBAAY,UAAU,YAAY,QAAQ,KAAK,sIAIjDA,eAAA,UAAU,YAAY,QAAQ,IAAI,MAAQA,eAAA,UAAU,YAAY,OAAO,MAAM,SAAWA,eAAA,UAAU,YAAY,eAAe,IAAI,8BAClKA,eAAA,UAAU,YAAY,QAAQ,KAAK,KAAOA,eAAA,UAAU,YAAY,QAAQ,cAAc,2BACtFA,eAAA,UAAU,KAAK;;0bAsBQA,eAAA,MAAM,MAAM,6MAUnB,MAAM,KAAK,GAAG,oBAAO,MAAM,KAAK,KAAK,6MAUrC,MAAM,KAAK,GAAG,oBAAO,MAAM,KAAK,KAAK;;;EAmB/C,WAAA,MAAA,cAAc,UAAQ;2HAE3B,EAAwB,aAAA,OAAA,CAAA,oGAAA;AAEZ,UAAAC,mBAAA,wBAAA,EAAA,IAAG,UAAS,GAAA;AAAA,uBAAzB,CAIkB,GAAAC,QAAAC,UAAA,aAAA;;kDAHJ,EAAuJ,cAAA,oBAAA,UAAA,WAAA,SAAA,QAAA,UAAA,eAAA,iBAAA,OAAA,aAAA,QAAA,WAAA,MAAA,cAAA,KAAA,CAAA;;;YAA/JC,YAES,UAFD,EAAA,OAAA,EAAA,cAAA,oBAAA,UAAA,WAAA,SAAA,QAAA,UAAA,eAAA,iBAAA,OAAA,aAAA,QAAA,WAAA,MAAA,cAAA,KAAA,KAAyJ,qBAEjK;AAAA;;;;;;;;;;;;;;;;;;"}