import{r as u,_ as m}from"./redirect.fedaa3ad.js";import{h as g,i as h,a as f,b as i,e as s,f as v,q as w,K as l,L as d,o as c,p as x,l as k,v as y}from"./entry.5746e652.js";async function T(o){try{var e=await g({url:`${h}api/token/`,method:"post",data:o,headers:{"Content-Type":"application/json"}});return e}catch(t){return t.response}}const C={el:"#login_main",methods:{set_cookie(o){var e=new Date,t=e.getTime(),n=t+1e3*3600;e.setTime(n),document.cookie="assess="+o.data.access+";expires="+e.toUTCString()+";path=/",document.cookie="refresh="+o.data.refresh+";expires="+e.toUTCString()+";path=/"},async login_request(o){o.preventDefault;let e={username:this.username,password:this.password},t=await T(JSON.stringify(e));return console.log(t),t.status==200?(this.set_cookie(t),u(this,{path:"/profile"})):t.status==401?(console.log("asd"),this.login_401=!0):t==404&&alert("сайт на проверке, подождите 5 минут"),!1}},data(){return{username:"gag",password:"13",login_401:!1}}},N=o=>(x("data-v-7ecd6837"),o=o(),k(),o),S={id:"login_main"},V={class:"sot-ob"},I={class:"wrapper flex"},b={class:"login-page flex"},U={class:"form"},q={class:"flex h_sto"},B={class:"login-form auto"},D={class:"error_list"},j={key:0},A=N(()=>s("p",{class:"message"},[y(" Not registered? "),s("a",{href:"#"},"Create an account")],-1));function E(o,e,t,n,r,p){const _=m;return c(),i("div",S,[s("div",V,[s("div",I,[s("div",b,[v(_),s("div",U,[s("p",{class:"small login-p",onClick:e[0]||(e[0]=a=>o.alert(1234))},"Войти в аккаунт"),s("div",q,[s("div",B,[s("div",D,[r.login_401?(c(),i("div",j," Нету учетной записи с введенными данными ")):w("",!0)]),l(s("input",{type:"text",placeholder:"username","onUpdate:modelValue":e[1]||(e[1]=a=>r.username=a)},null,512),[[d,r.username]]),l(s("input",{type:"password",placeholder:"password","onUpdate:modelValue":e[2]||(e[2]=a=>r.password=a)},null,512),[[d,r.password]]),s("button",{onClick:e[3]||(e[3]=a=>p.login_request(a))},"login"),A])])])])])])])}const K=f(C,[["render",E],["__scopeId","data-v-7ecd6837"]]);export{K as default};
