import{a as l,A as u,o as n,b as i,c as m,v as f,p as g,m as I,i as o,y as v,t as _,s as b,j as h}from"./entry.34f87b4f.js";const k={el:"sub_order_ref",props:["items"]},y=e=>(g("data-v-5120646a"),e=e(),I(),e),S={id:"sub_order_ref",class:"w-sto"},w=y(()=>o("button",{class:"w-sto"},[o("div",{class:"fon_btn"}),v("Оформить")],-1)),x=y(()=>o("button",{class:"w-sto"},[o("div",{class:"fon_btn"}),v(" Добавить товар")],-1));function B(e,s,t,a,p,c){const r=u("RouterLink");return n(),i("div",S,[t.items.length?(n(),m(r,{key:0,to:"/checkout"},{default:f(()=>[w]),_:1})):(n(),m(r,{key:1,to:"/catalog"},{default:f(()=>[x]),_:1}))])}const $=l(k,[["render",B],["__scopeId","data-v-5120646a"]]);const F={el:"#pr_list_info",props:["items","delivery_price","ordered","order_amount"],data(){return{summ:0}},methods:{getCountBasket(){let e=0;return this.items.forEach(s=>{e+=parseInt(s.count)}),e},getWeight(){let e=this.items.reduce(function(t,a){return t+parseFloat(a.productItem.dimensions.weight*a.count)},0),s="";return e>=1e3?(e=e/1e3,s=`${e} кг`):s=`${e} гр`,s},getSumm(){let e=0;return this.ordered?(e+=parseFloat(this.order_amount),e+=parseFloat(this.delivery_price?this.delivery_price:0)):e=this.items.reduce(function(s,t){return s+parseFloat(t.productItem.price*t.count)},0),e},getSale(){return this.items.reduce(function(s,t){return t.productItem.is_sale?(console.log(t),console.log(t.productItem.old_price,parseFloat(t.productItem.price),t.productItem.price),s+(parseFloat(t.productItem.old_price)-parseFloat(t.productItem.price))):s},0)}}},C=e=>(g("data-v-d79c645c"),e=e(),I(),e),L={id:"pr_list_info",class:"kor_all_info auto w-sto m-2"},z={class:"m2"},N={class:"m2"},P={class:"m2"},V={key:0,class:"m2"},O=C(()=>o("p",{class:"m2"},"скидки:",-1)),E={id:"is",class:"small"};function R(e,s,t,a,p,c){return n(),i("div",L,[o("p",z,"Товаров: "+_(c.getCountBasket()),1),o("p",N,"Вес: "+_(c.getWeight()),1),o("p",P," Цена: "+_(t.ordered?t.order_amount:t.items.reduce(function(r,d){return r+parseFloat(d.productItem.price)},0)),1),t.ordered?(n(),i("p",V,"Цена доставки: "+_(t.delivery_price?t.delivery_price:"Не выбранно"),1)):b("",!0),O,o("ul",null,[o("li",null,_(c.getSale()),1)]),o("p",E," Итоговая сумма: "+_(c.getSumm()),1)])}const W=l(F,[["render",R],["__scopeId","data-v-d79c645c"]]);const j={components:{SubmitOrderref:$,ProductListInfo:W},el:"#reg_zakaz",name:"BasketInfo",props:["items"]},A={class:"register_zakaz",style:{width:"100%"}};function D(e,s,t,a,p,c){const r=u("SubmitOrderref"),d=u("ProductListInfo");return n(),i("div",A,[h(r,{items:t.items},null,8,["items"]),h(d,{items:t.items,ordered:!1},null,8,["items"])])}const q=l(j,[["render",D],["__scopeId","data-v-259016bb"]]);export{q as B,W as P};
