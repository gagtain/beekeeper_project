import{i as n,j as d,k as u,a as l,o,b as i,X as v,f as _}from"./entry.118cb178.js";async function f(e,t){try{var a=await n({url:`${d}api/v0.1/beekeeper_web_api/basket/${e}`,method:"post",headers:{Authorization:`Bearer ${u("assess").value}`},data:{type_weight:t}});return a}catch(c){return c.response}}async function h(e){try{var t=await n({url:`${d}api/v0.1/beekeeper_web_api/basket/${e}`,method:"delete",headers:{Authorization:`Bearer ${u("assess").value}`}});return t}catch(a){return a.response}}const k={el:"#addBasket",name:"AddBasket",props:["id"],data(){return{isBasket:!1}},created(){},setup(){},methods:{a(){let e=this;return this.$store.getUser.basket.find(function(a){return e.id==a.productItem.id})},async addBasketBtn(){let e=await f(this.id);e.status==200&&(this.$store.ADD_BASKET_ITEM(e.data.basketItem),this.isBasket=!0)},async removeBasketBtn(){let e=await h(this.id);e.status==200&&(this.$store.REMOVE_BASKET_ITEM(e.data.id),this.isBasket=!1)}},watch:{pack_id(){console.log(3214),this.a()},wei_id(){console.log(3214),this.a()}}},m={id:"addBasket"};function B(e,t,a,c,p,s){return o(),i("div",m,[s.a()?(o(),i("button",{key:0,onClick:t[0]||(t[0]=(...r)=>s.removeBasketBtn&&s.removeBasketBtn(...r)),class:"w-sto btn au"},"Из корзины")):(o(),i("button",{key:1,onClick:t[1]||(t[1]=(...r)=>s.addBasketBtn&&s.addBasketBtn(...r)),class:"w-sto btn au"},"В корзину"))])}const F=l(k,[["render",B],["__scopeId","data-v-e69ca2a1"]]);async function $(e){try{var t=await n({url:`${d}api/v0.1/beekeeper_web_api/favorite/${e}`,method:"post",headers:{Authorization:`Bearer ${u("assess").value}`}});return t}catch(a){return a.response}}async function b(e){try{var t=await n({url:`${d}api/v0.1/beekeeper_web_api/favorite/${e}`,method:"delete",headers:{Authorization:`Bearer ${u("assess").value}`}});return t}catch(a){return a.response}}const y=v({el:"#favorite",name:"FavoriteComp",props:["id"],setup(){},created(){this.a()},methods:{a(){let e=this;return this.$store.getUser.favorite_product.find(function(a){return e.id==a.productItem.id})},async addFavoriteBtn(){let e=await $(this.id);e.status==200&&(this.$store.ADD_FAVORITE_ITEM(e.data.favoriteItem),this.isFavorite=!0)},async removeFavoriteBtn(){let e=await b(this.id);e.status==200&&this.$store.REMOVE_FAVORITE_ITEM(e.data.id)}},watch:{wei_id(){this.a()}}},"$mMs4bzKJaw"),w=["src"],g=["src"];function A(e,t,a,c,p,s){return e.a()?(o(),i("button",{key:0,onClick:t[0]||(t[0]=r=>e.removeFavoriteBtn()),id:"favorite",class:"fav-btn flex"},[_("img",{class:"auto",src:`${e.$api_root}static/online_store/images/favorite/favorite_remove.png`,alt:""},null,8,w)])):(o(),i("button",{key:1,id:"favorite",onClick:t[1]||(t[1]=r=>e.addFavoriteBtn()),class:"fav-btn flex"},[_("img",{class:"auto",src:`${e.$api_root}static/online_store/images/favorite/favorite_add.png`,alt:""},null,8,g)]))}const I=l(y,[["render",A],["__scopeId","data-v-8d69c0da"]]);export{F as A,I as F};
