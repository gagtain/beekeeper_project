import{v as X,x as Q,y as ee,e as E,a as Z,o as b,f as i,z as u,i as L,j as P,A as te,B as U,C as q,D as x,m as M,h as S,p as V,k as I,c as H,q as O,b as ie}from"./entry.2f8588e7.js";import{P as W,B as se}from"./BasketInfo.57dbb577.js";import{c as N,r as R,u as oe}from"./index.ce8d2d24.js";import{O as F}from"./OrderProductList.2b651a72.js";const ne=X({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(l,{slots:p,attrs:f}){const o=Q(!1);return ee(()=>{o.value=!0}),h=>{var m;if(o.value)return(m=p.default)==null?void 0:m.call(p);const g=p.fallback||p.placeholder;if(g)return g();const a=h.fallback||h.placeholder||"",_=h.fallbackTag||h.placeholderTag||"span";return E(_,f,a)}}});function re(l){var p={label:"iWidjet",params:{}};typeof l>"u"&&(l={});for(var f in p)typeof l[f]>"u"&&(l[f]=p[f]);var o=l.label,h=l.params;this.options={get:function(e){return _.get(e)},set:function(e,t){_.set(e,t)}},this.binders={add:function(e,t){m.addBind(e,t)},trigger:function(e,t){m.trigger(e,t)}},this.states={check:function(e){v.check(e)}},this.service={cloneObj:function(e){return a.cloneObj(e)},concatObj:function(e,t){return a.concatObj(e,t)},isEmpty:function(e){return a.isEmpty(e)},inArray:function(e,t){return a.inArray(e,t)},loadTag:function(e,t,n){a.loadTag(e,t,n)}},this.logger={warn:function(e){return g.warn(e)},error:function(e){return g.error(e)},log:function(e){return g.log(e)}};var g={warn:function(e){this.check("warn")&&console.warn(o+": ",e)},error:function(e){this.check("error")&&console.error(o+": ",e)},log:function(e){if(this.check("log"))if(typeof e=="object"){console.log(o+": ");for(var t in e)console.log(t,e[t])}else console.log(o+": ",e)},check:function(e){var t=!1;switch(e){case"warn":t=_.check(!0,"showWarns");break;case"error":t=_.check(!0,"showErrors");break;case"log":t=_.check(!0,"showLogs");break}return t&&_.check(!1,"hideMessages")}},a={cloneObj:function(e){var t=!1;if(typeof e!="object")return t;if(arguments.length===1){t={};for(var n in e)t[n]=e[n]}else{t=[];for(var n in e)t.push(e[n])}return t},concatObj:function(e,t){if(typeof e=="object"&&typeof t=="object")for(var n in t)e[n]=t[n];return e},isEmpty:function(e){var t=!0;if(typeof e=="object")for(var n in e){t=!1;break}else t=e;return t},inArray:function(e,t){return t.filter(function(n){return n==e}).length},loadTag:function(e,t,n){var c=!1;typeof t>"u"||t==="script"?(c=document.createElement("script"),c.src=e,c.type="text/javascript",c.language="javascript"):(c=document.createElement("link"),c.href=e,c.rel="stylesheet",c.type="text/css");var d=document.getElementsByTagName("head")[0];d.appendChild(c),typeof n<"u"&&(c.onload=n,c.onreadystatechange=function(){(this.readyState==="complete"||this.readyState==="loaded")&&c.onload()})}},_={self:this,options:{showWarns:{value:!0,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},showErrors:{value:!0,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},showLogs:{value:!0,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},hideMessages:{value:!1,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},mode:{value:"all",check:function(e){return typeof e=="string"},setting:"start",hint:"Value must be string (pvz / postamat)"}},check:function(e,t,n){var c=this.get(t);return c===null?null:typeof n>"u"?e===c:e==c},get:function(e){return typeof this.options[e]<"u"?this.options[e].value:(g.warn('Undefined option "'+e+'"'),null)},set:function(e,t){if(typeof this.options[t]>"u")g.warn("Undefined option to set : "+t);else if(typeof this.options[t].check!="function"||this.options[t].check.call(this.self,e))this.options[t].value=e;else{var n=typeof this.options[t].hint<"u"&&this.options[t].hint?": "+this.options[t].hint:!1;g.warn("Incorrect setting value ("+e+") for option "+t+n)}},iniSetter:function(e,t){for(var n in _.options)_.options[n].setting===t&&typeof e[n]<"u"&&_.set(e[n],n)}},m={events:{onStart:[]},trigger:function(e,t){if(typeof this.events[e]>"u")g.error("Unknown event "+e);else if(this.events[e].length>0)for(var n in this.events[e])this.events[e][n](t)},iniSetter:function(e){for(var t in this.events)if(this.events.hasOwnProperty(t)&&typeof e[t]<"u")if(typeof e[t]=="object")for(var n in e[t])this.addBind(e[t][n],t);else this.addBind(e[t],t)},addBind:function(e,t){typeof e=="function"?this.events[t].push(e):g.warn('The callback "'+e+'" for '+t+" is not a function")}},v={self:this,states:{start:{_start:!1}},check:function(e){var t=!1;for(var n in this.states){for(var c in this.states[n])c===e&&(this.states[n][c]=!0,t=n);if(t)break}if(t){var d=!0;for(var y in this.states[t])if(!this.states[t][y]){d=!1;break}d&&typeof D[t]<"u"&&(_.iniSetter(h,t),D[t].call(this.self,h))}else e==="started"?g.error("No callbacks for starting"):g.error("Unknown state of loading: "+e)}},D={start:function(e){m.iniSetter(e),m.trigger("onStart"),v.check("started")}},s={options:"object",states:"object",loaders:"funciton",stages:"object",events:"string"};for(var f in s)if(typeof l[f]<"u"){for(var r in l[f])if({}.hasOwnProperty.call(l[f],r))if(typeof l[f][r]!==s[f])g.error("Illegal "+f+' "'+r+'": '+l[f][r]);else switch(f){case"options":_.options[r]=a.cloneObj(l.options[r]);break;case"states":v.states[r]=a.cloneObj(l.states[r]);break;case"loaders":D[r]=l.loaders[r];break;case"events":m.events[l.events[r]]=[];break;case"stages":typeof l.stages[r].states!="object"||typeof l.stages[r].function!="function"?g.error('Illegal stage "'+r+'": '+l[f][r]):(v.states[r]=a.cloneObj(l.stages[r].states),D[r]=l.stages[r].function);break}}v.check("_start")}function ae(l){if(!l.path){var p="https://widget.cdek.ru/widget/widjet.js";p=p.substring(0,p.indexOf("widjet.js"))+"scripts/",l.path=p}l.servicepath||(l.servicepath=l.path+"service.php"),l.templatepath||(l.templatepath=l.path+"template.php"),l.currency||(l.currency="RUB");var f={onJSPCSSLoad:function(){o.states.check("JSPCSS")},onStylesLoad:function(){o.states.check("JSPCSS"),o.states.check("styles")},onIPJQLoad:function(){o.states.check("jquery")},onJSPJSLoad:function(){o.states.check("JSPJS")},onPVZLoad:function(){o.states.check("PVZ")},onDataLoad:function(){o.states.check("data")},onLANGLoad:function(){o.states.check("lang")},onYmapsLoad:function(){o.states.check("ymaps")},onYmapsReady:function(){o.states.check("mapsReady")},onYmapsInited:function(){o.states.check("mapsInited")},onCityFrom:function(){o.states.check("cityFrom")}},o=new re({label:"ISDEKWidjet",options:{path:{value:l.path,check:function(e){return typeof e=="string"},setting:"start",hint:"Value must be string (url)"},servicepath:{value:l.servicepath,check:function(e){return typeof e=="string"},setting:"start",hint:"Value must be string (url)"},templatepath:{value:l.templatepath,check:function(e){return typeof e=="string"},setting:"start",hint:"Value must be string (url)"},country:{value:"all",check:function(e){return typeof e=="string"},setting:"start",hint:"Value must be string (countryname)"},lang:{value:"rus",check:function(e){return typeof e=="string"},setting:"start",hint:"Value must be string (laguage name)"},link:{value:l.link,check:function(e){return e===!1?!0:ipjq("#"+e).length>0},setting:"afterJquery",hint:"No element whit this id to put the widjet"},defaultCity:{value:l.defaultCity,check:function(e){return this.city.check(e)!==!1},setting:"dataLoaded",hint:"Default City wasn't founded"},choose:{value:!0,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},hidedress:{value:!1,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},hidecash:{value:!1,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},hidedelt:{value:!1,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},popup:{value:!1,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},region:{value:!1,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},detailAddress:{value:!1,check:function(e){return typeof e=="boolean"},setting:"start",hint:"Value must be bool (true / false)"},apikey:{value:"f4e034c2-8c37-4168-8b97-99b6b3b268d7",check:function(e){return typeof e=="string"},setting:"start",hint:"Value must be string (apikey)"},goods:{value:!1,check:function(e){if(typeof e!="object"||typeof e.width<"u")return!1;for(var t in e)if(typeof e[t].length>"u"||!e[t].length||typeof e[t].width>"u"||!e[t].width||typeof e[t].height>"u"||!e[t].height||typeof e[t].weight>"u"||!e[t].weight)return!1;return!0},setting:"start",hint:"Value must be an array of objects of type {length:(float),width:(float),height(float),weight(float)}"},cityFrom:{value:l.cityFrom,check:function(e){return this.city.check(e)!==!1},setting:"dataLoaded",hint:"City From wasn't founded"},currency:{value:l.currency,check:function(e){return["RUB","KZT","USD","EUR","GBP","CNY","BYN","UAH","KGS","AMD","TRY","THB","KRW","AED","UZS","MNT"].indexOf(e)!==-1},setting:"start",hint:"Currency wasn't founded"}},events:["onChoose","onChooseProfile","onChooseAddress","onReady","onCalculate"],stages:{mainInit:{states:{started:!1},function:function(){this.service.loadTag(this.options.get("path")+"ipjq.js","script",f.onIPJQLoad);var e=this.options.get("lang")=="rus"?"ru_RU":"en_GB";this.service.loadTag("https://api-maps.yandex.ru/2.1/?apikey="+this.options.get("apikey")+"&lang="+e,"script",f.onYmapsLoad),this.service.loadTag(this.options.get("path")+"style.css","link",f.onStylesLoad)}},afterJquery:{states:{jquery:!1},function:function(){this.service.loadTag(this.options.get("path")+"jquery.mCustomScrollbar.concat.min.js","script",f.onJSPJSLoad),ipjq.getJSON(o.options.get("servicepath"),{isdek_action:"getPVZ",country:this.options.get("country"),lang:this.options.get("lang"),mode:this.options.get("mode")},a.parsePVZFile),ipjq.getJSON(o.options.get("servicepath"),{isdek_action:"getLang",lang:this.options.get("lang")},v.write)}},ymapsBinder1:{states:{ymaps:!1},function:function(){ymaps.ready(f.onYmapsReady())}},ymapsBinder2:{states:{mapsReady:!1},function:function(){h()}},dataLoaded:{states:{JSPCSS:!1,JSPJS:!1,PVZ:!1,styles:!1,lang:!1},function:function(){f.onDataLoad(),o.options.get("cityFrom")?ipjq.getJSON(o.options.get("servicepath"),{isdek_action:"getCity",city:o.options.get("cityFrom")},function(e){typeof e.error>"u"?_.cityFrom=e.id:o.logger.warn("City from was't found "+e.error),f.onCityFrom("onCityFrom")}):f.onCityFrom("onCityFrom")}},ready:{states:{data:!1,mapsInited:!1,cityFrom:!1},function:function(){o.options.get("defaultCity")!="auto"&&a.city.set(o.options.get("defaultCity")),r.readyA=!0,r.html.loadCityList(a.city.collection),o.popupped?o.loadedToAction=!0:o.finalAction()}}},params:l});o.popupped=!1,o.loadedToAction=!1,o.finalActionCalled=!1,o.loaderHided=!1,o.finalAction=function(){o.finalActionCalled!==!0&&(o.finalActionCalled=!0,r.controller.loadCity(),this.sdekWidgetEvents(),this.binders.trigger("onReady"))},o.hideLoader=function(){o.loaderHided||(o.loaderHided=!0,ipjq(s.get("PRELOADER")).fadeOut(300),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search, .CDEK-widget__sidebar, .CDEK-widget__logo").removeClass("CDEK-widget__inaccessible"))};function h(){typeof o.incrementer>"u"&&(o.incrementer=0),typeof ymaps.geocode!="function"?o.incrementer++>50?o.logger.error("Unable to load ymaps"):window.setTimeout(h,500):f.onYmapsInited()}var g={blocks:{},getBlock:function(e,t){if(typeof g.blocks[e]<"u"){var n=g.blocks[e];if(typeof t=="object")for(var c in t)n=n.replace(new RegExp("#"+c+"#","g"),t[c]);return n=s.replaceAll(v.replaceAll(n)),n}return""},save:function(e){g.blocks=e,r.html.place()}},a={regions:{collection:{},cityes:{},map:{}},listCityCode:[162,42932,13369,1690,469,1198,75809,510,1689,16338],currentCityName:"",currentCityCode:0,city:{indexOfSome:function(e,t){console.log(e);for(var n in t)if(t[n]==e)return n;return!1},collection:{},collectionFull:{},current:!1,get:function(){return this.current},set:function(e,t=!1){return this.checkCity(e)?typeof this.collection[e]>"u"&&!t&&!(e=this.indexOfSome(e,this.collection))?!1:(this.current=e,e):(o.logger.error("Unknown city: "+e),!1)},checkCity:function(e){return typeof this.collection[e]<"u"||this.indexOfSome(e,this.collection)>-1},getName:function(e){return this.checkCity(e)?(typeof this.collection[e]>"u"&&(e=this.indexOfSome(e,this.collection)),this.collection[e]):!1},getFullName:function(e){return this.checkCity(e)?(typeof this.collectionFull[e]>"u"&&(e=this.indexOfSome(e,this.collectionFull)),this.collectionFull[e]):!1},getId:function(e){return this.checkCity(e)?(typeof this.collection[e]>"u"&&(e=this.indexOfSome(e,this.collection)),e):!1}},PVZ:{collection:{},bycoord:{},bycoordCur:0,check:function(e){return a.city.checkCity(e)&&typeof this.collection[e]<"u"},getCityPVZ:function(e){if(a.listCityCode.includes(Number(e)))return a.currentCityName==="Р РѕСЃСЃРёСЏ РњРѕСЃРєРІР° РњРѕСЃРєРІР°"?this.collection[44]:this.collection[e+"_distance"];if(this.check(e))return this.collection[e];o.logger.error("No PVZ in city "+e)},getRegionPVZ:function(e){if(this.check(e)){let t={},n=a.regions.cityes[e],c=[];return c.push(...a.regions.map[n]),n===81&&c.push(...a.regions.map[9]),n===9&&c.push(...a.regions.map[81]),n===82&&c.push(...a.regions.map[26]),n===26&&c.push(...a.regions.map[82]),c.forEach((d,y,C)=>{var w=a.PVZ.collection[d];for(let k in w)t[k]=w[k]}),t}else o.logger.error("No PVZ in city "+e)},getCurrent:function(){let e=a.city.current;return a.currentCityCode!==0&&(e=a.currentCityCode),o.options.get("region")?this.getRegionPVZ(e):this.getCityPVZ(e)}},address:{current:!1,get:function(){return a.address.current},set:function(e){a.address.current=e},fill:function(e){a.address.set(e)}},parsePVZFile:function(e){if(typeof e.pvz>"u"){console.log(e);var t="Unable to load list of PVZ : ";if(typeof e.pvz>"u"){for(var n in e.error)t+=e.error[n]+", ";t=t.substr(0,t.length-2)}else t+="unknown error.";o.logger.error(t)}else{typeof e.pvz.REGIONS<"u"&&(a.regions.collection=e.pvz.REGIONS,a.regions.cityes=e.pvz.CITYREG,a.regions.map=e.pvz.REGIONSMAP);for(var c in e.pvz.PVZ)a.listCityCode.includes(Number(c))&&(a.PVZ.collection[44]={...a.PVZ.collection[44],...e.pvz.PVZ[c]}),a.PVZ.collection[c]=e.pvz.PVZ[c],typeof e.pvz.CITY[c]<"u"&&typeof a.city.collection[c]>"u"&&(a.city.collection[c]=e.pvz.CITY[c],a.city.collectionFull[c]=e.pvz.CITYFULL[c]);f.onPVZLoad()}}},_={bad:!1,profiles:{courier:{price:0,currency:"RUB",term:0,tarif:!1},pickup:{price:0,currency:"RUB",term:0,tarif:!1}},history:[],defaultGabs:{length:20,width:30,height:40,weight:1},cityFrom:!1,binder:{},calculate:function(e=!1){if(this.cityFrom){let n=this.history.findIndex(d=>d.code===parseInt(a.city.current)&&d.type==="courier"&&d.weight===m.getWeight()),c=this.history.findIndex(d=>d.code===parseInt(a.city.current)&&d.type==="pickup"&&d.weight===m.getWeight());if(n!==-1&&c!==-1){for(var t in this.profiles){let d=t==="pickup"?c:n;d!==-1&&(this.profiles[t].price=this.history[d].price,this.profiles[t].term=this.history[d].term,this.profiles[t].tarif=this.history[d].tarif)}o.binders.trigger("onCalculate",{profiles:o.service.cloneObj(_.profiles),city:a.city.current,cityName:a.city.getName(a.city.current)})}else{let d=Date.now();a.city.current===63015&&(a.city.current=1195),this.binder[parseInt(a.city.current)]={};for(let y in this.profiles)this.profiles[y].price=null,this.profiles[y].term=null,this.profiles[y].tarif=!1,this.request(y,d,e)}}else o.logger.warn("No city from given: calculation is impossible")},request:function(e,t,n=!1){var c={type:e};if(typeof m.get()[0]<"u"){var d=m.get();c.goods=[];for(var y in d)c.goods.push(d[y])}else c.goods=[this.defaultGabs];c.cityFromId=this.cityFrom,c.cityToId=n?a.city.get():a.city.getId(a.city.current),c.currency=o.options.get("currency"),typeof t<"u"&&(c.timestamp=t),a.city.current&&ipjq.getJSON(o.options.get("servicepath"),{isdek_action:"calc",shipment:c},_.onCalc)},onCalc:function(e){if(typeof e.error<"u"){_.bad=!0;var t="",n=!1;for(var c in e.error)if(typeof e.error[c]=="object")for(var d in e.error[c])t+=e.error[c][d].text+" ("+e.error[c][d].code+"), ",e.error[c][d].code===3&&(n=!0);else t+=e.error[c]+", ";n?(o.logger.warn("Troubles while calculating: "+t.substring(0,t.length-2)),typeof e.type<"u"&&(_.profiles[e.type].price=!1,_.profiles[e.type].term=!1,_.profiles[e.type].tarif=!1)):o.logger.error("Error while calculating: "+t.substring(0,t.length-2))}else _.bad=!1,_.profiles[e.type].price=e.result.price,_.profiles[e.type].currency=e.result.currency,_.profiles[e.type].term=e.result.deliveryPeriodMax===e.result.deliveryPeriodMin?e.result.deliveryPeriodMin:e.result.deliveryPeriodMin+"-"+e.result.deliveryPeriodMax,_.profiles[e.type].tarif=typeof e.result.tarif<"u"?e.result.tarif:e.result.tariffId,_.history.push({code:parseInt(a.city.current),weight:m.getWeight(),type:e.type,price:e.result.price,currency:e.result.currency,term:_.profiles[e.type].term,tarif:_.profiles[e.type].tarif});if(typeof e.type<"u"&&typeof _.binder[parseInt(a.city.current)]<"u"){_.binder[parseInt(a.city.current)][e.type]=!0;for(var c in _.profiles)if(typeof _.binder[parseInt(a.city.current)][c]>"u")return!1;o.binders.trigger("onCalculate",{profiles:o.service.cloneObj(_.profiles),city:a.city.current,cityName:a.city.getName(a.city.current)})}}},m={collection:typeof o.options.get("goods")=="object"?o.options.get("goods"):[],add:function(e){typeof e!="object"||typeof e.length>"u"||typeof e.width>"u"||typeof e.height>"u"||typeof e.weight>"u"?o.logger.error("Illegal item "+e):(this.collection.push({length:e.length,width:e.width,height:e.height,weight:e.weight}),o.calculate())},reset:function(){this.collection=[]},get:function(){return o.service.cloneObj(this.collection)},getWeight:function(){return this.collection.reduce((e,t)=>e+t.weight,0)}},v={collection:{},replaceAll:function(e){for(var t in this.collection)e=e.replace(new RegExp("#"+t+"#","g"),this.collection[t]);return e},get:function(e){return typeof this.collection[e]<"u"?this.collection[e]:(o.logger.warn("No lang string with key "+e),"")},write:function(e){if(ipjq.getJSON(o.options.get("templatepath"),{},g.save),typeof e.LANG>"u"){var t="Unable to load land-file : ";if(typeof e.error<"u"){for(var n in e.error)t+=e.error[n]+", ";t=t.substr(0,t.length-2)}else t+="unknown error.";o.logger.error(t)}else v.collection=o.service.cloneObj(e.LANG),f.onLANGLoad()}},D=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},s={WID:D()+"_",options:{MAP:"SDEK_map",PRELOADER:"preloader"},replaceAll:function(e){for(var t in this.options)e=e.replace(new RegExp("#"+t+"#","g"),this.WID+this.options[t].replace("#",""));return e.replace(new RegExp("#WID#","g"),this.WID)},get:function(e){return typeof this.options[e]<"u"?"#"+this.WID+this.options[e]:"#"+this.WID+e}},r={readyA:!1,html:{get:function(){return g.getBlock("widget",{CITY:o.options.get("defaultCity")})},makeADAPT:function(){if(!o.options.get("link")){var e=ipjq(s.get("cdek_widget_cnt")).outerHeight();e<476||ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list__box, .mCustomScrollBox").css("max-height","auto"),e<ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__box").outerHeight()+56?ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").css("max-height",e-56+"px"):ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__box").outerHeight()!==0&&ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").css("max-height",ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__box").outerHeight()+"px")}},makeFULLSCREEN:function(){this.makeADAPT(),ipjq(window).resize(this.makeADAPT())},place:function(){var e=this.get();o.options.get("link")?ipjq("#"+o.options.get("link")).html(e):o.options.get("popup")?(o.popupped=!0,e=g.getBlock("popup",{WIDGET:e}),ipjq("body").append(e),this.makeFULLSCREEN()):(e=ipjq(e),e.css("position","fixed"),e.css("top",0),e.css("left",0),e.css("z-index",1e3),ipjq("body").append(e),this.makeFULLSCREEN()),o.options.get("choose")||ipjq(s.get("cdek_widget_cnt")).addClass("nochoose");var t=g.getBlock("sidebar");if(o.options.get("hidecash")){var n=[];n.push(t.slice(0,1476)),n.push(t.slice(2693)),t=n.join("")}if(o.options.get("hidedress")){var n=[];n.push(t.slice(0,o.options.get("hidecash")?1476:2693)),n.push(t.slice(t.indexOf("<hr>"))),t=n.join("")}o.options.get("hidedelt")&&ipjq(s.get("cdek_delivery_types")).hide(),ipjq(s.get("sidebar")).html(t),this.makeADAPT()},loadedCities:[],setDefaultCities(){const e=ipjq(s.get("city_list"));e.empty(),this.loadedCities.slice(0,7).forEach(n=>{const c=g.getBlock("city",n);e.prepend(c)})},loadCityList:function(e){this.loadedCities=[];for(const t in e)this.loadedCities.push({CITYID:t,CITYNAME:e[t],CITY_DETAILS:typeof a.regions.collection[t]<"u"?a.regions.collection[t]:"&nbsp;"});this.setDefaultCities()},updatePrices:function(e){if(ipjq(s.get("cdek_widget_cnt")).find(s.get("cdek_delivery_types")+" div.CDEK-widget__delivery-type__item").remove(),typeof e>"u"||e.length==0)ipjq(s.get("cdek_widget_cnt")).find(s.get("cdek_delivery_type_title span.CDEK_choose")).hide(),ipjq(s.get("cdek_widget_cnt")).find(s.get("cdek_delivery_type_title span.CDEK_no-avail")).show(),ipjq(s.get("cdek_widget_cnt")).find(s.get("cdek_delivery_type_none")).show();else{ipjq(s.get("cdek_widget_cnt")).find(s.get("cdek_delivery_type_title span.CDEK_choose")).show(),ipjq(s.get("cdek_widget_cnt")).find(s.get("cdek_delivery_type_title span.CDEK_no-avail")).hide(),ipjq(s.get("cdek_widget_cnt")).find(s.get("cdek_delivery_type_none")).hide();for(var t in e)switch(t){case"courier":case"pickup":if(!_.bad||e[t].price!==!1){var n=g.getBlock("d_"+t,{SUMM:e[t].price===null?v.get("COUNTING"):e[t].price,CURR:e[t].price===null?"":v.get(e[t].currency),TIME:e[t].term===null?"":e[t].term,DAY:e[t].term===null?"":v.get("DAY")});ipjq(s.get("cdek_delivery_types")).append(n)}}}this.makeADAPT()},hideMap:function(){ipjq(s.get("MAP")).css("display","none"),ipjq(s.get("cdek_widget_cnt")).find("#SDEK_info").css("display","none")}},controller:{getCity:function(){return a.city.get()},loadCity:function(e){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-details__back").click(),(typeof e>"u"||e!=!0)&&this.calculate(),this.updatePrices(),r.ymaps.init(a.city.current)},selectCity:function(e){typeof e=="object"&&(e=e.data.name),(typeof e>"u"||!e)&&(e=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul li").not(".no-active").first().data("cityid")),a.city.set(e),r.controller.loadCity(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]").val(a.city.getName(e)),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul li").removeClass("focus").addClass("no-active").parent("ul").removeClass("open"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]")[0].blur(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__button").attr("class","CDEK-widget__delivery-type__button"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__item").removeClass("active"),setTimeout(function(){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").removeClass("CDEK-widget__delivery-type_close")},1e3),r.ui.addressSearch.ifOn()&&r.ui.addressSearch.hide()},putCity:function(e){typeof e=="object"&&(e=e.data.name),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]").val(a.city.getName(e)),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul li").removeClass("focus").addClass("no-active").parent("ul").removeClass("open")},updatePrices:function(){r.html.updatePrices({courier:_.profiles.courier,pickup:_.profiles.pickup})},calculate:function(e=!1){_.calculate(e)},chooseDeliveryType:function(){if(r.ui.addressSearch.ifOn()&&r.ui.addressSearch.hide(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul").hasClass("open")){var e=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul").find("li.focus");e.length!=0?r.controller.selectCity(e.find(".CDEK-widget__search-list__city-name").text()):r.controller.selectCity(),setTimeout(function(){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").removeClass("CDEK-widget__delivery-type_close")},1e3);return}ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").removeClass("CDEK-widget__delivery-type_close")},choosePVZ:function(e){var t=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__item:last");t.hasClass("active")||(t.attr("class","CDEK-widget__delivery-type__item").addClass("active"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__item:first").attr("class","CDEK-widget__delivery-type__item").removeClass("active"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__button").attr("class","CDEK-widget__delivery-type__button").addClass("CDEK-widget__delivery-type__button_pvz"));var n=a.PVZ.getCurrent();o.binders.trigger("onChoose",{id:e,PVZ:n[e],price:_.profiles.pickup.price,currency:_.profiles.pickup.currency,term:_.profiles.pickup.term,tarif:_.profiles.pickup.tarif,city:a.city.current,cityName:a.city.getName(a.city.current)}),o.options.get("link")||this.close()},chooseCOURIER:function(){o.binders.trigger("onChooseProfile",{id:"courier",city:a.city.current,cityName:a.city.getName(a.city.current),price:_.profiles.courier.price,currency:_.profiles.courier.currency,term:_.profiles.courier.term,tarif:_.profiles.courier.tarif}),!r.ui.active&&!o.options.get("link")?this.close():r.ui.addressSearch.ifOn()&&(r.ui.addressSearch.show(),r.ui.addressSearch.fill())},open:function(){o.options.get("link")?o.logger.error("This widjet is in non-floating mode - link is set"):r.ui.open()},close:function(){o.options.get("link")?o.logger.error("This widjet is in non-floating mode - link is set"):r.ui.close()}},ui:{currentmark:!1,markChozenPVZ:function(e){r.ymaps.selectMark(e.data.id)},choosePVZ:function(e){r.controller.choosePVZ(e.data.id)},addressSearch:{active:!1,getInput:function(){return ipjq(s.get("cdek_courier_address_place"))},ifOn:function(){return o.options.get("detailAddress")},show:function(){r.ui.addressSearch.active=!0,ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__courier-address__box").removeClass("CDEK-widget__courier-address__box_close")},hide:function(){r.ui.addressSearch.active=!1,r.ui.addressSearch.killBaloon(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__courier-address__box").addClass("CDEK-widget__courier-address__box_close")},fill:function(){a.city.getName()&&r.ui.addressSearch.getInput().val(a.city.getName(r.controller.getCity())+", "),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__courier-address__button").addClass("allowed")},mapClick:function(e){r.ui.addressSearch.active&&typeof e<"u"&&(r.ymaps.centerAddr(e.geometry.getCoordinates()),r.ui.addressSearch.getInput().val(e.properties.get("text")),r.ui.addressSearch.makeBaloon(e.geometry.getCoordinates(),e.properties.get("text")))},search:function(){r.ymaps.getSearchAddress(r.ui.addressSearch.getInput().val(),r.ui.addressSearch.found)},found:function(e){r.ui.addressSearch.killBaloon(),r.ymaps.centerAddr(e.coords),r.ui.addressSearch.makeBaloon(e.coords,e.name)},baloon:!1,makeBaloon:function(e,t){r.ui.addressSearch.baloon=r.ymaps.makeBaloon(e,"<div class='CDEK-widget__baloon'>"+t+'<br><button class="CDEK-widget__choose" type="button" data-label="'+v.get("L_CHOOSE")+'">'+v.get("L_CHOOSE")+"</button></div>"),r.ui.addressSearch.baloon&&(r.ui.addressSearch.baloon.balloon.open(),window.setTimeout(function(){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__baloon .CDEK-widget__choose").on("click",r.ui.addressSearch.clickBaloon)},500))},killBaloon:function(){r.ui.addressSearch.baloon&&r.ymaps.killBaloon(r.ui.addressSearch.baloon)},clickBaloon:function(){r.ui.addressSearch.killBaloon(),r.ui.addressSearch.choose()},choose:function(){a.address.fill(r.ui.addressSearch.getInput().val()),ipjq.getJSON(o.options.get("servicepath"),{isdek_action:"getCity",address:a.address.get()},function(e){if(typeof e.error>"u")if(e.city.id===63015&&(e.city.id=a.city.get(),e.city.city="Р‘С‹РєРѕРІРѕ"),a.city.get()==e.city.id){r.ui.addressSearch.hide();let n=a.address.get().split(","),c=(n[n.length-2].trim()+", "+n[n.length-1].trim()).trim();o.binders.trigger("onChooseAddress",{id:"courier",city:a.city.current,cityName:a.city.getName(a.city.current),price:_.profiles.courier.price,currency:_.profiles.courier.currency,term:_.profiles.courier.term,tarif:_.profiles.courier.tarif,address:a.address.get(),cleanaddress:c}),o.options.get("link")||this.close()}else a.city.set(e.city.id,!0),ipjq(s.get("cdek_search_input")).val(e.city.city),r.html.updatePrices({courier:{price:null,term:null},pickup:{price:null,term:null}}),alert(v.get("ADDRESS_ANOTHER")),r.controller.calculate(!0),r.controller.chooseDeliveryType();else alert(v.get("ADDRESS_WRONG")),o.logger.warn("City from was't found "+e.error)})}},open:function(){ipjq(s.get("CDEK_popup")).show(),o.loadedToAction?o.finalAction():o.popupped=!1,r.ymaps.map!==!1&&r.ymaps.map.container.fitToViewport(),this.active=!0},close:function(){this.active=!1,ipjq(s.get("CDEK_popup")).hide()}},ymaps:{map:!1,readyToBlink:!1,linker:s.get("MAP").replace("#",""),searchControl:null,init:function(e){this.readyToBlink=!1;var t=this;e==!1?ymaps.geolocation.get({}).then(function(n){for(var c=n.geoObjects.get(0).properties.get("metaDataProperty").GeocoderMetaData.Address.Components,d=c.length-1;d>=0&&!(c[d].kind=="locality"&&(e=c[d].name,e=e.replace(/РіРѕСЂРѕРґ\s|РїРѕСЃРµР»РѕРє\sРіРѕСЂРѕРґСЃРєРѕРіРѕ\sС‚РёРїР°\s|РїРѕСЃРµР»РѕРє\s|РїРѕСЃС‘Р»РѕРє\s|РґРµСЂРµРІРЅСЏ\s|СЃРµР»Рѕ\s/ig,""),a.city.set(e),a.city.current!==!1));d--);if(a.city.current==!1){c=n.geoObjects.get(0).geometry._coordinates;var y=100;for(var C in a.PVZ.collection)for(var w in a.PVZ.collection[C]){var k=a.PVZ.collection[C][w],K=Math.sqrt(Math.pow(k.cY-c[0],2)+Math.pow(k.cX-c[1],2));y>K&&(y=K,e=C)}e!=!1?(a.city.set(e),e=a.city.getName(e)):(a.city.set("РњРѕСЃРєРІР°"),e="РњРѕСЃРєРІР°")}o.options.set(e,"defaultCity"),r.controller.calculate(),r.controller.updatePrices(),t.loadMap(a.city.current),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]").val(e)}):t.loadMap(a.city.current)},loadMap:function(e){var t=this;e=a.city.getFullName(e),a.currentCityName=e;let n={};if(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-button-point.active").length&&ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-button-point.active").each(function(){n[ipjq(this).data("mtype")]=!0}),a.currentCityCode=0,typeof a.PVZ.getCurrent()=="object"){t.placeMarks(n);return}ymaps.geocode(e,{results:1}).then(function(c){var d=c.geoObjects.get(0),y=d.geometry.getCoordinates();t.map?(t.map.setCenter(y),t.map.setZoom(10)):t.makeMap({center:y}),t.placeMarks(n)})},makeMap:function(e){typeof e!="object"&&(e={}),r.ymaps.map=new ymaps.Map(r.ymaps.linker,o.service.concatObj({zoom:10,controls:[]},e)),this.map.controls.add(new ymaps.control.ZoomControl,{float:"none",position:{left:12,bottom:70}}),r.ymaps.map.events.add("boundschange",o.hideLoader),r.ymaps.map.events.add("actionend",o.hideLoader),o.options.get("detailAddress")&&(r.ymaps.map.events.add("click",r.ymaps.getClickAddress),new ymaps.SuggestView(s.get("cdek_courier_address_place").substr(1)))},addSearchBox:function(){l.searchAddressBox&&(this.searchControl=new ymaps.control.SearchControl({options:{float:"none",position:{left:320,top:10}}}),this.map.controls.add(this.searchControl))},removeSearchBox:function(){l.searchAddressBox&&this.map.controls.remove(this.searchControl)},centerAddr:function(e){var t=this;t.map.setCenter(e),t.map.setZoom(17)},clearMarks:function(){typeof this.map.geoObjects.removeAll<"u";do{var e=this.map;e.geoObjects.each(function(t){e.geoObjects.remove(t)})}while(e.geoObjects.getBounds())},placeMarks:function(e){a.currentCityCode=a.city.get();let t=a.PVZ.getCurrent();typeof t!="object"?ipjq(s.get("sidebar")).hide():ipjq(s.get("sidebar")).show(),ipjq(s.get("panel")).find(s.get("pointlist")).html(""),ipjq(s.get("panel")).find(s.get("pointlist")).html(g.getBlock("panel_list"));var n=ipjq(s.get("pointlist")).find(".CDEK-widget__panel-content");if(typeof t=="object"){r.ymaps.clusterer=new ymaps.Clusterer({gridSize:50,preset:"islands#ClusterIcons",clusterIconColor:"#0a8c37",hasBalloon:!1,groupByCoordinates:!1,clusterDisableClickZoom:!1,maxZoom:11,zoomMargin:[45],clusterHideIconOnBalloonOpen:!1,geoObjectHideIconOnBalloonOpen:!1});var c=[];for(var d in t){if(typeof e<"u"&&(typeof e.dress<"u"&&t[d].Dressing!=!0||typeof e.cash<"u"&&t[d].Cash!=!0||typeof e.postamat<"u"&&t[d].Postamat!=!0))continue;let C=o.options.get("path")+(t[d].Postamat!=!0?"images/sdekActive.png":"images/postomatActive.png");o.options.get("path")+(t[d].Postamat!=!0?"images/sdekNActive.png":"images/postomatNActive.png"),t[d].placeMark=new ymaps.Placemark([t[d].cY,t[d].cX],{},{iconLayout:"default#image",iconImageHref:C,iconImageSize:[30,40],iconImageOffset:[-10,-30]}),c.push(t[d].placeMark),t[d].placeMark.link=d,t[d].list_block=ipjq(g.getBlock("point",{P_NAME:t[d].Name,P_ADDR:t[d].Address,P_TIME:t[d].WorkTime.replace(new RegExp(",","g"),"<br/>")})),t[d].placeMark.listItem=t[d].list_block,t[d].placeMark.events.add(["balloonopen","click"],function(w){var k=r.ui.currentmark;if(r.ui.currentmark=w.get("target"),typeof k=="object")try{k.events.fire("mouseleave")}catch{}ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-burger:not(.active)").trigger("click"),r.ui.markChozenPVZ({data:{id:w.get("target").link,link:r.ui}})}),t[d].placeMark.events.add(["mouseenter"],function(w){}),t[d].placeMark.events.add(["mouseleave"],function(w){}),t[d].list_block.mark=t[d].placeMark,t[d].list_block.on("click",{mark:d},function(w){t[w.data.mark].placeMark.events.fire("click")}),n.append(t[d].list_block)}if(c.length>0){r.ymaps.clusterer.add(c);var y=r.ymaps.clusterer.getBounds();this.map?y[0][0]==y[1][0]?(this.map.setCenter(y[0]),this.map.setZoom(10),r.ymaps.clearMarks(),this.map.geoObjects.add(r.ymaps.clusterer)):this.map.setBounds(r.ymaps.clusterer.getBounds(),{zoomMargin:45,checkZoomRange:!0,duration:500}).then(function(){r.ymaps.clearMarks(),this.map.geoObjects.add(r.ymaps.clusterer),this.map.getZoom()>12&&this.map.setZoom(12)},function(){r.ymaps.clearMarks(),this.map.geoObjects.add(r.ymaps.clusterer),this.map.getZoom()>12&&this.map.setZoom(12)},this):(y[0][0]==y[1][0]?this.makeMap({center:y[0]}):(this.makeMap({bounds:y}),this.map.setBounds(y,{zoomMargin:45,checkZoomRange:!0,duration:500})),r.ymaps.clearMarks(),this.map.geoObjects.add(r.ymaps.clusterer),o.hideLoader())}else r.ymaps.clearMarks(),o.hideLoader()}ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-content").mCustomScrollbar(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").mCustomScrollbar(),this.readyToBlink=!0},makeUpCenter:function(e){var t=this.map.options.get("projection");e=this.map.converter.globalToPage(t.toGlobalPixels(e,this.map.getZoom()));var n=ipjq(s.get("panel")).width();return ipjq(s.get("cdek_widget_cnt")).width()-n>100&&(e[0]=e[0]+n/2),e=t.fromGlobalPixels(this.map.converter.pageToGlobal(e),this.map.getZoom()),e},selectMark:function(e){var t=a.PVZ.getCurrent();parseInt(a.city.current)!==parseInt(t[e].CityCode)?(a.city.set(parseInt(t[e].CityCode)),city=a.city.getName(t[e].CityCode),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]").val(city),_.calculate(),r.controller.updatePrices()):parseInt(a.city.current)===44&&(_.calculate(),r.controller.updatePrices()),this.map.setZoom(16),this.map.setCenter(r.ymaps.makeUpCenter([t[e].cY,t[e].cX]));let n=ipjq(s.get("panel")).find(s.get("detail_panel"));n.html("");let c="";if(typeof t[e].Picture<"u")for(let C in t[e].Picture)c+=g.getBlock("image_c",{D_PHOTO:t[e].Picture[C]});let d,y=ipjq(g.getBlock("panel_details",d={D_NAME:t[e].Name,D_ADDR:t[e].Address,D_TIME:t[e].WorkTime.replace(new RegExp(",","g"),"<br/>"),D_WAY:t[e].AddressComment.search("http")==-1?t[e].AddressComment:"",D_IMGS:c}));d.D_WAY==""&&y.find(".CDEK-widget__way").remove(),d.D_IMGS==""&&y.find(".sdek_image_block").remove(),y.find(s.get("choose_button")).on("click",{id:e},function(C){r.controller.choosePVZ(C.data.id)}),n.html(y),n.find(".CDEK-widget__panel-content").mCustomScrollbar(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-list").css("left","-330px"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-details").css("right","0px")},blinkPVZ:function(e){if(e.data.link.readyToBlink){var t=a.PVZ.getCurrent();if(r.ui.currentmark==t[e.data.id].placeMark)return;e.data.ifOn?(e.data.link.clusterer.remove(t[e.data.id].placeMark),e.data.link.map.geoObjects.add(t[e.data.id].placeMark),t[e.data.id].placeMark.options.set({iconImageHref:o.options.get("path")+"images/sdekActive.png"})):(t[e.data.id].placeMark.options.set({iconImageHref:o.options.get("path")+"images/sdekNActive.png"}),e.data.link.map.geoObjects.remove(t[e.data.id].placeMark),e.data.link.clusterer.add(t[e.data.id].placeMark))}},getClickAddress:function(e){ymaps.geocode(e.get("coords"),{kind:"house"}).then(function(t){r.ui.addressSearch.mapClick(t.geoObjects.get(0))})},getSearchAddress:function(e,t){let n=o.options.get("country");n&&(e=n+", "+e),ymaps.geocode(e,{kind:"house"}).then(function(c){var d=c.geoObjects.get(0),y={name:d.properties.get("name"),descr:d.properties.get("description"),coords:d.geometry.getCoordinates()};return typeof t<"u"&&t(y),y})},makeBaloon:function(e,t){var n=new ymaps.Placemark(e,{balloonContent:t},{balloonCloseButton:!1,iconLayout:"default#image"});return r.ymaps.map.geoObjects.add(n),n},killBaloon:function(e){r.ymaps.map.geoObjects.remove(e)}}};return o.binders.add(r.controller.updatePrices,"onCalculate"),o.sdekSetPVZS=function(e){if(r.ymaps.clearMarks(),typeof e<"u"){r.ymaps.placeMarks(e);return}r.ymaps.placeMarks()},o.sdekSetPVZSWithAddress=function(e){e!==""?ipjq(".CDEK-widget__panel-list__item").each(function(t,n){ipjq(n).find(".CDEK-widget__panel-list__item-adress")[0].innerText.toLowerCase().indexOf(e.toLowerCase())!==-1?ipjq(n).show():ipjq(n).hide()}):ipjq(".CDEK-widget__panel-list__item").each(function(t,n){ipjq(n).show()})},o.chooseCourier=function(){r.controller.chooseCOURIER()},o.sdekWidgetEvents=function(){ipjq(".CDEK-widget__popup__close-btn").off("click").on("click",function(){ipjq(this).closest(".CDEK-widget__popup-mask").hide()}),ipjq(s.get("cdek_widget_cnt")).on("keyup",".CDEK-widget__panel-address-search","input",function(e){o.sdekSetPVZSWithAddress(e.target.value)}),ipjq(s.get("cdek_widget_cnt")).on("click",".CDEK-widget__tag-postamat","p",function(e){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-postamat").hasClass("active")?(o.sdekSetPVZS(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-postamat").removeClass("active")):(o.sdekSetPVZS({postamat:!0}),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-postamat").addClass("active"))}),ipjq(s.get("cdek_widget_cnt")).on("click",".CDEK-widget__tag-cash","p",function(e){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-cash").hasClass("active")?(o.sdekSetPVZS(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-cash").removeClass("active")):(o.sdekSetPVZS({cash:!0}),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-cash").addClass("active"))}),ipjq(s.get("cdek_widget_cnt")).on("click",".CDEK-widget__tag-fitting-room","p",function(e){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-fitting-room").hasClass("active")?(o.sdekSetPVZS(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-fitting-room").removeClass("active")):(o.sdekSetPVZS({dress:!0}),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__tag-fitting-room").addClass("active"))}),ipjq(s.get("cdek_widget_cnt")).on("click",".CDEK-widget__sidebar-button",{widjet:o},function(){var e=ipjq(this);e.toggleClass("active");var t=e.attr("data-hint"),n=ipjq(s.get("cdek_widget_cnt")).find(t).outerWidth();if(e.hasClass("CDEK-widget__sidebar-button-point"))if(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-button-point.active").length){var c={};ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-button-point.active").each(function(){c[ipjq(this).data("mtype")]=!0}),o.sdekSetPVZS(c)}else o.sdekSetPVZS();else ipjq(s.get("cdek_widget_cnt")).find(t).css({right:-n,opacity:"0"}),e.hasClass("CDEK-widget__sidebar-burger")&&(e.hasClass("close")&&e.removeClass("close"),e.toggleClass("open"),e.hasClass("open")||e.addClass("close"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel").hasClass("open")?e.hasClass("active")?(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-contacts").fadeOut(600),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-list, .CDEK-widget__panel-details").fadeIn(600),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-button_phone").removeClass("active")):(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-list, .CDEK-widget__panel-details").fadeOut(600),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel").removeClass("open")):(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel").addClass("open"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-list, .CDEK-widget__panel-details").fadeIn(600))),e.hasClass("CDEK-widget__sidebar-button_phone")&&(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel").hasClass("open")?e.hasClass("active")?(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-list, .CDEK-widget__panel-details").fadeOut(600),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-contacts").fadeIn(600),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-burger").removeClass("active").removeClass("open").addClass("close")):(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-contacts").fadeOut(600),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel").removeClass("open")):(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel").addClass("open"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-contacts").fadeIn(600)))}).on("click",".CDEK-widget__choose",function(){ipjq(this).addClass("widget__loading")}),ipjq(s.get("cdek_widget_cnt")).on("mousemove",".CDEK-widget__sidebar-button",function(){if(!ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel").hasClass("open")){var e=ipjq(this).attr("data-hint");ipjq(s.get("cdek_widget_cnt")).find(e).css({right:"67px",opacity:"1"})}}).on("mouseleave",".CDEK-widget__sidebar-button",function(){var e=ipjq(this).attr("data-hint"),t=ipjq(s.get("cdek_widget_cnt")).find(e).outerWidth();ipjq(s.get("cdek_widget_cnt")).find(e).css({right:-t,opacity:"0"})}).on("hover",".CDEK-widget__panel-headline",function(){ipjq(this).outerWidth()<=ipjq(this).find("span").outerWidth()&&ipjq(this).addClass("hover-long")},function(){ipjq(this).hasClass("hover-long")&&ipjq(this).removeClass("hover-long")}),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__sidebar-button").each(function(e,t){var n=ipjq(t).attr("data-hint"),c=(ipjq(t).outerHeight()+-ipjq(s.get("cdek_widget_cnt")).find(n).outerHeight())/2+62*e,d=ipjq(s.get("cdek_widget_cnt")).find(n).outerWidth();ipjq(s.get("cdek_widget_cnt")).find(n).css({right:-d,top:c,opacity:"0"})}),ipjq(s.get("cdek_widget_cnt")).on("click",".CDEK-widget__panel-details__back",function(){ipjq(this).parents(".CDEK-widget__panel-details").css("right","-330px"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__panel-list").css("left","0px")}).on("click",".CDEK-widget__panel-details__block-img",function(){var e=ipjq(this).find("img").attr("src"),t=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__photo");t.find("img").attr("src",e),t.addClass("active")}).on("click",".CDEK-widget__photo",function(e){ipjq(e.target).is("img")||ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__photo").removeClass("active")}).on("focusin",".CDEK-widget__search-box input[type=text]",function(){if(ipjq(this).val(""),r.html.setDefaultCities(),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").hasClass("CDEK-widget__delivery-type_close")){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul").addClass("open").find("li").removeClass("no-active");return}ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").addClass("CDEK-widget__delivery-type_close"),setTimeout(function(){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul").addClass("open").find("li").removeClass("no-active")},1e3)}).on("click",".CDEK-widget__search-list ul li",function(){r.ymaps.removeSearchBox(),r.controller.selectCity(ipjq(this).data("cityid"))}).on("keydown",".CDEK-widget__search-box input[type=text]",function(e){var t=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul li:not(.no-active)"),n=t.filter(".focus");e.keyCode===40&&(n.length==0?t.first().addClass("focus"):(n.removeClass("focus"),n.nextAll().filter(":not(.no-active)").eq(0).length!=0?n.nextAll().filter(":not(.no-active)").eq(0).addClass("focus"):t.first().addClass("focus"))),e.keyCode===38&&(n.length==0?t.last().addClass("focus"):(n.removeClass("focus"),n.prevAll().filter(":not(.no-active)").eq(0).length!=0?n.prevAll().filter(":not(.no-active)").eq(0).addClass("focus"):t.last().addClass("focus")))}).on("keyup",".CDEK-widget__search-box input[type=text]",function(e){const t=ipjq(this).val();console.log(ipjq(this).val());let n;try{n=new RegExp("^("+t+")+.*","i")}catch{n=""}console.log(n);var c=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul li");const d=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul");if(console.log(213213),e.keyCode===13){var y=c.not(".no-active"),C=y.filter(".focus");C.length==0?r.controller.selectCity():(r.controller.selectCity(C.find(".CDEK-widget__search-list__city-name").text()),C.removeClass("focus")),a.city.getName(a.city.current)!=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]").val()&&(type="courier",setTimeout(function(){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").addClass("CDEK-widget__delivery-type_close")},1001),o.chooseCourier());return}if(console.log(213213),n!==""){const w=[];d.children().each((j,T)=>{w.push(T.getAttribute("data-cityid"))});const k=r.html.loadedCities.filter(j=>j.CITYNAME.includes(t)).slice(0,7),K=k.map(j=>j.CITYID);if(k.length===0?d.removeClass("open"):d.hasClass("open")||d.addClass("open"),w.length===K.length&&w.sort().toString()===K.sort().toString())return;d.empty(),k.forEach((j,T)=>{const z=g.getBlock("city",j),B=ipjq(z);B.removeClass("no-active"),d.prepend(B)})}else c.removeClass("no-active")}).on("click",function(e){ipjq(e.target).closest(".CDEK-widget__search").length==0&&ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-list ul li").not(".no-active").length!=0&&r.controller.putCity(r.controller.getCity())}).on("click",".CDEK-widget__delivery-type__item",{widjet:o},function(e){var t=ipjq(this).attr("data-delivery-type");t==="pvz"&&r.ymaps.addSearchBox(),ipjq(this).hasClass("active")||(ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__item.active").removeClass("active"),ipjq(this).addClass("active"),ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type__button").attr("class","CDEK-widget__delivery-type__button").addClass("CDEK-widget__delivery-type__button_"+t)),t=="courier"&&e.data.widjet.chooseCourier(),ipjq(this).parents(".CDEK-widget__delivery-type").addClass("CDEK-widget__delivery-type_close")}).on("click",".CDEK-widget__delivery-type__button",function(){r.ymaps.removeSearchBox(),r.controller.chooseDeliveryType(),a.city.getName(a.city.current)!=ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]").val()&&(type="courier",setTimeout(function(){ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__delivery-type").addClass("CDEK-widget__delivery-type_close")},1001),o.chooseCourier())}).on("click",".CDEK-widget__courier-address__button",function(){r.ui.addressSearch.search()})},o.city={get:function(){return a.city.current},set:function(e){let t=a.city.set(e);t!==!1&&ipjq(s.get("cdek_widget_cnt")).find(".CDEK-widget__search-box input[type=text]").val(a.city.getName(t)),r.controller.loadCity()},check:function(e){return a.city.getId(e)}},o.PVZ={get:function(e){return a.PVZ.getCityPVZ(e)},check:function(e){return a.PVZ.check(e)}},o.cargo={add:function(e){m.add(e)},reset:function(){m.reset()},get:function(){return m.get()}},o.calculate=function(){return _.calculate(),_.profiles},o.options.get("link")||(o.open=function(){r.controller.open()},o.close=function(){r.controller.close()}),o}const ce={el:"#s",props:["products"],mounted(){var l=document.createElement("script");l.setAttribute("src","https://widget.cdek.ru/widget/scripts/ipjq.js"),document.body.appendChild(l),l=document.createElement("script"),l.setAttribute("src","https://widget.cdek.ru/widget/scripts/jquery.mCustomScrollbar.concat.min.js"),document.body.appendChild(l)},data(){return{orderWidjet:ae({popup:!0,defaultCity:"Тамбов",cityFrom:"Уварово",goods:this.get_goods(),onReady:function(){ipjq("#linkForWidjet").css("display","inline")},onChoose:l=>{this.$emit("onChoise",l),this.orderWidjet.close()}})}},methods:{get_goods(){let l=[];return this.products.forEach(p=>{for(let f;f<=this.products.count;f++)l.push({length:p.productItem.dimensions.length,width:p.productItem.dimensions.width,height:p.productItem.dimensions.height,weight:p.productItem.dimensions.weight/1e3})}),l}}},le={id:"s"},de=i("div",{id:"linkForWidjet",style:{display:"none"}},null,-1),_e=i("div",{id:"oDcfl_CDEK_popup",class:"CDEK-widget__popup-mask",style:{display:"none"}},[i("div",{class:"CDEK-widget__popup"},[i("a",{class:"CDEK-widget__popup__close-btn",href:"#"}),i("div",{class:"CDEK-widget",id:"oDcfl_cdek_widget_cnt"},[i("div",{class:"CDEK-widget__preloader",id:"oDcfl_preloader"},[i("div",{class:"CDEK-widget__preloader-truck"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 440.34302 315.71001"},[i("g",null,[i("path",{class:"path1",d:"M416.43,188.455q-1.014-1.314-1.95-2.542c-7.762-10.228-14.037-21.74-19.573-31.897-5.428-9.959-10.555-19.366-16.153-25.871-12.489-14.513-24.24-21.567-35.925-21.567H285.128c-0.055.001-5.567,0.068-12.201,0.068h-9.409a14.72864,14.72864,0,0,0-14.262,11.104l-0.078.305V245.456l0.014,0.262a4.86644,4.86644,0,0,1-1.289,3.472c-1.587,1.734-4.634,2.65-8.812,2.65H14.345C6.435,251.839,0,257.893,0,265.334v46.388c0,7.441,6.435,13.495,14.345,13.495h49.36a57.8909,57.8909,0,0,0,115.335,0h82.61a57.89089,57.89089,0,0,0,115.335,0H414.53a25.8416,25.8416,0,0,0,25.813-25.811v-44.29C440.344,219.47,425.953,200.805,416.43,188.455ZM340.907,320.132a21.5865,21.5865,0,1,1-21.59-21.584A21.61074,21.61074,0,0,1,340.907,320.132ZM390.551,207.76c-0.451.745-1.739,1.066-3.695,0.941l-99.197-.005V127.782h42.886c11.539,0,19.716,5.023,28.224,17.337,5.658,8.19,20.639,33.977,21.403,35.293,0.532,1.027,1.079,2.071,1.631,3.125C386.125,191.798,392.658,204.279,390.551,207.76ZM121.372,298.548a21.58351,21.58351,0,1,1-21.583,21.584A21.6116,21.6116,0,0,1,121.372,298.548Z",transform:"translate(0 -62.31697)"}),i("path",{class:"path2",d:"M30.234,231.317h68a12.51354,12.51354,0,0,0,12.5-12.5v-50a12.51354,12.51354,0,0,0-12.5-12.5h-68a12.51354,12.51354,0,0,0-12.5,12.5v50A12.51418,12.51418,0,0,0,30.234,231.317Z",transform:"translate(0 -62.31697)"}),i("path",{class:"path3",d:"M143.234,231.317h68a12.51354,12.51354,0,0,0,12.5-12.5v-50a12.51354,12.51354,0,0,0-12.5-12.5h-68a12.51354,12.51354,0,0,0-12.5,12.5v50A12.51418,12.51418,0,0,0,143.234,231.317Z",transform:"translate(0 -62.31697)"}),i("path",{class:"path4",d:"M30.234,137.317h68a12.51354,12.51354,0,0,0,12.5-12.5v-50a12.51355,12.51355,0,0,0-12.5-12.5h-68a12.51355,12.51355,0,0,0-12.5,12.5v50A12.51418,12.51418,0,0,0,30.234,137.317Z",transform:"translate(0 -62.31697)"}),i("path",{class:"path5",d:"M143.234,137.317h68a12.51354,12.51354,0,0,0,12.5-12.5v-50a12.51354,12.51354,0,0,0-12.5-12.5h-68a12.51354,12.51354,0,0,0-12.5,12.5v50A12.51418,12.51418,0,0,0,143.234,137.317Z",transform:"translate(0 -62.31697)"})])]),i("div",{class:"CDEK-widget__preloader-truck__grass"}),i("div",{class:"CDEK-widget__preloader-truck__road"})])]),i("div",{id:"oDcfl_SDEK_map",class:"CDEK-widget__map"}),i("div",{class:"CDEK-widget__search CDEK-widget__inaccessible"},[i("div",{class:"CDEK-widget__search-box"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 51.63557 50.41538"},[i("path",{class:"path",d:"M51.353,0.914A0.99853,0.99853,0,0,0,50.218.701L0.583,23.481a1,1,0,0,0,.252,1.895l22.263,3.731,2.545,21.038a1.00164,1.00164,0,0,0,.824.865,0.97388,0.97388,0,0,0,.169.015,0.999,0.999,0,0,0,.896-0.556l24-48.415A0.99978,0.99978,0,0,0,51.353.914ZM27.226,46.582L24.994,28.125a1.00155,1.00155,0,0,0-.828-0.866L4.374,23.941,48.485,3.697Z",transform:"translate(-0.0002 -0.6096)"})]),i("input",{type:"text",name:"town",value:"Казань",placeholder:"Поиск города",id:"oDcfl_cdek_search_input"}),u(),i("button",{class:"CDEK-widget__delivery-type__button"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 608.99721 611.84603"},[i("g",null,[i("path",{class:"CDEK-widget__delivery_courier",d:"M417.19812,302.72005a22.21621,22.21621,0,0,0-21.362-20.04709l-72.26781-1.108a9.97688,9.97688,0,0,1-9.10476-7.907L298.5408,172.42893c-0.57712-3.667-3.99636-18.61788-22.66187-18.61788L186.01,157.72438c-11.83932.51451-21.464,6.27084-21.464,22.42639,0,0-.3784,224.99753-0.83847,233.15088l-3.14426,55.66853a91.98249,91.98249,0,0,1-6.32529,26.27846l-36.3755,82.33218a18.97718,18.97718,0,0,0,13.0671,26.65825l12.1102,3.00544a23.2673,23.2673,0,0,0,5.60523.67377c9.77581,0,19.127-5.67329,23.27031-14.11791l34.57743-70.4806a171.14444,171.14444,0,0,0,10.59795-29.41047l19.5108-81.27592,47.2171,72.20793c3.8929,5.95368,8.009,17.37786,8.808,24.4477l9.1279,80.84172a24.0889,24.0889,0,0,0,23.36287,20.86923l13.81027-.04765a20.1837,20.1837,0,0,0,20.24446-22.42911l-9.53353-96.11388a139.95253,139.95253,0,0,0-7.24815-30.64368L300.08163,351.25756l-0.26134-23.29618,98.33117-3.63972a19.785,19.785,0,0,0,19.063-21.41777Zm-92.0808,301.47133h0v0Z",transform:"translate(-2.00187 0.84609)"}),u(),i("path",{class:"CDEK-widget__delivery_courier",d:"M214.73855,132.44774a66.665,66.665,0,0,0,66.24334-73.88758l22.33112-2.5195c7.78172-.87795,15.68051-7.08481,18.37287-14.43777L329.16542,21.176A13.0559,13.0559,0,0,0,328.0098,9.059a12.51735,12.51735,0,0,0-10.50812-5.1193c-0.51043,0-1.03856.0245-1.58029,0.07622l-64.57048,6.14153A66.62573,66.62573,0,1,0,214.73855,132.44774Z",transform:"translate(-2.00187 0.84609)"}),u(),i("path",{class:"CDEK-widget__delivery_courier",d:"M496.86108,236.73808l-6.42465-92.34484a21.71437,21.71437,0,0,0-21.3579-19.88784l-123.44178.21506A19.38181,19.38181,0,0,0,326.194,145.60194l6.42465,92.34484a21.70638,21.70638,0,0,0,21.32113,19.88785l123.47854-.21507A19.37986,19.37986,0,0,0,496.86108,236.73808ZM353.93843,251.02748h0Z",transform:"translate(-2.00187 0.84609)"})]),u(),i("path",{class:"CDEK-widget__delivery_pvz",d:"M515.78535,336.442L609.556,529.07327c3.81317,7.83436-.195,14.2438-8.90811,14.2438H12.35346c-8.713,0-12.72227-6.40938-8.90808-14.2438L97.217,336.442a10.86137,10.86137,0,0,1,8.90808-5.57153h80.40459a11.25693,11.25693,0,0,1,7.44629,3.4251c5.4551,6.30391,11.0117,12.46254,16.55239,18.55849,5.26205,5.78647,10.552,11.64856,15.80011,17.648H130.908a10.85641,10.85641,0,0,0-8.90808,5.57153L59.88013,503.68647H553.11832L491.00357,376.07364a10.85667,10.85667,0,0,0-8.90908-5.57153H386.458c5.24714-5.99941,10.539-11.86153,15.80109-17.648,5.55759-6.11387,11.14506-12.26057,16.6131-18.56645a11.2442,11.2442,0,0,1,7.43335-3.41714h80.57375A10.85489,10.85489,0,0,1,515.78535,336.442ZM444.3625,204.79909c0,105.257-87.626,124.9977-128.83681,226.15a9.851,9.851,0,0,1-18.26991-.03981c-37.17572-91.20135-112.08538-116.211-126.41772-197.45847C156.72663,153.46615,212.10559,75.11644,292.96492,67.47312A137.99029,137.99029,0,0,1,444.3625,204.79909Zm-65.106,0a72.8568,72.8568,0,1,0-72.8568,72.8568A72.85625,72.85625,0,0,0,379.25652,204.79909Z",transform:"translate(-2.00187 0.84609)"}),u(),i("path",{class:"CDEK-widget__delivery_box",d:"M2.65884,483.52043L2.00192,205.83482a19.01632,19.01632,0,0,1,26.49046-17.53019L281.28291,296.368a19.0146,19.0146,0,0,1,11.541,17.43932l0.65691,277.68561a19.01643,19.01643,0,0,1-26.49046,17.53118L14.19987,500.96076A19.01337,19.01337,0,0,1,2.65884,483.52043ZM581.8529,218.90533l-233.27959,101.03,0.607,256.98364L582.46091,475.889l-0.608-256.98365m9.4395-33.50094a19.03627,19.03627,0,0,1,19.04968,18.99079L610.999,482.08078A19.01452,19.01452,0,0,1,599.53983,499.575L347.26446,608.83345a18.97537,18.97537,0,0,1-26.57333-17.40334L320.03422,313.7435a19.01226,19.01226,0,0,1,11.46017-17.49426L583.76973,186.99181a18.96546,18.96546,0,0,1,7.52267-1.58742h0ZM304.6555,28.99646L62.66821,137.04388l242.49546,106.8993L547.15193,135.89676,304.6555,28.99646M304.58661-.42119a19.0199,19.0199,0,0,1,7.71532,1.61535L578.26779,118.44046c15.0872,6.65207,15.13814,28.04191.08184,34.76386L312.94086,271.70855a19.01736,19.01736,0,0,1-15.42366.03693L31.55236,154.4992c-15.0882-6.65107-15.13812-28.04191-.08286-34.76386L296.87727,1.2311a19.00856,19.00856,0,0,1,7.70934-1.65228h0Z",transform:"translate(-2.00187 0.84609)"}),u(),i("g",null,[i("path",{class:"CDEK-widget__delivery_post",d:"M583.48644,1.00006H333.42136V278.85179H611.27187V28.78547A27.78592,27.78592,0,0,0,583.48644,1.00006ZM440.37361,85.39856a23.15306,23.15306,0,1,1,18.19131,27.22786A23.15377,23.15377,0,0,1,440.37361,85.39856Zm87.54323,119.35919H398.25316V149.18813H527.91684v55.56962Z",transform:"translate(-0.00001 -1.00006)"}),u(),i("path",{class:"CDEK-widget__delivery_post",d:"M55.56963,334.42141H0V584.48774a27.78565,27.78565,0,0,0,27.78541,27.78418h250.0663V334.42141H55.56963ZM125.4755,400.2955a23.15306,23.15306,0,1,1,18.19131,27.22786A23.15373,23.15373,0,0,1,125.4755,400.2955ZM213.0187,519.6547H83.355V464.08509H213.01871V519.6547h0Z",transform:"translate(-0.00001 -1.00006)"}),u(),i("path",{class:"CDEK-widget__delivery_post",d:"M27.78542,1.00006A27.7859,27.7859,0,0,0,0,28.78547v250.0663H277.85174V1.00006H27.78542Zm97.69008,84.3985a23.15306,23.15306,0,1,1,18.19131,27.22786A23.15376,23.15376,0,0,1,125.4755,85.39856Zm87.5432,119.35919H83.355V149.18813H213.01871v55.56962h0Z",transform:"translate(-0.00001 -1.00006)"}),u(),i("path",{class:"CDEK-widget__delivery_post",d:"M583.48644,334.42141H333.42136V612.27192H583.48768a27.78567,27.78567,0,0,0,27.78418-27.78542V334.42141H583.48644ZM440.37361,400.2955a23.15307,23.15307,0,1,1,18.19131,27.22786A23.15375,23.15375,0,0,1,440.37361,400.2955ZM527.91684,519.6547H398.25316V464.08509H527.91684V519.6547Z",transform:"translate(-0.00001 -1.00006)"})])])])]),i("div",{class:"CDEK-widget__delivery-type"},[i("div",{class:"CDEK-widget__delivery-type__box",id:"oDcfl_cdek_delivery_types"},[i("div",{class:"CDEK-widget__delivery-type__title",id:"oDcfl_cdek_delivery_type_title"},[i("span",{class:"CDEK_no-avail"},"Нет доступных способов доставки"),i("span",{class:"CDEK_choose",style:{display:"none"}},"Выберите способ доставки")]),i("div",{style:{"text-align":"center","padding-bottom":"10px",display:"none"},id:"oDcfl_cdek_delivery_type_none"},[i("span",null,"Выберите другой населенный пункт")])])]),i("div",{class:"CDEK-widget__courier-address"},[i("div",{class:"CDEK-widget__courier-address__box CDEK-widget__courier-address__box_close",id:"oDcfl_cdek_courier_address"},[i("div",{class:"CDEK-widget__courier-address__title",id:"oDcfl_cdek_courier_address_title"},[i("span",null,"Уточните адрес")]),i("div",{class:"CDEK-widget__courier-address__item","data-delivery-address":"address"},[i("input",{type:"text",placeholder:"Введите адрес доставки",id:"oDcfl_cdek_courier_address_place"}),u(),i("button",{class:"CDEK-widget__courier-address__button"},"OK")])])]),i("div",{class:"CDEK-widget__search-list"},[i("div",{class:"CDEK-widget__search-list__box"},[i("ul",{id:"oDcfl_city_list"},[i("li",{class:"no-active","data-cityid":"17"},[i("p",{class:"CDEK-widget__search-list__city-name"},"Пушкино"),i("p",{class:"CDEK-widget__search-list__city-details"},"Московская область, Россия")]),i("li",{class:"no-active","data-cityid":"13"},[i("p",{class:"CDEK-widget__search-list__city-name"},"Белореченск"),i("p",{class:"CDEK-widget__search-list__city-details"},"Краснодарский край, Россия")]),i("li",{class:"no-active","data-cityid":"12"},[i("p",{class:"CDEK-widget__search-list__city-name"},"Новый Уренгой"),i("p",{class:"CDEK-widget__search-list__city-details"},"Ямало-Ненецкий автономный округ, Россия")]),i("li",{class:"no-active","data-cityid":"11"},[i("p",{class:"CDEK-widget__search-list__city-name"},"Новотроицк"),i("p",{class:"CDEK-widget__search-list__city-details"},"Оренбургская область, Россия")]),i("li",{class:"no-active","data-cityid":"7"},[i("p",{class:"CDEK-widget__search-list__city-name"},"Миасс"),i("p",{class:"CDEK-widget__search-list__city-details"},"Челябинская область, Россия")]),i("li",{class:"no-active","data-cityid":"6"},[i("p",{class:"CDEK-widget__search-list__city-name"},"Алтайское"),i("p",{class:"CDEK-widget__search-list__city-details"},"Алтайский край, Россия")]),i("li",{class:"no-active","data-cityid":"5"},[i("p",{class:"CDEK-widget__search-list__city-name"},"Усинск"),i("p",{class:"CDEK-widget__search-list__city-details"},"Республика Коми, Россия")])])])])]),i("div",{class:"CDEK-widget__sidebar CDEK-widget__inaccessible",id:"oDcfl_sidebar"},[i("div",{class:"CDEK-widget__sidebar-burger CDEK-widget__sidebar-button","data-hint":"#list"},[i("span"),i("span"),i("span")]),i("hr"),i("div",{class:"CDEK-widget__sidebar-button CDEK-widget__sidebar-button_phone","data-hint":"#contacts"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 444.41148 446.40002"},[i("path",{class:"phone",d:"M374.456,293.506c-9.7-10.1-21.4-15.5-33.8-15.5-12.3,0-24.1,5.3-34.2,15.4l-31.6,31.5c-2.6-1.4-5.2-2.7-7.7-4-3.6-1.8-7-3.5-9.9-5.3-29.6-18.8-56.5-43.3-82.3-75-12.5-15.8-20.9-29.1-27-42.6,8.2-7.5,15.8-15.3,23.2-22.8,2.8-2.8,5.6-5.7,8.4-8.5,21-21,21-48.2,0-69.2l-27.3-27.3c-3.1-3.1-6.3-6.3-9.3-9.5-6-6.2-12.3-12.6-18.8-18.6-9.7-9.6-21.3-14.7-33.5-14.7s-24,5.1-34,14.7l-0.2.2-34,34.3a73.16053,73.16053,0,0,0-21.7,46.5c-2.4,29.2,6.2,56.4,12.8,74.2,16.2,43.7,40.4,84.2,76.5,127.6,43.8,52.3,96.5,93.6,156.7,122.7,23,10.9,53.7,23.8,88,26,2.1,0.1,4.3.2,6.3,0.2,23.1,0,42.5-8.3,57.7-24.8,0.1-.2.3-0.3,0.4-0.5,5.2-6.3,11.2-12,17.5-18.1,4.3-4.1,8.7-8.4,13-12.9,9.9-10.3,15.1-22.3,15.1-34.6,0-12.4-5.3-24.3-15.4-34.3Zm35.8,105.3c-0.1,0-.1.1,0,0-3.9,4.2-7.9,8-12.2,12.2a262.94685,262.94685,0,0,0-19.3,20c-10.1,10.8-22,15.9-37.6,15.9-1.5,0-3.1,0-4.6-.1-29.7-1.9-57.3-13.5-78-23.4-56.6-27.4-106.3-66.3-147.6-115.6-34.1-41.1-56.9-79.1-72-119.9-9.3-24.9-12.7-44.3-11.2-62.6a45.90488,45.90488,0,0,1,13.8-29.7l34.1-34.1c4.9-4.6,10.1-7.1,15.2-7.1,6.3,0,11.4,3.8,14.6,7l0.3,0.3c6.1,5.7,11.9,11.6,18,17.9,3.1,3.2,6.3,6.4,9.5,9.7l27.3,27.3c10.6,10.6,10.6,20.4,0,31-2.9,2.9-5.7,5.8-8.6,8.6-8.4,8.6-16.4,16.6-25.1,24.4a2.35721,2.35721,0,0,0-.5.5c-8.6,8.6-7,17-5.2,22.7l0.3,0.9c7.1,17.2,17.1,33.4,32.3,52.7l0.1,0.1c27.6,34,56.7,60.5,88.8,80.8a136.53623,136.53623,0,0,0,12.3,6.7c3.6,1.8,7,3.5,9.9,5.3,0.4,0.2.8,0.5,1.2,0.7a21.67755,21.67755,0,0,0,9.9,2.5c8.3,0,13.5-5.2,15.2-6.9l34.2-34.2c3.4-3.4,8.8-7.5,15.1-7.5,6.2,0,11.3,3.9,14.4,7.3l0.2,0.2,55.1,55.1C420.456,377.706,420.456,388.206,410.256,398.806Z",transform:"translate(-0.34447 -27.40598)"})])])]),i("div",{class:"CDEK-widget__panel",id:"oDcfl_panel"},[i("div",{class:"CDEK-widget__panel-list",id:"oDcfl_pointlist"}),u(),i("div",{class:"CDEK-widget__panel-details",id:"oDcfl_detail_panel"}),u(),i("div",{class:"CDEK-widget__panel-contacts"},[i("div",{class:"CDEK-widget__panel-headline"},[i("span",null,"Служба поддержки")]),u(),i("div",{class:"CDEK-widget__panel-content"},[i("p",null,[u("Если у вас есть вопросы, можете"),i("br"),u(" задать их нашим специалистам")]),u(),i("p",null,[i("a",{href:"tel:88002501405",class:"CDEK-widget__phone"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 444.41148 446.40002"},[i("path",{class:"path",d:"M374.456,293.506c-9.7-10.1-21.4-15.5-33.8-15.5-12.3,0-24.1,5.3-34.2,15.4l-31.6,31.5c-2.6-1.4-5.2-2.7-7.7-4-3.6-1.8-7-3.5-9.9-5.3-29.6-18.8-56.5-43.3-82.3-75-12.5-15.8-20.9-29.1-27-42.6,8.2-7.5,15.8-15.3,23.2-22.8,2.8-2.8,5.6-5.7,8.4-8.5,21-21,21-48.2,0-69.2l-27.3-27.3c-3.1-3.1-6.3-6.3-9.3-9.5-6-6.2-12.3-12.6-18.8-18.6-9.7-9.6-21.3-14.7-33.5-14.7s-24,5.1-34,14.7l-0.2.2-34,34.3a73.16053,73.16053,0,0,0-21.7,46.5c-2.4,29.2,6.2,56.4,12.8,74.2,16.2,43.7,40.4,84.2,76.5,127.6,43.8,52.3,96.5,93.6,156.7,122.7,23,10.9,53.7,23.8,88,26,2.1,0.1,4.3.2,6.3,0.2,23.1,0,42.5-8.3,57.7-24.8,0.1-.2.3-0.3,0.4-0.5,5.2-6.3,11.2-12,17.5-18.1,4.3-4.1,8.7-8.4,13-12.9,9.9-10.3,15.1-22.3,15.1-34.6,0-12.4-5.3-24.3-15.4-34.3Zm35.8,105.3c-0.1,0-.1.1,0,0-3.9,4.2-7.9,8-12.2,12.2a262.94685,262.94685,0,0,0-19.3,20c-10.1,10.8-22,15.9-37.6,15.9-1.5,0-3.1,0-4.6-.1-29.7-1.9-57.3-13.5-78-23.4-56.6-27.4-106.3-66.3-147.6-115.6-34.1-41.1-56.9-79.1-72-119.9-9.3-24.9-12.7-44.3-11.2-62.6a45.90488,45.90488,0,0,1,13.8-29.7l34.1-34.1c4.9-4.6,10.1-7.1,15.2-7.1,6.3,0,11.4,3.8,14.6,7l0.3,0.3c6.1,5.7,11.9,11.6,18,17.9,3.1,3.2,6.3,6.4,9.5,9.7l27.3,27.3c10.6,10.6,10.6,20.4,0,31-2.9,2.9-5.7,5.8-8.6,8.6-8.4,8.6-16.4,16.6-25.1,24.4a2.35721,2.35721,0,0,0-.5.5c-8.6,8.6-7,17-5.2,22.7l0.3,0.9c7.1,17.2,17.1,33.4,32.3,52.7l0.1,0.1c27.6,34,56.7,60.5,88.8,80.8a136.53623,136.53623,0,0,0,12.3,6.7c3.6,1.8,7,3.5,9.9,5.3,0.4,0.2.8,0.5,1.2,0.7a21.67755,21.67755,0,0,0,9.9,2.5c8.3,0,13.5-5.2,15.2-6.9l34.2-34.2c3.4-3.4,8.8-7.5,15.1-7.5,6.2,0,11.3,3.9,14.4,7.3l0.2,0.2,55.1,55.1C420.456,377.706,420.456,388.206,410.256,398.806Z",transform:"translate(-0.34447 -27.40598)"})]),u(" 8 800 250-14-05 ")])]),u(),i("p",{class:"CDEK-widget__panel-content-mail"},[i("a",{href:"mailto:sale@cdek.ru",target:"_blank",class:"CDEK-widget__mail"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 44.676"},[i("path",{class:"path",d:"M58,10.324H6a6.006,6.006,0,0,0-6,6V49a6.006,6.006,0,0,0,6,6H58a6.006,6.006,0,0,0,6-6V16.324A6.00668,6.00668,0,0,0,58,10.324Zm-0.982,4L32,32.367,6.982,14.324H57.018ZM58,51H6a2.00073,2.00073,0,0,1-2-2V17.107l26.83,19.35a2.004,2.004,0,0,0,2.34,0L60,17.107V49A2.00073,2.00073,0,0,1,58,51Z",transform:"translate(0 -10.32397)"})]),u(),i("span",null,"sale@cdek.ru")])])]),u(),i("div",{class:"CDEK-widget__developer"},[u(" Разработано в "),i("a",{href:"https://ipolh.com/",target:"_blank",class:"IPOL-logo"},[i("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 351.414 45.4688"},[i("defs",null,[i("clipPath",{id:"IPOL-logo__clip-a",transform:"translate(-220.293 -283.2656)"},[i("path",{class:"IPOL-logo__path-a",d:"M383.41109,285.4717a17.92737,17.92737,0,0,0-6.0595-2.0029,18.14886,18.14886,0,0,0-2.5938-.2081h-45.4736a18.14886,18.14886,0,0,0-2.5938.2081,17.96788,17.96788,0,0,0-15.4482,17.8339l-0.001,27.4366h9.3897s0.0009-26.3389.0009-27.4366a8.65226,8.65226,0,0,1,8.6534-8.6523h45.4716a8.6529,8.6529,0,0,1,8.6534,8.6523v27.4092h4.3105c0.1279,0.0108.2549,0.0274,0.3848,0.0274,0.1162,0,.2246-0.0205.3379-0.0274h4.3574s-0.001-26.9131-.001-27.4092A18.03477,18.03477,0,0,0,383.41109,285.4717Z"})]),u(),i("linearGradient",{id:"IPOL-logo__gradient-b",y1:"22.7344",x2:"351.414",y2:"22.7344",gradientUnits:"userSpaceOnUse"},[i("stop",{offset:"0","stop-color":"#ac3994"}),u(),i("stop",{offset:"1","stop-color":"#11b9e7"})]),u(),i("clipPath",{id:"IPOL-logo__clip-c",transform:"translate(-220.293 -283.2656)"},[i("path",{class:"IPOL-logo__path-a",d:"M474.36129,285.4717h-0.0019a17.9352,17.9352,0,0,0-6.0596-2.0029,18.14537,18.14537,0,0,0-2.59279-.2081H420.23239a18.172,18.172,0,0,0-2.5947.2081,17.96887,17.96887,0,0,0-15.4463,17.8339v9.3907a18.19439,18.19439,0,0,0,18.041,18.0459H465.707a18.1599,18.1599,0,0,0,2.59279-.208,17.9235,17.9235,0,0,0,6.0596-2.0069h0.0019a18.03575,18.03575,0,0,0,9.38671-15.831v-9.3907A18.03694,18.03694,0,0,0,474.36129,285.4717Zm-0.0019,25.2217a8.65245,8.65245,0,0,1-8.6543,8.6523h-45.4727a8.6526,8.6526,0,0,1-8.6523-8.6523v-9.3907a8.6526,8.6526,0,0,1,8.6523-8.6523h45.4727a8.65245,8.65245,0,0,1,8.6543,8.6523v9.3907Z"})]),u(),i("clipPath",{id:"IPOL-logo__clip-e",transform:"translate(-220.293 -283.2656)"},[i("path",{class:"IPOL-logo__path-a",d:"M518.42679,283.2607a18.18435,18.18435,0,0,0-17.0264,12.0674l-0.2832.8389-10.9688,32.5723h9.9063l10.3398-30.7002c0.0147-.0381.02351-0.0791,0.0391-0.1162a8.68575,8.68575,0,0,1,7.9932-5.2725h43.8906v36.0889H571.707V283.2607H518.42679Z"})]),u(),i("clipPath",{id:"IPOL-logo__clip-g",transform:"translate(-220.293 -283.2656)"},[i("path",{class:"IPOL-logo__path-a",d:"M292.46289,319.3457h-54.126a8.65217,8.65217,0,0,1-8.6533-8.6523c0-.1739-0.0029-0.9844-0.0078-2.2198h0.0068V283.2705h-0.1045s-2.0498-.0039-4.582-0.0098h-0.0166c-2.5303.0059-4.6514,0.0098-4.6514,0.0098H220.293v25.2031h0.00389c-0.002,1.2266-.003,2.0342-0.003,2.2198a18.19664,18.19664,0,0,0,18.042,18.0459h63.5166V283.2607h-9.3896v36.085Z"})]),u(),i("linearGradient",{id:"IPOL-logo__gradient-h",x1:"0.00049",y1:"22.7344",x2:"351.414",y2:"22.7344","xlink:href":"#IPOL-logo__gradient-b"})]),u(),i("g",{class:"IPOL-logo__group-b",style:{"clip-path":"url(#IPOL-logo__clip-a)"}},[i("rect",{class:"IPOL-logo__rect-c",width:"351.414",height:"45.4688"})]),u(),i("g",{class:"IPOL-logo__group-d",style:{"clip-path":"url(#IPOL-logo__clip-c)"}},[i("rect",{class:"IPOL-logo__rect-c",width:"351.414",height:"45.4688"})]),u(),i("g",{class:"IPOL-logo__group-e",style:{"clip-path":"url(#IPOL-logo__clip-e)"}},[i("rect",{class:"IPOL-logo__rect-c",width:"351.414",height:"45.4688"})]),u(),i("g",{class:"IPOL-logo__group-f",style:{"clip-path":"url(#IPOL-logo__clip-g)"}},[i("rect",{class:"IPOL-logo__rect-g",x:"0.00049",width:"351.41351",height:"45.4688"})])])])])])]),i("a",{href:"https://www.cdek.ru/",target:"_blank",class:"CDEK-widget__logo CDEK-widget__inaccessible"},[i("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 212.68346 47.2252"},[i("defs",null,[i("linearGradient",{id:"CDEK-widget__logo-gradient","data-name":"Безымянный градиент",x1:"10717.5556",y1:"-10111.60892",x2:"12379.5556",y2:"-10111.60892",gradientTransform:"matrix(0.02835, 0, 0, -0.02835, -299.26929, -256.66611)",gradientUnits:"userSpaceOnUse"},[i("stop",{offset:"0","stop-color":"#fff"}),u(),i("stop",{offset:"1","stop-color":"#00732c"})])]),i("g",null,[i("g",null,[i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"57.65669",y:"1.98425",width:"42.26457",height:"43.34173"}),i("path",{class:"CDEK-widget__logo-b",d:"M89.65984,18.79367H85.20945c-8.92913,0-16.55433,22.36535-6.0378,22.36535H85.9748c3.88346,0,6.7748,1.41732,5.49921,5.21575l-1.78583,5.27244h-7.2l-5.811-.05669c-7.42677-.085-12.24567-3.74173-13.9748-9.26929-1.84252-5.9811.7937-18.53858,8.44724-26.53228C75.6,11.16847,81.75118,8.36218,89.74488,8.36218h14.59843l-2.26772,6.51969c-1.53071,4.22362-4.53543,3.91181-6.26457,3.91181H89.65984Z",transform:"translate(-4.47874 -6.34958)"})]),u(),i("g",null,[i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"133.73858",y:"18.3685",width:"32.17323",height:"10.57323"}),u(),i("path",{class:"CDEK-widget__logo-b",d:"M170.33386,24.74643H146.74961c-3.88346,0-5.64094,1.02047-6.32126,3.31654l-2.211,7.2h23.55591c3.85512,0,5.64094-1.07717,6.32126-3.37323Z",transform:"translate(-4.47874 -6.34958)"})]),i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"127.98425",y:"1.98425",width:"43.39843",height:"43.34173"}),u(),i("path",{class:"CDEK-widget__logo-b",d:"M164.60787,41.159H141.02362c-3.88346,0-5.64094,1.07717-6.32126,3.31654l-2.211,7.17165H156.0189c3.88346,0,5.66929-1.07717,6.34961-3.31654Zm0,0h0ZM175.80472,8.36218H152.27716c-3.91181,0-5.69764,1.02047-6.378,3.28819l-2.211,7.14331h23.55591c3.91181,0,5.66929-1.07717,6.378-3.31654Z",transform:"translate(-4.47874 -6.34958)"})])]),u(),i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"89.85827",y:"1.98425",width:"43.93701",height:"43.34173"}),i("path",{class:"CDEK-widget__logo-b",d:"M116.674,18.737h5.86772c4.96063,0,3.82677,6.26457,1.27559,12.3874-2.18268,5.35748-6.15118,10.03465-10.885,10.03465H103.1811c-3.88346,0-5.69764,1.07717-6.463,3.31654L94.337,51.64721h7.17165l6.97323-.05669c6.20787-.085,11.33858-0.51024,17.23465-5.86772,6.29291-5.64094,13.63465-20.32441,12.3874-28.77165-0.99213-6.66142-4.59213-8.589-13.20945-8.589H109.07716L99.94961,35.20627h5.811c3.45827,0,5.21575.05669,7.02992-4.90394Z",transform:"translate(-4.47874 -6.34958)"})]),u(),i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"161.88661",y:"1.95591",width:"50.79685",height:"43.37008"}),i("path",{class:"CDEK-widget__logo-b",d:"M166.36535,51.64721h11.08346l4.79055-13.63465L187.2,33.84564l3.88346,12.33071c1.24724,3.79843,2.49449,5.47087,5.21575,5.47087h8.47559L196.04409,27.411,217.10551,8.30548h-13.6063l-12.86929,13.578c-1.44567,1.61575-2.948,3.14646-4.50709,5.04567H185.9811l6.463-18.62362h-11.1685Z",transform:"translate(-4.47874 -6.34958)"})])]),u(),i("g",null,[i("g",null,[i("rect",{class:"CDEK-widget__logo-a",width:"47.2252",height:"47.2252"}),u(),i("path",{class:"CDEK-widget__logo-c",d:"M22.22362,7.11493L24.57638,6.633l2.35276-.22677h2.35276L31.578,6.633l2.23937,0.45354L36,7.7669l2.09764,0.85039,2.0126,1.07717,1.89921,1.2189,1.75748,1.41732,1.61575,1.5874,1.474,1.75748,1.30394,1.89921,1.13386,2.04094,0.90709,2.18268,0.70866,2.29606,0.48189,2.35276,0.25512,2.3811v2.32441l-0.25512,2.29606-0.45354,2.26772-0.652,2.15433-0.85039,2.126-1.07717,1.98425-1.24724,1.89921-1.41732,1.75748-1.5874,1.64409-1.75748,1.474-1.89921,1.30394-2.04094,1.10551-2.18268.93543-2.29606.70866-2.35276.48189-2.35276.22677H26.90079l-2.29606-.22677L22.337,52.83777l-2.18268-.68031-2.09764-.85039-1.98425-1.07717-1.89921-1.24724L12.3874,47.56532l-1.61575-1.5874-1.474-1.72913L7.9937,42.32123,6.85984,40.28029,5.95276,38.126l-0.737-2.29606L4.7622,33.44879,4.53543,31.096V28.77162L4.7622,26.47556l0.45354-2.23937,0.68031-2.18268,0.85039-2.09764,1.04882-2.0126,1.24724-1.89921,1.41732-1.75748,1.5874-1.64409,1.75748-1.474,1.89921-1.30394,2.04094-1.13386,2.18268-.90709Z",transform:"translate(-4.47874 -6.34958)"})]),i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"9.26929",y:"14.14488",width:"36.17008",height:"26.70236"}),u(),i("path",{class:"CDEK-widget__logo-d",d:"M17.40472,21.82674A46.83559,46.83559,0,0,0,27.18425,23.074c5.726,0.22677,11.99055.05669,19.53071,0h2.60787c0.62362,0,.7937.68031,0.11339,0.90709l-2.29606.652C32.99528,28.885,22.252,34.15745,14.51339,46.885c-0.31181.51024-.7937,0.25512-0.737-0.3685,0.822-5.89606,1.67244-10.77165,4.337-16.15748-1.53071-2.211-1.10551-4.62047-2.69291-8.13543-0.17008-.39685-0.3685-0.737-0.45354-0.99213-0.19843-.62362.14173-0.822,0.62362-0.652C16.7811,21.08973,15.93071,21.51493,17.40472,21.82674Z",transform:"translate(-4.47874 -6.34958)"})]),i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"8.16378",y:"14.0315",width:"31.63465",height:"23.83937"}),u(),i("path",{class:"CDEK-widget__logo-e",d:"M17.348,21.7984a51.83,51.83,0,0,0,9.77953,1.24724c5.13071,0.17008,10.68661.05669,17.12126,0-12.64252,4.05354-22.8189,9.89291-30.189,21.14646a45.40689,45.40689,0,0,1,4.05354-13.86142c-0.3685-.51024-0.737-1.02047-1.10551-1.5874,0.085-.17008.17008-0.39685,0.25512-0.56693a46.864,46.864,0,0,1-4.62047-7.48346c0-.31181.31181-0.34016,0.652-0.25512A20.61427,20.61427,0,0,0,17.348,21.7984Z",transform:"translate(-4.47874 -6.34958)"})]),i("g",null,[i("rect",{class:"CDEK-widget__logo-a",x:"5.86772",y:"9.89291",width:"37.27559",height:"27.72283"}),u(),i("path",{class:"CDEK-widget__logo-d",d:"M15.052,17.68816a56.892,56.892,0,0,0,9.80787,1.24724c5.726,0.17008,11.9622,0,19.50236,0h2.63622c0.652,0,.822.68031,0.14173,0.85039l-2.32441.70866c-14.11654,4.252-25.285,10.34646-33.02362,23.10236-0.34016.51024-.87874,0.4252-0.737-0.17008,0.99213-5.83937,2.06929-11.84882,4.79055-17.14961A44.09769,44.09769,0,0,1,10.8,17.94328c-0.17008-.4252-0.31181-0.68031-0.39685-0.93543-0.17008-.652.22677-0.90709,0.737-0.652A25.08521,25.08521,0,0,0,15.052,17.68816Z",transform:"translate(-4.47874 -6.34958)"})])])])])]),i("div",{class:"CDEK-widget__photo"},[i("div",{class:"CDEK-widget__photo-block"},[i("div",{class:"CDEK-widget__photo-block__cross"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15.6435 15.64375"},[i("path",{class:"cross",d:"M8.882,7.821L15.423,1.28A0.75024,0.75024,0,1,0,14.362.219L7.821,6.76,1.28,0.22A0.75024,0.75024,0,0,0,.219,1.281L6.76,7.822l-6.54,6.54a0.74989,0.74989,0,1,0,1.06,1.061L7.821,8.882l6.541,6.541a0.74989,0.74989,0,1,0,1.06-1.061Z",transform:"translate(0.00075 0.00078)"})])]),i("img",{src:"#"})])]),u(),i("div",{class:"CDEK-widget__sidebar-button__hint",id:"list"},"Список пунктов выдачи заказов"),u(),i("div",{class:"CDEK-widget__sidebar-button__hint",id:"delivery"},"Способ доставки"),u(),i("div",{class:"CDEK-widget__sidebar-button__hint",id:"point1"},"Расчет картой"),u(),i("div",{class:"CDEK-widget__sidebar-button__hint",id:"point2"},"Постаматы СДЭК"),u(),i("div",{class:"CDEK-widget__sidebar-button__hint",id:"point3"},"С примеркой"),u(),i("div",{class:"CDEK-widget__sidebar-button__hint",id:"contacts"},"Служба поддержки"),u(),i("div",{id:"oDcfl_SDEK_closer",class:"SDEK_closer"})])])],-1);function pe(l,p,f,o,h,g){return b(),E("div",le,[i("button",{onClick:p[0]||(p[0]=a=>h.orderWidjet.open()),style:{background:"rgb(76, 175, 80)",cursor:"pointer",width:"100%",border:"medium none","border-radius":"6px","font-size":"16px",padding:"2%","margin-top":"1%"}}," Выбрать пунк выдачи "),de,_e])}const ue=Z(ce,[["render",pe]]);async function fe(l){try{var p=await L({url:`${P}api/v0.1/user/number`,method:"get",headers:{},withCredentials:!0,data:l});return p}catch(f){return f.response}}const ge={components:{SDEKcart:ue},el:"#check_form",data(){return{USER_STATE:this.$store.getUser,delivery_info:null,user_default_field_number:"",user_number:"",user_default_number:!0,user_number_val:!0}},async mounted(){let l=await fe();this.user_default_field_number=l.data.number},methods:{order_info_select(){return this.delivery_info==null?{status:!1,message:"Не указана доставка"}:this.user_default_number?{status:!0,number:{default:!0,number:""}}:this.user_number.match(/79[0-9]{9}/)?(this.user_number_val=!0,{status:!0,number:{default:!1,number:this.user_number}}):(this.user_number_val=!1,{status:!1,message:"Не верно указан номер"})},async onChoise(l){this.delivery_info=await l,this.$emit("delivery",this.delivery_info)}},setup(){const l=te({adress:{value:""},index:{value:""}}),p={adress:{value:{required:N.withMessage("Требуется",R)}},index:{value:{required:N.withMessage("Требуется",R)}}},f=oe(p,l);return{state:l,v$:f}}},A=l=>(V("data-v-0de29960"),l=l(),I(),l),he={id:"check_form"},ye=A(()=>i("p",{class:"VAG",align:"left"},"Доставка",-1)),me={class:"relative"},ve={key:1},we={key:0,style:{color:"brown"}},Ce=A(()=>i("span",{class:"floating-label active"},"Номер телефона",-1)),ke={class:"h_sto"},be={key:0},Ee={class:"relative"},De=A(()=>i("span",{class:"floating-label active"},"Цена",-1)),Ke={class:"relative"},je=A(()=>i("span",{class:"floating-label active"},"Номер постмата",-1)),qe={class:"relative"},xe=A(()=>i("span",{class:"floating-label active"},"Адрес",-1)),Se={class:"relative"},Ae=A(()=>i("span",{class:"floating-label active"},"Примерное время доставки",-1));function Ze(l,p,f,o,h,g){const a=U("SDEKcart");return b(),E("div",he,[ye,i("div",me,[h.user_default_number?q((b(),E("input",{key:0,disabled:"",type:"text","onUpdate:modelValue":p[0]||(p[0]=_=>h.user_default_field_number=_)},null,512)),[[x,h.user_default_field_number]]):(b(),E("div",ve,[h.user_number_val?M("",!0):(b(),E("p",we,"Неверно указан номер, пример: 79111111111")),q(i("input",{type:"text","onUpdate:modelValue":p[1]||(p[1]=_=>h.user_number=_)},null,512),[[x,h.user_number]])])),Ce]),h.user_default_number?(b(),E("button",{key:0,onClick:p[2]||(p[2]=_=>h.user_default_number=!h.user_default_number),style:{background:"rgb(76, 175, 80)",cursor:"pointer",width:"100%",border:"medium none","border-radius":"6px","font-size":"16px",padding:"2%"}}," Изменить телефон ")):M("",!0),i("div",ke,[h.delivery_info?(b(),E("div",be,[i("div",Ee,[q(i("input",{type:"text",disabled:"","onUpdate:modelValue":p[3]||(p[3]=_=>h.delivery_info.price=_)},null,512),[[x,h.delivery_info.price]]),De]),i("div",Ke,[q(i("input",{type:"text",disabled:"","onUpdate:modelValue":p[4]||(p[4]=_=>h.delivery_info.id=_)},null,512),[[x,h.delivery_info.id]]),je]),i("div",qe,[q(i("input",{type:"text",disabled:"","onUpdate:modelValue":p[5]||(p[5]=_=>h.delivery_info.PVZ.Address=_)},null,512),[[x,h.delivery_info.PVZ.Address]]),xe]),i("div",Se,[q(i("input",{type:"text",disabled:"","onUpdate:modelValue":p[6]||(p[6]=_=>h.delivery_info.term=_)},null,512),[[x,h.delivery_info.term]]),Ae])])):M("",!0)]),S(a,{products:this.$store.getUser.basket,onOnChoise:p[7]||(p[7]=_=>g.onChoise(_))},null,8,["products"])])}const G=Z(ge,[["render",Ze],["__scopeId","data-v-0de29960"]]);async function Le(l){try{var p=await L({url:`${P}api/v0.1/payments/create/`,method:"post",headers:{},withCredentials:!0,data:{...l}});return p}catch(f){return f.response}}async function Pe(l){try{var p=await L({url:`${P}api/v0.1/beekeeper_web_api/order/create`,method:"post",headers:{},withCredentials:!0,data:{delivery_price:l}});return p}catch(f){return f.response}}async function Me(l){try{var p=await L({url:`${P}api/v0.1/delivery/create/lait`,method:"post",headers:{},withCredentials:!0,data:l});return p}catch(f){return f.response}}const Oe={el:"#sub_order",props:["items","forms_validate","delivery_info"],data(){return{order_create:null}},methods:{async submin_order(){if(await this.$emit("forms_validate_met"),this.forms_validate.status){let l=await Pe(this.delivery_info.price);this.order_create=l.data,await this.create_delivery_lait()?await this.create_payment():alert("С доставкой произошла проблема, попробуйте перезагрузить страницу")}else alert(this.forms_validate.message)},async create_payment(){let l=await Le({payment_service:"yookassa",order_service:"online_shop",order_id:this.order_create.id,currency:"RUB"});document.location.href=l.data.payment_url},async create_delivery_lait(){return(await Me({order_id:this.order_create.id,PVZ:this.delivery_info.id,price:this.delivery_info.price,user_number:this.forms_validate.number.default?void 0:this.forms_validate.number.number})).status==200}}},$=l=>(V("data-v-01f8de78"),l=l(),I(),l),Ve={id:"sub_order",class:"w-sto"},Ie=$(()=>i("div",{class:"fon_btn"},null,-1)),Te=$(()=>i("button",{class:"w-sto"},[i("div",{class:"fon_btn"}),u(" Добавить товар")],-1));function Be(l,p,f,o,h,g){const a=U("RouterLink");return b(),E("div",Ve,[f.items.length?(b(),H(a,{key:0,to:"/checkout"},{default:O(()=>[i("button",{onClick:p[0]||(p[0]=(..._)=>g.submin_order&&g.submin_order(..._)),class:"w-sto"},[Ie,u("Оплатить онлайн")])]),_:1})):(b(),H(a,{key:1,to:"/catalog"},{default:O(()=>[Te]),_:1}))])}const Y=Z(Oe,[["render",Be],["__scopeId","data-v-01f8de78"]]);const J=l=>(V("data-v-d3fa020c"),l=l(),I(),l),He={class:"sot-ob"},Ne={class:"wrapper flex"},Re={class:"user_card flex auto"},Ue={class:"interactiv user_card_div auto",id:"checkout"},We={class:"w-sto kor",id:"kor"},Fe=J(()=>i("p",{class:"small-big VAG"},"Оформление",-1)),Ge={class:"w-sto flex kor_block jus-sp"},$e={class:"w-sto-1000px checkout"},Ye=J(()=>i("p",{align:"left",class:"VAG small"},"Товары",-1)),Je={class:"w-sto-1000px register_zakaz"},ze={el:"#checkout",components:{BasketInfo:se,Checkout:G,ProductListInfo:W,Submit_order:Y,OrderProductList:F},data(){return{forms_validate:!1,delivery_info:{price:null}}},methods:{forms_validate_met(){this.forms_validate=this.$refs.checkout_form.order_info_select()},async delivery_price_select(l){this.delivery_info=await l}}},Xe=Object.assign(ze,{__name:"checkout",setup(l){return ie({title:"Пчелиная артель - Оформление заказа"}),(p,f)=>{const o=ne;return b(),E("div",He,[i("div",Ne,[i("div",Re,[i("div",Ue,[i("div",We,[Fe,i("div",Ge,[i("div",$e,[S(o,null,{default:O(()=>[S(G,{onDelivery:f[0]||(f[0]=h=>p.delivery_price_select(h)),ref:"checkout_form"},null,512)]),_:1}),Ye,S(F,{orderList:p.$store.getUser.basket},null,8,["orderList"])]),i("div",Je,[S(Y,{delivery_info:p.delivery_info,onForms_validate_met:p.forms_validate_met,items:p.$store.getUser.basket,forms_validate:p.forms_validate},null,8,["delivery_info","onForms_validate_met","items","forms_validate"]),S(W,{ordered:!0,items:p.$store.getUser.basket,delivery_price:p.delivery_info.price},null,8,["items","delivery_price"])])])])])])])])}}}),st=Z(Xe,[["__scopeId","data-v-d3fa020c"]]);export{st as default};
