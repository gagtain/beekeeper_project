import{a as m,o as a,e as n,h as r,F as h,r as v,c as $,G as L,f as s,t as p,E as I,l as S,m as y,p as k,k as w,B as u,q as b,z as B,s as M}from"./entry.ca6cf1a7.js";import{A as P,F as T}from"./FavoriteComp.cb99b604.js";const E={el:"#photo-album",name:"TovarMinImageList",props:["image","ImageProductList"],created(){console.log(this.ImageProductList)},methods:{a(t){t.srcElement.parentElement.parentElement.firstChild.getElementsByTagName("img")[0].src=t.srcElement.src}}},F={class:"photo-album flex",id:"photo-album"};function N(t,o,e,d,_,i){const c=L;return a(),n("div",F,[r(c,{loading:"lazy",format:"webp",onClick:o[0]||(o[0]=l=>i.a(l)),class:"add-img-tovar",src:t.$api_root+e.image},null,8,["src"]),(a(!0),n(h,null,v(e.ImageProductList,(l,g)=>(a(),$(c,{loading:"lazy",format:"webp",onClick:o[1]||(o[1]=f=>i.a(f)),key:g,class:"add-img-tovar",src:t.$api_root+l.photo},null,8,["src"]))),128))])}const V=m(E,[["render",N],["__scopeId","data-v-f91ac5c2"]]);const z={el:"#rating",name:"RatingComp",props:["rating"]},A={class:"rating-mini",id:"rating"},R={class:"normal-small",style:{display:"inline"}};function D(t,o,e,d,_,i){return a(),n("div",A,[(a(!0),n(h,null,v(Math.round(e.rating),c=>(a(),n("span",{key:c,class:"active"}))),128)),(a(!0),n(h,null,v(5-Math.round(e.rating),c=>(a(),n("span",{key:c}))),128)),s("p",R,"/"+p(Math.round(e.rating*100)/100),1)])}const j=m(z,[["render",D]]);const q={props:["select_productItem","pr"],data(){return{weight_all:!1}},methods:{select_type_weigth(t){let e=this.pr.productItemList.slice().filter(d=>d.weight.id==t)[0];this.$emit("select_product",e),console.log(this.select_productItem)},get_weight_type_list(){let t=[];return this.pr.productItemList.forEach(o=>{t.push(o.weight)}),t}}},G=t=>(k("data-v-604fa88a"),t=t(),w(),t),O={key:0,class:"variant"},H=G(()=>s("h3",null,"Размер",-1)),J={class:"flex"},K=["onClick"],Q={class:"h_sto"};function U(t,o,e,d,_,i){return e.select_productItem.weight?(a(),n("div",O,[H,s("div",J,[s("ul",{class:"variant-ul",style:I(_.weight_all?"display: block":"display: flex")},[(a(!0),n(h,null,v(i.get_weight_type_list(),(c,l)=>(a(),n("li",{onClick:g=>i.select_type_weigth(c.id),class:S([e.select_productItem.weight.id==c.id?"active":"","photo-album-li"]),key:l},[s("div",Q,[s("p",null,p(c.weight)+" гр",1)])],10,K))),128)),i.get_weight_type_list().length>2&&!_.weight_all?(a(),n("li",{key:0,onClick:o[0]||(o[0]=c=>_.weight_all=!_.weight_all)}," раскрыть ")):y("",!0),_.weight_all?(a(),n("li",{key:1,onClick:o[1]||(o[1]=c=>_.weight_all=!_.weight_all)}," скрыть ")):y("",!0)],4)])])):y("",!0)}const W=m(q,[["render",U],["__scopeId","data-v-604fa88a"]]),X={data(){return{select_productItem:null}},methods:{select_product(t){this.select_productItem=t}}};function Y(t,o,e,d,_,i){return null}const Z=m(X,[["render",Y]]);const tt={el:"#product_catalog",name:"CatalogProduct",props:["pr"],components:{TovarMinImageList:V,AddBasket:P,FavoriteComp:T,RatingComp:j,SelectVariantMenu:W},mixins:[Z],data(){return{type_weigth_id:null}},created(){this.select_productItem=this.pr.productItemList[0]}},et=t=>(k("data-v-f749c382"),t=t(),w(),t),st={class:"product",id:"product_catalog"},ot={class:"product__photo"},ct={class:"photo-container"},at={class:"photo-main"},nt=et(()=>s("div",{class:"controls"},null,-1)),_t=["src"],it={class:"product__info"},lt={class:"title"},rt={class:"small-big product__name"},dt={class:"very-small product__code"},pt={class:"price"},ut={class:"product__price small-big"},mt={class:"product__price small"};function gt(t,o,e,d,_,i){const c=u("TovarMinImageList"),l=M,g=u("rating-comp"),f=u("select-variant-menu"),x=u("AddBasket"),C=u("FavoriteComp");return a(),n("section",st,[s("div",ot,[s("div",ct,[s("div",at,[nt,s("img",{src:t.$api_root+e.pr.image,alt:"green apple slice"},null,8,_t)]),r(c,{image:e.pr.image,ImageProductList:e.pr.ImageProductList},null,8,["image","ImageProductList"])])]),s("div",it,[s("div",lt,[r(l,{"no-prefetch":"",to:`/tovar/${e.pr.id}`},{default:b(()=>[s("p",rt,p(e.pr.name),1)]),_:1},8,["to"]),s("span",dt,"COD: "+p(e.pr.id),1)]),s("div",pt,[s("span",ut,[B(p(t.select_productItem.price)+" ",1),s("span",mt,p(e.pr.price_currency),1)])]),r(g,{rating:e.pr.rating},null,8,["rating"]),r(f,{select_productItem:t.select_productItem,pr:e.pr,onSelect_product:t.select_product},null,8,["select_productItem","pr","onSelect_product"]),s("div",{style:I(t.select_productItem.weight?"margin-top: 8px":"margin-top: 56px"),class:"flex jus-sp"},[r(x,{id:t.select_productItem.id},null,8,["id"]),r(C,{id:t.select_productItem.id},null,8,["id"])],4)])])}const ft=m(tt,[["render",gt],["__scopeId","data-v-f749c382"]]);export{ft as C,j as R,W as S,V as T};
