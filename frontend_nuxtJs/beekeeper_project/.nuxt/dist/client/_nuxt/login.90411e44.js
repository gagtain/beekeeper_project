import{_ as u}from"./ImageForm.fa8064d5.js";import{h as m,i as g,a as h,P as f,b as i,e as s,f as v,s as w,D as l,E as d,o as c,p as x,l as k,B as y}from"./entry.c510a78c.js";async function T(o){try{var e=await m({url:`${g}api/token/`,method:"post",data:o,headers:{"Content-Type":"application/json"}});return e}catch(t){return t.response}}const C={el:"#login_main",methods:{set_cookie(o){var e=new Date,t=e.getTime(),r=t+1e3*3600;e.setTime(r),document.cookie="assess="+o.data.access+";expires="+e.toUTCString()+";path=/",document.cookie="refresh="+o.data.refresh+";expires="+e.toUTCString()+";path=/"},async login_request(o){o.preventDefault;let e={username:this.username,password:this.password},t=await T(JSON.stringify(e));return console.log(t),t.status==200?(this.set_cookie(t),f(this,{path:"/profile"})):t.status==401?(console.log("asd"),this.login_401=!0):t==404&&alert("сайт на проверке, подождите 5 минут"),!1}},data(){return{username:"gag",password:"13",login_401:!1}}},N=o=>(x("data-v-7ecd6837"),o=o(),k(),o),S={id:"login_main"},V={class:"sot-ob"},I={class:"wrapper flex"},b={class:"login-page flex"},B={class:"form"},D={class:"flex h_sto"},U={class:"login-form auto"},j={class:"error_list"},q={key:0},E=N(()=>s("p",{class:"message"},[y(" Not registered? "),s("a",{href:"#"},"Create an account")],-1));function A(o,e,t,r,n,p){const _=u;return c(),i("div",S,[s("div",V,[s("div",I,[s("div",b,[v(_),s("div",B,[s("p",{class:"small login-p",onClick:e[0]||(e[0]=a=>o.alert(1234))},"Войти в аккаунт"),s("div",D,[s("div",U,[s("div",j,[n.login_401?(c(),i("div",q," Нету учетной записи с введенными данными ")):w("",!0)]),l(s("input",{type:"text",placeholder:"username","onUpdate:modelValue":e[1]||(e[1]=a=>n.username=a)},null,512),[[d,n.username]]),l(s("input",{type:"password",placeholder:"password","onUpdate:modelValue":e[2]||(e[2]=a=>n.password=a)},null,512),[[d,n.password]]),s("button",{onClick:e[3]||(e[3]=a=>p.login_request(a))},"login"),E])])])])])])])}const M=h(C,[["render",A],["__scopeId","data-v-7ecd6837"]]);export{M as default};
