import{a as c,b as o}from"./main.ddb459a7.js";import{_,c as i,a as n,t as d,g as l,o as p,p as w,f as u}from"./entry.ee6704f2.js";async function h(t){try{var e=await c({url:`${o}api/v0.1/news/${t}`,method:"get",headers:{}});return e}catch(s){return s.response}}async function y(t){try{var e=await c({url:`${o}api/v0.1/news/${t}`,method:"delete",headers:{}});return e}catch(s){return s.response}}const m={async mounted(){let e=(await h(this.$route.params.id)).data;try{e.context=e.context.replace('src="',`src="${this.$api_root}media/`),console.log(e.context),window.screen.width<=900&&(e.context=e.context.replace(/width: \d{1,2}%/,"width: 100%"))}catch{}this.news=e,console.log(this.news)},methods:{async delete_news(){await y(this.news.id),this.$router.push("/admin/news")}},data(){return{news:null}}},x=t=>(w("data-v-c2b9aca2"),t=t(),u(),t),v={key:0,class:"news_container",style:{padding:"3%"}},f={style:{width:"100%",display:"flex","justify-content":"end"}},b={class:"news_title"},g=x(()=>n("br",null,null,-1)),$=["innerHTML"];function k(t,e,s,I,a,r){return a.news?(p(),i("div",v,[n("div",f,[n("button",{onClick:e[0]||(e[0]=S=>r.delete_news()),style:{width:"auto",margin:"0",background:"var(--red)"},class:"btn"},"Удалить")]),n("h1",b,d(a.news.title),1),g,n("p",{class:"news_text",innerHTML:a.news.context},null,8,$)])):l("",!0)}const N=_(m,[["render",k],["__scopeId","data-v-c2b9aca2"]]);export{N as default};
